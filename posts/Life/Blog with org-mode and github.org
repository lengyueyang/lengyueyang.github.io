#+BEGIN_COMMENT
.. title: Blog with org-mode and github with Hexo [用 Org-mdoe、Hexo 和 github 搭建博客]
.. slug: blog-with-org-mode-and-github
.. date: 2016-03-11 19:26:52 UTC+08:00
.. tags: Blog, Github, Org-mode, Emacs
.. category: EMACS
.. link: 
.. description: 
.. type: text
#+END_COMMENT

#+TITLE: Blog with org-mode and github [用 Org-mdoe 和 github 搭建博客]
#+DATE: 2016-03-11
#+LAYOUT: post
#+TAGS: Blog, Github, Org-mode, Emacs
#+CATEGORIES: EMACS

* 写在前面
- 长久以来，一直想建立自己的博客，今年开始学习 Emacs，偶遇几位大神用 Hexo 建立博客，于是也动手搭建自己的博客，记录学习过程，记录向数据科学转型学习点滴
- 本文简述用 Org-mode 写博客，通过 Hexo 搭建博客的过程，我的博客见[[http://lengyueyang.github.io/][一家之言]]

{{{TEASER_END}}}


* 用 Hexo 搭建博客
主要参照 CKJOKER[fn:1]和岁月如歌[fn:2]及漠然[fn:3]的博客
- 我本人用 Archlinux，先安装 npm，再通过 npm 安装 hexo
  #+BEGIN_SRC sh
    sudo pacman -S npm
    mkdir hexo
    npm install -g hexo
    npm install -g hexo-cli
    hexo init
    hexo install
    hexo server
  #+END_SRC
这时候在浏览器中打开 http://0.0.0.0:4000/ 应该能看到效果如图所示
[[file:http://7xrrxa.com1.z0.glb.clouddn.com/hexo_start.png]]

- 安装 hexo 的一些插件

  #+BEGIN_SRC sh
    npm install hexo-generator-index --save
    npm install hexo-generator-archive --save
    npm install hexo-generator-category --save
    npm install hexo-generator-tag --save
    npm install hexo-server --save
    npm install hexo-deployer-git --save
    npm install hexo-deployer-heroku --save
    npm install hexo-deployer-rsync --save
    npm install hexo-deployer-openshift --save
    npm install hexo-renderer-marked@0.2 --save
    npm install hexo-renderer-stylus@0.2 --save
    npm install hexo-generator-feed@1 --save
    npm install hexo-generator-sitemap@1 --save
  #+END_SRC

* 博客源代码托管到 Github 上
- 建立 Github 账号，设置本地 SSH，与 Github 连接
- 修改 _config.yml，增加
  #+BEGIN_SRC sh
    deploy:
    type: git
    repo: git@github.com:xxx/xxx.github.io.git
    branch: master
  #+END_SRC
及根据参考修改其他配置
- 使用 Next 主题，根据配置文件说明配置自己的博客

  #+BEGIN_SRC sh
    git clone https://github.com/iissnan/hexo-theme-next themes/next
  #+END_SRC
- 打开自己的博客，修改美化相应选项

  #+BEGIN_SRC sh
    hexo clean
    hexo g
    hexo g
    hexo d
  #+END_SRC

* 用 Org-mode 写博客
主要参照 CodeFalling[fn:4]和 zilongshanren[fn:5]
- 用[[https://github.com/CodeFalling/blog-admin][blog-admin]] 做前端，参照文件说明配置
- 用[[https://github.com/CodeFalling/hexo-renderer-org][hexo-renderer-org]] 将写好的.org 文件转化成 hexo 识别的 md 文件并发布
- 参照 CodeFalling 和 zilongshanren 的 github 的 Spacemacs 私人配置更改自己的配置
* 一些问题
** Org-mode 图片插入
- 安装[[https://github.com/CodeFalling/hexo-asset-image][hexo-asset-image]]， 安装后在.md 文件中插入图片没有问题，在 org 中插入有问题
- Org 中插入图片或者链接格式如下
#+BEGIN_SRC org
[[file:filedir/file OR html adress]]
#+END_SRC
- 改变图片大小，位置，加入图片说明可增加以下代码
#+BEGIN_SRC org
#+CAPTION: title with figure number
#+ATTR_HTML: :width 200px :align left :title The tile of picture without figure number
#+END_SRC
* Creative Commons licensing
#+BEGIN_QUOTE
TITLE:  Blog with org-mode and github [用 Org-mdoe 和 github 搭建博客]\\
AUTHOR: lengyueyang \\
DATE: 2016-03-11 19:26:52 UTC+08:00\\
UPDATED: [2018-01-29 Mon] \\
LICENSE: The blog is licensed under a [[http://creativecommons.org/licenses/by-sa/4.0/][Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License]], commercial use is not allowed, for any reprint, please indicate address and signature.
https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png
#+END_QUOTE

* Footnotes

[fn:5] https://github.com/zilongshanren

[fn:4] https://github.com/CodeFalling

[fn:3] http://mritd.me/2015/12/31/Github-%E6%90%AD%E5%BB%BA-Hexo-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/

[fn:2] http://lovenight.github.io/2015/11/10/Hexo-3-1-1-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/

[fn:1] https://ckjoker.github.io/2015/01/27/Linux-github-hexo-blog/
