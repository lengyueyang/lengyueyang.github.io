<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>深度识医</title>
  
  <subtitle>究天人之际    成一家之言</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://lengyueyang.github.io/"/>
  <updated>2017-12-11T14:37:59.870Z</updated>
  <id>http://lengyueyang.github.io/</id>
  
  <author>
    <name>冷月阳</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Archlinux Shadowsocks 配置</title>
    <link href="http://lengyueyang.github.io/2017/12/11/Archlinux%20Shadowsocks%20%E9%85%8D%E7%BD%AE/"/>
    <id>http://lengyueyang.github.io/2017/12/11/Archlinux Shadowsocks 配置/</id>
    <published>2017-12-11T00:00:00.000Z</published>
    <updated>2017-12-11T14:37:59.870Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org818fdba" class="outline-2"><h2 id="org818fdba">购买 socks5 帐号</h2><div class="outline-text-2" id="text-org818fdba"><p>本人购买倚天剑 socks 帐号网址如下:<a href="https://a.aiguobit.com/users/ucenter" target="_blank" rel="noopener">https://a.aiguobit.com/users/ucenter</a>或者从 github 进入<a href="https://github.com/itrump/ssfree/blob/master/cn/%E5%80%9A%E5%A4%A9%E5%89%91ss%E6%96%B0%E7%BD%91%E7%AB%99.md" target="_blank" rel="noopener">https://github.com/itrump/ssfree/blob/master/cn/倚天剑ss新网站.md</a></p><a id="more"></a></div></div><div id="outline-container-org5c2b1ec" class="outline-2"><h2 id="org5c2b1ec">在 Archlinux 安装 shadsocks</h2><div class="outline-text-2" id="text-org5c2b1ec"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo pacman -S shadowsocks</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgd698feb" class="outline-2"><h2 id="orgd698feb">在 Documents 下建立 shadowsocks.json, 加入帐号配置</h2><div class="outline-text-2" id="text-orgd698feb"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    <span class="string">"server"</span>:<span class="string">"my_server_ip"</span>,</span><br><span class="line">    <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="string">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="string">"server_port"</span>:my_server_port,</span><br><span class="line">    <span class="string">"password"</span>:<span class="string">"my_password"</span>,</span><br><span class="line">    <span class="string">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="string">"method"</span>:<span class="string">"aes-256-cfb"</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3920104" class="outline-2"><h2 id="org3920104">SS 启动及开机启动</h2><div class="outline-text-2" id="text-org3920104"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">sslocal -c Documents/VPN/Shadowsocks/shadowsocks2.json</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> shadowsoks.service</span><br><span class="line"></span><br><span class="line">sudo pacman -S supervisor</span><br><span class="line"></span><br><span class="line">sudo gedit /etc/supervisord.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add</span></span><br><span class="line"></span><br><span class="line">[program:shadowsocks]</span><br><span class="line"><span class="built_in">command</span>=sslocal -c /home/lengyue/Documents/VPN/Shadowsocks/shadowsocks2.json</span><br><span class="line">autostart=<span class="literal">true</span></span><br><span class="line">autorestart=<span class="literal">true</span></span><br><span class="line">user=root</span><br><span class="line"><span class="built_in">log</span>_stderr=<span class="literal">true</span></span><br><span class="line">logfile=/var/<span class="built_in">log</span>/shadowsocks.log</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> supervisord.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgf2755b7" class="outline-2"><h2 id="orgf2755b7">使用 privoxy 使 http 走 socks5</h2><div class="outline-text-2" id="text-orgf2755b7"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S privoxy</span><br><span class="line"></span><br><span class="line">sudo gedit /etc/privoxy/config</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add</span></span><br><span class="line"></span><br><span class="line">listen-address  <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">8118</span>/</span><br><span class="line">forward-socks5 /    <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">1080</span> .</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> prioxy.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge17f65c" class="outline-2"><h2 id="orge17f65c">emacs 代理，见 lengyueyang.org proxy 配置部分.</h2></div><div id="outline-container-org57f9fb5" class="outline-2"><h2 id="org57f9fb5">使用 proxychains 代理程序</h2><div class="outline-text-2" id="text-org57f9fb5"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S proxychains</span><br><span class="line"></span><br><span class="line">sudo gedit /etc/proxychains.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># change to</span></span><br><span class="line"></span><br><span class="line">socks5 <span class="number">127.0</span>.<span class="number">0.1</span> <span class="number">1080</span></span><br></pre></td></tr></table></figure></div></div></div>Last Updated 2017-12-11 Mon 22:37 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org818fdba&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org818fdba&quot;&gt;购买 socks5 帐号&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org818fdba&quot;&gt;
&lt;p&gt;
本人购买倚天剑 socks 帐号
网址如下:
&lt;a href=&quot;https://a.aiguobit.com/users/ucenter&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://a.aiguobit.com/users/ucenter&lt;/a&gt;
或者从 github 进入
&lt;a href=&quot;https://github.com/itrump/ssfree/blob/master/cn/%E5%80%9A%E5%A4%A9%E5%89%91ss%E6%96%B0%E7%BD%91%E7%AB%99.md&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/itrump/ssfree/blob/master/cn/倚天剑ss新网站.md&lt;/a&gt;
&lt;/p&gt;
    
    </summary>
    
      <category term="LINUX" scheme="http://lengyueyang.github.io/categories/LINUX/"/>
    
    
      <category term="Archlinux" scheme="http://lengyueyang.github.io/tags/Archlinux/"/>
    
      <category term="Shadowsocks" scheme="http://lengyueyang.github.io/tags/Shadowsocks/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学与统计-高等代数- n 维向量空间 n 维向量空间 \(k^n\)</title>
    <link href="http://lengyueyang.github.io/2017/10/09/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E4%B8%8E%E7%BB%9F%E8%AE%A1-%E9%AB%98%E7%AD%89%E4%BB%A3%E6%95%B0-n%E7%BB%B4%E5%90%91%E9%87%8F%E7%A9%BA%E9%97%B4K%5En/"/>
    <id>http://lengyueyang.github.io/2017/10/09/数据科学-数学与统计-高等代数-n维向量空间K^n/</id>
    <published>2017-10-09T00:00:00.000Z</published>
    <updated>2017-10-09T14:54:33.124Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org895ed2c" class="outline-2"><h2 id="org895ed2c">n 维向量空间 \(K^n\) 及其子空间</h2><div class="outline-text-2" id="text-org895ed2c"><p>取定一个数域 K, 设 n 是任意给定的一个正整数. 令 \[K^n = {(a_1, a_2, ⋯, a_n) | a_i \in K, i = 1,2,⋯,n}\]</p><p>在 \(K^n\) 中规定加法运算如下:\[(a_1, a_2, \cdots, a_n) + (b_1, b_2, ⋯, b_n) \xlongequal{def} (a_1+b_1, a_2+b_2, \cdots, a_n+b_n)\]</p><a id="more"></a><p>在 K 的元素与 \(K^n\) 的元素之间规定数量乘法运算如下:\[k(a_1, a_2, \cdots, a_n) \xlongequal{def} (ka_1, ka_2, \cdots, ka_n)\]</p><p>加法与数量乘法满足的 8 条运算法则: 对于 \(\symbf{α, \beta, γ} \in K^n \quad k, l \in K\), 有 <br>(1) \(\symbf{α} + \symbf{\beta} = \symbf{\beta} + \symbf{α}\) <br>(2) \((\symbf{α} + \symbf{\beta}) + \symbf{γ} = \symbf{α} + (\symbf{\beta} + \symbf{γ})\) <br>(3) 把元素 \((0, 0, \cdots, 0)\) 记作 \(\symbf{0}\), 它使得 \(\symbf{0} + \symbf{α} = \symbf{α} + \symbf{0} = \symbf{α}\), 称 \\(symbf{0}\) 是 \(K^n\) 的 <b>零元素</b> <br>(4) 对于 \(\symbf{α} = (a_1, a_2, \cdots, a_n) \in K^n\), 令\[{-}\symbf{α} \xlongequal{def} (-a_1, -a_2, \cdots, -a_n) \in K^n\], 有\[\symbf{\alpha} + (- \symbf{α}) = (- \symbf{\alpha}) + \symbf{\alpha} = \symbf{0}\], 称 \(- \symbf{\alpha}\) 是 \(\symbf{α}\) 的 <b>负元素</b> <br>(5) \(1 \symbf{α} = \symbf{α}\) <br>(6) \((kl)\symbf{α} = k(l \symbf{\alpha})\) <br>(7) \((k+l) \symbf(α) = k \symbf{\alpha} + l \symbf{\alpha}\) <br>(8) \(k(\symbf{\alpha} + \symbf{\beta}) = k \symbf{α} + l \symbf{\beta}\)</p>\begin{de}[n 维向量空间定义]\end{de}<p>数域 K 上所有 n 元有序数组组成的集合 \(K^n\), 连同定义在它上面的加法运算和数量乘法运算, 及其满足的 8 条运算法则一起, 称为数域 K 上的一个 <b>n 维向量空间</b>. \(K^n\) 的元素称为 <b>n 维向量</b>; 设向量 \(\symbf{α} = (a_1, a_2, \cdots, a_n)\), 称 \(a_i\) 是 \(\symbf{α}\) 的第 i 个分量.</p><p>n 元有序数组写成一行称为行向量, 写成一列称为列向量, 列向量可以看成是行向量的转置.</p><p>在 \(K^n\) 中, 给定向量 \(\symbf{α_1, α_2, ⋯, α_s}\), 对于 \(\symbf{β} \in K^n\), 如果存在 K 中的一组数 \(c_1, c_2, ⋯, c_s\), 使得\[\symbf{\beta} = c_1 \symbf{α_1} + c_2 \symbf{α_2} + ⋯ c_s \symbf{α_s}\], 那么称 \(\symbf{β}\) 可以由 \(\symbf{α_1, α_2, ⋯, α_s}\) <b>线性表出</b>.</p>\begin{de}[线性子空间定义]\end{de}<p>\(K^n\) 的一个非空子集 U 如果满足: <br>(1) 加法封闭: \(\symbf{\alpha, γ} \in U \Longrightarrow (\symbf{α} + \symbf{\gamma}) \in U\), <br>(2) 数量乘法封闭: \(\symbf{α} \in U, k \in U \Longrightarrow k \symbf{α} \in U\), <br>那么称 U 是 \(K^n\) 的线性子空间, 简称为子空间.</p><p>\({0}\) 是 \(K^n\) 的一个子空间, 称它的零子空间. \(K^n\) 本身也是其一个子空间.</p><p>向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 的所有线性组合组成的集合 W 是 \(K^n\) 的一个子空间, 称它为 \(\symbf{α_1, α_2, ⋯, α_s}\) <b>生成(或张成)的子空间</b>, 记作\[⟨\symbf{α_1, α_2, ⋯, α_s}⟩\]</p><p>\begin{mingti}[线性标出命题]\end{mginti}数域 K 上的 n 元线性方程组 \(x_1\symbf{α_1} + x_2\symbf{α_2} + \cdots + x_n\symbf{α_n} = \symbf{\beta}\) 有解 <br>\(⟺\) \(\symbf{\beta}\)可以由 \(\symbf{α_1, α_2, ⋯, α_n}\) 线性标出 <br>\(⟺\) \(\symbf{\beta} \in \symbf{α_1, α_2, ⋯, α_n}\)</p></div></div><div id="outline-container-org504b803" class="outline-2"><h2 id="org504b803">线性相关与线性无关的向量组</h2><div class="outline-text-2" id="text-org504b803">\begin{de}[线性相关定义]\end{de}<p>\(K^n\) 中向量组 \(\symbf{α_1, α_2, ⋯, α_s}(s ⩾ 1)\) 称为 <b>线性相关</b> 的, 如果有 K 中不全为 0 的数 \(k_1, \cdots, k_s\), 使得\[k_1\symbf{α_1} + \cdots + k_s\symbf{α_s} = \symbf{0}\].</p>\begin{de}[线性相关定义]\end{de}<p>\(K^n\) 中向量组 \(\symbf{α_1, α_2, ⋯, α_s}(s ⩾ 1)\) 称为 <b>线性无关</b> 的, 即如果有从\[k_1\symbf{α_1} + \cdots + k_s\symbf{α_s} = \symbf{0}\] 可以推出所有系数 \(k_1, \cdots, k_s\) 全为 0, 那么称向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 是 <b>线性无关</b> 的.</p><p>线性相关与线性无关是线性代数中最基本的概念之一, 可以从几个角度来考察线性相关的向量组与线性无关的向量组的本质区别: <img src="./MSimg/MS-3-4-2-1.png" alt="MS-3-4-2-1.png"><img src="./MSimg/MS-3-4-2-2.png" alt="MS-3-4-2-2.png"></p>\begin{mingti}[线性表出充要条件命题]\end{mingti}<p>设向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性无关, 则向量 \(\symbf{\beta}\) 可以由  \(\symbf{α_1, α_2, ⋯, α_s}\) 线性表出的充要条件是  \(\symbf{α_1, α_2, ⋯, α_s, \beta}\) 线性相关.</p>\begin{cor}[线性表出充要条件推论]\end{cor}<p>设向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性无关, 则向量 \(\symbf{\beta}\) 不能由  \(\symbf{α_1, α_2, ⋯, α_s}\) 线性表出的充要条件是 \(\symbf{α_1, α_2, ⋯, α_s, \beta}\) 线性无关.</p></div></div><div id="outline-container-org999c86e" class="outline-2"><h2 id="org999c86e">向量组的秩</h2><div class="outline-text-2" id="text-org999c86e">\begin{de}[极大线性无关组定义]\end{de}<p>向量组的一个部分称为一个 <b>极大线性无关组</b>, 如果这个本身是线性无关的, 但是从这个向量组的其余向量(如果还有的话)中任取一个添进去, 得到的新的部分组都线性相关.</p>\begin{de}[向量组等价定义]\end{de}<p>如果向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 的每一个向量都可以由向量组 \(\beta_1, β_2, ⋯, \beta_r\) 线性表出, 那么称向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 可以由向量组 \(\symbf{\beta_1, β_2, ⋯, \beta_r}\) 表出. 如果向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 与向量组 \(\symbf{\beta_1, β_2, ⋯, \beta_r}\) 可以互相线性表出, 那么称 向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 与向量组 \(\symbf{\beta_1, β_2, ⋯, \beta_r}\) <b>等价</b>, 记作\[\symbf{α_1, α_2, ⋯, α_s} ≅ \symbf{\beta_1, β_2, ⋯, \beta_r}\]</p><p>向量组的等价是向量组之间的一种关系, 可以证明, 这种关系具有下述三条性质:</p><ol class="org-ol"><li>反身性, 任何一个向量组都与自身等价;</li><li>对称性, 如果 \(\symbf{α_1, α_2, ⋯, α_s}\) 与 \(\beta_1, β_2, ⋯, \beta_r\) 等价, 那么 \(\symbf{\beta_1, β_2, ⋯, \beta_r}\) 与 \(\symbf{α_1, α_2, ⋯, α_s}\) 等价;</li><li>传递性, 即如果</li></ol><p>\[\{\symbf{α_1, α_2, ⋯, α_s} ≅ \symbf{\beta_1, β_2, ⋯, \beta_r}\}, \{\symbf{a_1, β_2, ⋯, \beta_r} ≅ \symbf{γ_1, γ_2, ⋯, γ_t}\}\], 那么\[\symbf{α_1, α_2, ⋯, α_s} ≅ \symbf{γ_1, γ_2, ⋯, γ_t}\]</p>\begin{mingti}[向量组的秩命题-1]\end{mingti}<p>向量组与它的极大线性无关组等价.</p>\begin{cor}[向量组的秩推论-1]\end{cor}<p>向量组的任意两个极大线性无关组等价.</p>\begin{cor}[向量组的秩推论-2]\end{cor}<p>\(β\) 可以由向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性表出当且仅当 \(\beta\) 可以由 \(\symbf{α_1, α_2, ⋯, α_s}\) 的一个极大线性无关组线性表出.</p>\begin{lemma}[向量组的秩引理-1]\end{lemma}<p>设向量组 \(\symbf{\beta_1, \beta_2, ⋯, \beta_r}\) 可以由向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性表出, 如果 \(r > s\), 那么 \(\symbf{\beta_1, \beta_2, ⋯, \beta_r}\) 线性相关.</p>\begin{cor}[向量组的秩推论-3]\end{cor}<p>设向量组 \(\symbf{\beta_1, \beta_2, ⋯, \beta_r}\) 可以由向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性表出, 如果\(\symbf{\beta_1, \beta_2, ⋯, \beta_r}\) 线性无关，那么 \(r ⩽ s\).</p>\begin{cor}[向量组的秩推论-4]\end{cor}<p>等价的线性无关的向量组所含的向量个数相等.</p>\begin{cor}[向量组的秩推论-5]\end{cor}<p>向量组的任意两个极大线性无关组所含向量的个数相等.</p>\begin{de}[向量组的秩定义]\end{de}<p>向量组的极大线性无关组所含的向量个数称为这个 <b>向量组的秩</b>.</p>\begin{mingti}[向量组的秩命题-2]\end{mingti}<p>向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 线性无关的充分必要条件是它的秩等于它所含向量的个数.</p>\begin{mingti}[向量组的秩命题-3]\end{mingti}<p>如果向量组(\(\uppercase\expandafter{\romannumeral1}\))可以由向量组(\(\uppercase\expandafter{\romannumeral2}\))线性表出, 那么(\(\uppercase\expandafter{\romannumeral1}\))的秩 \(\leq\) (\(\uppercase\expandafter{\romannumeral2}\))的秩.</p>\begin{mingti}[向量组的秩命题-4]\end{mingti}<p>等价的向量组有相等的秩.</p></div></div><div id="outline-container-org8d9a122" class="outline-2"><h2 id="org8d9a122">子空间的基与维数</h2><div class="outline-text-2" id="text-org8d9a122">\begin{de}[基的定义]\end{de}<p>设 U 是 \(K^n\) 的一个子空间, 如果 \(\symbf{α_1, α_2, \cdots, α_r} \in U\), 并且满足下述两个条件:  </p><ol class="org-ol"><li>\(\symbf{α_1, α_2, \cdots, α_r}\) 线性无关,</li><li>U 中的每一个向量都可以由 \(\symbf{α_1, α_2, \cdots, α_r}\) 线性表出,</li></ol><p>那么称 \(\symbf{α_1, α_2, \cdots, α_r}\) 是 U 的一个 <b>基</b>, 显然, \(\symbf{ε_1, ε_2, \cdots, ε_n}\) 是 \(K^n\) 的一个基, 称它是 \(K^n\) 的 <b>标准基</b>.</p>\begin{thm}[子空间基定理-1]\end{thm}<p>\(K^n\) 的任一非零子空间 U 都有一个基.</p>\begin{thm}[子空间基定理-2]\end{thm}<p>\(K^n\) 非零子空间 U 的任意两个基所含有的向量个数相等.</p>\begin{de}[子空间维数定义]\end{de}<p>\(K^n\) 的非零子空间 U 的一个基所含有的向量的个数称为 U 的维数, 记作 \(dim_K U\), 或者 \(dim U\).</p>\begin{mingti}[子空间的基与维数命题-1]\end{mingti}<p>设 \(dim U = r\), 则 U 中任意 \(r+1\) 向量都线性相关.</p>\begin{mingti}[子空间的基与维数命题-2]\end{mingti}<p>设 \(dim U = r\), 则 U 中任意 r 个线性无关的向量都是 U 的一个基.</p>\begin{mingti}[子空间的基与维数命题-3]\end{mingti}<p>设 \(dim U = r\), 设 \(\symbf{α_1, α_2, ⋯, α_r} \in U\). 如果 U 中每一个向量都可以有 \(\symbf{α_1, α_2, ⋯, α_r}\) 线性表出, 那么 \(\symbf{α_1, α_2, ⋯, α_r}\) 是 U 的一个基.</p>\begin{mingti}[子空间的基与维数命题-4]\end{mingti}<p>设 U 和 W 都是 \(K^n\) 的非零子空间, 如果 \(U ⊆ W\), 那么 \(dim\,U ⩽ dim\, W\).</p>\begin{mingti}[子空间的基与维数命题-5]\end{mingti}<p>设 U 和 W 是 \(K^n\) 的两个非零子空间, 缺 \(U ⊆ W\), 如果 \(dim\,U = dim\,W\), 那么 \(U = W\).</p>\begin{thm}[子空间基定理-3]\end{thm}<p>向量组 \(\symbf{α_1, α_2, ⋯, α_s}\) 的一个极大线性无关组是这个向量生成的子空间 \(⟨\symbf{α_1, α_2, ⋯, α_s}⟩\) 的一个基, 从而\[dim⟨\symbf{α_1, α_2, ⋯, α_s}⟩ = rank\{\symbf{α_1, α_2, ⋯, α_s}\}\]</p><p>在上述定理中, 维数是对于子空间而言, 秩是对量组而言, 子空间有无群多个向量, 而向量组只有有限多个向量.</p></div></div><div id="outline-container-org27e81e7" class="outline-2"><h2 id="org27e81e7">矩阵的秩</h2><div class="outline-text-2" id="text-org27e81e7"><p>矩阵 A 的列向量组的秩称为矩阵 A 的 <b>列秩</b>, A 的行向量的秩称为 A 的 <b>行秩</b>.</p><p>矩阵 A 的列秩等于 A 的列空间的维数, A 的行秩等于 A 的行向量的维数.</p>\begin{thm}[矩阵的秩定理-1]\end{thm}<p>阶梯型矩阵 J 的行秩与列秩相等, 它们都等于 J 的非零行的个数; 并且 J 的主元所在的列构成的列向量是 J 的一个极大线性无关组.</p>\begin{thm}[矩阵的秩定理-2]\end{thm}<p>矩阵的初等行变换不改变矩阵的行秩.</p>\begin{thm}[矩阵的秩定理-3]\end{thm}<p>矩阵的初等行变换不改变矩阵的列向量的线性相关性, 从而不改变矩阵的列秩. 即: </p><ol class="org-ol"><li>设矩阵 C 经过初等行变换变成矩阵 D, 则 C 的列向量组线性相关当且仅当 D 的列向量组线性相关;</li><li>设矩阵 A 经过初等行变换变成矩阵 B, 并且 B 的第 \(j_1, j_2, ⋯, j_r\) 列构成 B 的列向量的一个极大线性无关组, 则 A 的第 \(j_1, j_2, ⋯, j_r\) 列构成 A 的列向量的一个极大线性无关组; 从而 A 的列秩等于 B 的列秩.</li></ol>\begin{thm}[矩阵的秩定理-4]\end{thm}<p>任一矩阵 A 的行秩等于它的列秩.</p>\begin{de}[矩阵的秩的定义]\end{de}<p>矩阵 A 的行秩与列秩统称为 A 的 <b>秩</b>, 记作 \(rank(A)\).</p>\begin{cor}[矩阵的秩推论-1]\end{cor}<p>设矩阵 A 经过初等行变换化成阶梯形矩阵 J, 则 A 的秩等于 J 的非零行个数. 设 J 的主元所在的列是第 \(j_1, j_2, ⋯, j_r\) 列, 则 A 的第 \(j_1, j_2, ⋯, j_r\) 列构成 A 的列向量组的一个极大线性无关组.</p>\begin{cor}[矩阵的秩推论-2]\end{cor}<p>矩阵的初等行变换不改变矩阵的秩.</p>\begin{thm}[矩阵的秩定理-5]\end{thm}<p>任一非零矩阵的秩等于它的不为零子式的最高阶数.</p><p>定理 4 与定理 5 表明, <b>矩阵的秩</b> 是一个非常深刻的概念, 它可以从行向量的秩, 列向量的秩, 不为零子式的最高阶数 <b>三个角度</b> 来刻画. </p>\begin{cor}[矩阵的秩推论-3]\end{cor}<p>设 \(s \times n\) 矩阵 A 的秩为 r, 则 A 的不等于零的 r 阶子式所在的列(行)构成 A 的列(行)向量组的一个极大线性无关组.</p>\begin{cor}[矩阵的秩推论-4]\end{cor}<p>n 级矩阵 A 满秩(秩等于它的级数)的充分必要条件是 \(|A| ≠ 0\).</p></div></div><div id="outline-container-org52cfb2d" class="outline-2"><h2 id="org52cfb2d">线性方程组有解的充分必要条件</h2><div class="outline-text-2" id="text-org52cfb2d">\begin{thm}[线性方程组有解判别定理]\end{thm}<p>数域 K 上线性方程组</p>\begin{equation}x_1 \symbf{α_1} + x_2 \symbf{α_2} + ⋯ + x_n \symbf{α_n} = \symbf{β}\end{equation}<p>有解的充分必要条件是: 它的系数矩阵与增广矩阵的秩相等.</p>\begin{thm}[线性方程组有解定理-2]\end{thm}<p>数域 K 上 n 元线性方程组 (<a href="#org13c07be">1</a>) 有解时, 如果它的系数矩阵 A 的秩等于 n, 那么方程组有唯一解; 如果 A 的秩小于 n, 那么方程组有无穷多个解.</p>\begin{cor}[线性方程组有解推论]\end{cor}<p>齐次线性方程组有非零解的充分必要条件是: 它的系数矩阵的秩小于未知量的个数.</p></div></div><div id="outline-container-org6f61471" class="outline-2"><h2 id="org6f61471">齐次线性方程组的解集的结构</h2><div class="outline-text-2" id="text-org6f61471"><p>数域 K 上 n 元齐次方程组</p>\begin{equation}x_1 \symbf{α_1} + x_2 \symbf{α_2} + ⋯ + x_n \symbf{α_n} = \symbf{0}\end{equation}<p>的一个解是 \(K^n\) 中的一个向量, 称它为齐次线性方程组 (<a href="#org0f16567">1</a>) 的一个 <b>解向量</b>. 齐次线性方程组的解集 W 是 \(K^n\) 的一个非空子集.</p>\begin{proposition}[解集性质-1]\end{proposition} <p>若 \(\symbf{γ, δ} \in W\), 则 \(\symbf{γ} + \symbf{δ} \in W\).</p>\begin{proposition}[解集性质-2]\end{proposition} <p>若 \(\symbf{γ} \in W\), \(k \in W\), 则 \(k \symbf{γ} \in W\).</p><p>齐次线性方程组(<a href="#org0f16567">1</a>)的解集 W 是 \(K^n\) 的一个子空间, 称它为方程组 (<a href="#org0f16567">1</a>) 的 <b>解空间</b>. 把解空间 W 的一个基称为齐次线性方程组 (<a href="#org0f16567">1</a>) 的一个 <b>基础解系</b>.</p>\begin{de}[解空间定义-1]\end{de}<p>齐次线性方程组 (<a href="#org0f16567">1</a>) 有非零解时, 如果它的有限多个解 \(\symbf{\eta_1, \eta_2, ⋯, \eta_t}\) 满足:</p><ol class="org-ol"><li>\(\symbf{\eta_1, \eta_2, ⋯, \eta_t}\) 线性无关;</li><li>齐次线性方程组 (<a href="#org0f16567">1</a>) 的每一个解都可以由 \(\symbf{\eta_1, \eta_2, ⋯, \eta_t}\) 线性表出,那么称 \(\symbf{\eta_1, \eta_2, ⋯, \eta_t}\) 是齐次线性方程组的一个 <b>基础解系</b>.</li></ol>\begin{thm}[解空间定理-1]\end{thm}<p>数域 K 上 n 元齐次线性方程组的解空间 W 的维数为</p>\begin{equation}dim\,W = n - rank{A}\end{equation}<p>其中 A 是方程组的系数矩阵. 从而当齐次线性方程组有非零解时, 它的每个基础解所含向量的个数等于 \(n-rank(A)\).</p><p><b>齐次线性方程组解集的求法</b></p><div class="figure"><p><img src="MSimg/高等代数/3_2017-09-15_14-12-31.png" alt="3_2017-09-15_14-12-31.png"></p></div><div class="figure"><p><img src="MSimg/高等代数/4_2017-09-15_14-09-04.png" alt="4_2017-09-15_14-09-04.png"></p></div><div class="figure"><p><img src="MSimg/高等代数/5_2017-09-15_14-13-03.png" alt="5_2017-09-15_14-13-03.png"></p></div></div></div><div id="outline-container-org4639048" class="outline-2"><h2 id="org4639048">非齐次线性方程组的解集的结构</h2><div class="outline-text-2" id="text-org4639048"><p>数域 K 上 n 元非齐次方程组</p>\begin{equation}x_1 \symbf{α_1} + x_2 \symbf{α_2} + ⋯ + x_n \symbf{α_n} = \symbf{\beta}\end{equation}<p>的解集为 U, 相应的齐次线性方程组:</p>\begin{equation}x_1 \symbf{α_1} + x_2 \symbf{α_2} + ⋯ + x_n \symbf{α_n} = \symbf{0}\end{equation}<p>称它为非齐次线性方程组 (<a href="#org2133439">1</a>) 的 <b>导出组</b>, 导出组的解空间用 W 表示.</p>\begin{proposition}[非齐次解集性质-1]\end{proposition} <p>若 \(\symbf{γ, δ} \in U\), 则 \(\symbf{γ} - \symbf{δ} \in W\).</p>\begin{proposition}[非齐次解集性质-2]\end{proposition} <p>若 \(\symbf{γ} \in W\), \(\symbf{\eta} \in U\),  则 \(\symbf{γ + \eta} \in U\).</p>\begin{thm}[非齐次解集定理-1]\end{thm}<p>如果数域 K 上 n 元非齐次线性方程组 (<a href="#org2133439">1</a>) 有解, 那么它的解集 U 为</p>\begin{equation}U = \{\symbf{γ_0} + \symbf{\eta} | \symbf{\eta} \in W\}\end{equation}<p>其中 \(\symbf{γ_0}\), 是非齐次线性方程组 (<a href="#org2133439">1</a>) 的一个特解(简称 \(\symbf{γ_0}\) 是 <b>特解</b> ), W 是方程组 (<a href="#org2133439">1</a>) 的导出组的解空间.</p><p>把集合 \(\{\symbf{γ_0} + \symbf{\eta} | \symbf{\eta} \in W\}\) 记作 \(\symbf{γ_0} + W\), 称它是 W 的 <b>线性流行</b> (或子空间 W 的一个 <b>配集</b>), 把 \(dem \, W\) 称为线性流行 \(\symbf{γ_0} + W\) 的维数.</p>\begin{cor}[非齐次解空间推论]\end{cor}<p>如果非齐次线性方程组 (<a href="#org2133439">1</a>) 有解, 那么它的解唯一充分必要条件是: 它的导出组 (<a href="#org13a2978">1</a>) 只有零解.</p><p>求解非齐次线性方程组的解集 U 的步骤:</p><ol class="org-ol"><li>求出非齐次线性方程组的一般解, 让自由未知量都取值 0, 得到一个特解 \(\symbf{γ_0}\);</li><li>写出导出组的一般解公式 (只要把非齐次线性方程组的一般解公式的常数项去掉即可), 求出导出组的一个基础解系 \(\symbf{\eta_1, \eta_2, ⋯, \eta_t}\);</li><li>写出非齐次线性方程组的解集 U</li></ol><p>\[U = \{\symbf{γ_0} + k_1 \symbf{\eta_1} + ⋯ + k_t \symbf{\eta_t} \, | \, k_1, ⋯, k_t \in K \}\]</p></div></div><div id="outline-container-org70bfc35" class="outline-2"><h2 id="org70bfc35">例题</h2><div class="outline-text-2" id="text-org70bfc35">\begin{ex}\end{ex}<div class="figure"><p><img src="MSimg/高等代数/6_2017-09-15_14-13-10.png" alt="6_2017-09-15_14-13-10.png"></p></div>\begin{ex}\end{ex}<div class="figure"><p><img src="MSimg/高等代数/7_2017-09-15_14-15-17_2017-09-15_14-18-16.png" alt="7_2017-09-15_14-15-17_2017-09-15_14-18-16.png"></p></div><div class="figure"><p><img src="MSimg/高等代数/8_2017-09-15_14-15-32_2017-09-15_14-18-59.png" alt="8_2017-09-15_14-15-32_2017-09-15_14-18-59.png"></p></div></div></div>Last Updated 2017-10-09 Mon 22:54 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org895ed2c&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org895ed2c&quot;&gt;n 维向量空间 \(K^n\) 及其子空间&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org895ed2c&quot;&gt;
&lt;p&gt;
取定一个数域 K, 设 n 是任意给定的一个正整数. 令 \[K^n = {(a_1, a_2, ⋯, a_n) | a_i \in K, i = 1,2,⋯,n}\]
&lt;/p&gt;

&lt;p&gt;
在 \(K^n\) 中规定加法运算如下:
\[
(a_1, a_2, \cdots, a_n) + (b_1, b_2, ⋯, b_n) \xlongequal{def} (a_1+b_1, a_2+b_2, \cdots, a_n+b_n)
\]
&lt;/p&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Linear algebra" scheme="http://lengyueyang.github.io/tags/Linear-algebra/"/>
    
  </entry>
  
  <entry>
    <title>Python-Pyenv 使用方法总结</title>
    <link href="http://lengyueyang.github.io/2017/09/19/Python-Pyenv%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>http://lengyueyang.github.io/2017/09/19/Python-Pyenv 使用方法总结/</id>
    <published>2017-09-19T00:00:00.000Z</published>
    <updated>2017-09-19T08:17:11.857Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org026b707" class="outline-2"><h2 id="org026b707">Pyenv 简介</h2><div class="outline-text-2" id="text-org026b707"><p>在使用 python 进行编程时, 经常遇到多个编程环境共存问题. pyenv 可以很好的解决这个问题, 本教程根据是学习使用 pyenv 的记录.</p><a id="more"></a></div></div><div id="outline-container-orge2c61b1" class="outline-2"><h2 id="orge2c61b1">安装</h2><div class="outline-text-2" id="text-orge2c61b1"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yaourt pyenv</span><br><span class="line">yaourt pyenv-virtualenv</span><br></pre></td></tr></table></figure></div><p>archlinux 系统安装上面命令直接安装, 其他版本可也从源中或者源代码安装.</p><p>安装完成后，pyenv 命令还没有加进系统的环境变量，需要将如下内容加到 ~/.zshrc 中，然后执行 source ~/.zshrc </p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PYENV_ROOT=<span class="string">"<span class="variable">$HOME</span>/.pyenv"</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$PYENV_ROOT</span>/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv init -)</span>"</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv virtualenv-init -)</span>"</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org63061bc" class="outline-2"><h2 id="org63061bc">Pyenv 基本操作</h2><div class="outline-text-2" id="text-org63061bc"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pyenv versions</span><br><span class="line"></span><br><span class="line">* system (<span class="built_in">set</span> by /home/lengyue/.python-version)</span><br><span class="line"><span class="number">2.7</span>.<span class="number">13</span></span><br><span class="line"><span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 查看目前所有版本的 python</span></span><br><span class="line"></span><br><span class="line">pyenv version</span><br><span class="line"><span class="comment"># 查看当前版本的 python</span></span><br><span class="line"></span><br><span class="line">pyenv global system/<span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 设置全局的 python 环境</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">local</span> system/<span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 设置局部的 python 环境, local 优先级高于 global</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">local</span> --unset</span><br><span class="line"><span class="comment"># 重置 local 环境</span></span><br><span class="line"></span><br><span class="line">pyenv shell system/<span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 设置 shell 的 python 环境, shell 环境又有限于 local</span></span><br><span class="line"></span><br><span class="line">pyenv shell --unset</span><br><span class="line"><span class="comment"># 重置 shell python 环境</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org9fbe0e2" class="outline-2"><h2 id="org9fbe0e2">安装不同版本 python</h2><div class="outline-text-2" id="text-org9fbe0e2"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pyenv install --list</span><br><span class="line"><span class="comment"># pyenv 支持的所有 python 列表</span></span><br><span class="line"></span><br><span class="line">pyenv install <span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 安装特定版本的 python</span></span><br><span class="line"></span><br><span class="line">pyenv uninstall <span class="number">3.5</span>.<span class="number">2</span></span><br><span class="line"><span class="comment"># 卸载特定版本的 python</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">rehash</span></span><br><span class="line"><span class="comment"># refresh database</span></span><br></pre></td></tr></table></figure></div><p>安装特定版本 python 出现错误: </p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ERROR: The Python ssl extension was not compiled. Missing the OpenSSL lib</span><br></pre></td></tr></table></figure></div><p>按照下帖解决, 用如下命令</p><ul class="org-ul"><li><a href="https://stackoverflow.com/questions/43976068/compiling-python-via-pyenv-on-archlinux-but-missing-openssl" target="_blank" rel="noopener">Compiling Python via Pyenv on Archlinux but missing OpenSSL - Stack Overflow</a></li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CFLAGS=-I/usr/include/openssl-<span class="number">1.0</span> \</span><br><span class="line">LDFLAGS=-L/usr/lib64/openssl-<span class="number">1.0</span> \</span><br><span class="line">pyenv install <span class="number">3.5</span>.<span class="number">2</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org46a4805" class="outline-2"><h2 id="org46a4805">Pyenv-virtualenv python 不同项目虚拟环境的搭建</h2><div class="outline-text-2" id="text-org46a4805"><p>利用 pyenv-virtualenv 就可以管理多个依赖库环境</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">pyenv virtualenv PYTHON_VERSION PROJECT_NAME</span><br><span class="line"><span class="comment"># 创建新的环境,位于 ~/.pyenv/versions/, 其中，PYTHON_VERSION 是具体的 Python 版本号，</span></span><br><span class="line"><span class="comment"># 例如，3.6.0，PROJECT_NAME 是我们自定义的项目名称。比较好的实践方式是，</span></span><br><span class="line"><span class="comment"># 在 PROJECT_NAME 也带上 Python 的版本号，以便于识别。现假设我们有 XDiff 这么一个项目，</span></span><br><span class="line"><span class="comment"># 想针对 Python 2.7.13 和 Python 3.6.0 分别创建一个虚拟环境，那就可以依次执行如下命令。</span></span><br><span class="line"></span><br><span class="line">pyenv virtualenv <span class="number">3.6</span>.<span class="number">0</span> py36_XDiff</span><br><span class="line">pyenv virtualenv <span class="number">2.7</span>.<span class="number">13</span> py27_XDiff</span><br><span class="line"></span><br><span class="line">pyenv virtualenvs</span><br><span class="line"><span class="comment"># 创建完成后，通过执行 pyenv virtualenvs 命令，就可以看到本地所有的项目环境</span></span><br><span class="line"></span><br><span class="line">pyenv activate py36_XDiff</span><br><span class="line"><span class="comment"># 切换到新的环境</span></span><br><span class="line"></span><br><span class="line">pyenv deactivate</span><br><span class="line"><span class="comment"># 退回到系统环境</span></span><br><span class="line"></span><br><span class="line">pyenv uninstall py36_XDiff</span><br><span class="line"><span class="comment"># Removing the directories in $(pyenv root)/versions and</span></span><br><span class="line"><span class="comment"># $(pyenv root)/versions/{version}/envs will delete the virtualenv</span></span><br><span class="line"><span class="comment"># uninstall 的命令不能完全卸载完, 可以使用删除的方式</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org7b31b33" class="outline-2"><h2 id="org7b31b33">项目实践举例</h2><div class="outline-text-2" id="text-org7b31b33"><p>假设现在有一个项目同时尝试 python 3.5.2 和 3.3.2 进行编写, 流程如下.</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./Downloads</span><br><span class="line"><span class="comment"># 进入目录</span></span><br><span class="line"></span><br><span class="line">mkdir Mao &amp; <span class="built_in">cd</span> Mao</span><br><span class="line"><span class="comment"># 创建项目目录并进入</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 接下来有两种方法, 一种用 local 变量, 另一种用 virtualenv 方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># local 变量法</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">local</span> <span class="number">3.5</span>.<span class="number">2</span> &amp; pip install package</span><br><span class="line"><span class="comment"># 进入 3.5.2 的环境, 并安装必要的软件包, 进行测试</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">local</span> <span class="number">3.3</span>.<span class="number">2</span> &amp; pip install package</span><br><span class="line"><span class="comment"># 进入 3.3.2 的环境, 并安装必要的软件包, 进行测试</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># virtualenv 法</span></span><br><span class="line"></span><br><span class="line">pyenv virtualenv <span class="number">3.6</span>.<span class="number">0</span> py36_Mao</span><br><span class="line">pyenv virtualenv <span class="number">2.7</span>.<span class="number">13</span> py33_Mao</span><br><span class="line"><span class="comment"># 创建两个虚拟环境</span></span><br><span class="line"></span><br><span class="line">pyenv activate py35_Mao</span><br><span class="line"><span class="comment"># 进入 3.5 环境进行工作</span></span><br><span class="line"></span><br><span class="line">pyenv activate py33_Mao</span><br><span class="line">pyenv deactivate</span><br><span class="line"><span class="comment"># 进入 3.3 环境进行工作, 结束后离开虚拟环境</span></span><br><span class="line"></span><br><span class="line">rm -rf ~/.pyenv/versions/py35_Mao/</span><br><span class="line">rm -rf ~/.pyenv/versions/<span class="number">3.5</span>.<span class="number">2</span>/envs/py35_Mao</span><br><span class="line">rm -rf ~/.pyenv/versions/py33_Mao/</span><br><span class="line">rm -rf ~/.pyenv/versions/<span class="number">3.3</span>.<span class="number">2</span>/envs/py33_Mao</span><br><span class="line"><span class="comment"># 如果以后不再使用虚拟开发环境, 删除环境</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org977f36c" class="outline-2"><h2 id="org977f36c">参考资料</h2><div class="outline-text-2" id="text-org977f36c"><ul class="org-ul"><li><a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener">pyenv/pyenv: Simple Python version management</a></li><li><a href="http://www.jianshu.com/p/a23448208d9a" target="_blank" rel="noopener">使用 pyenv 可以在一个系统中安装多个 python 版本 - 简书</a></li><li><a href="https://github.com/pyenv/pyenv/blob/master/COMMANDS.md#command-reference" target="_blank" rel="noopener">pyenv/COMMANDS.md at master · pyenv/pyenv</a></li><li><a href="http://www.cnblogs.com/blackmatrix/p/5591341.html" target="_blank" rel="noopener">在 macOS 上通过 pyenv 安装和切换多版本 Python - BlackMatrix - 博客园</a></li><li><a href="http://www.jb51.net/article/109542.htm" target="_blank" rel="noopener">pyenv 命令管理多个 Python 版本<sub>python</sub><sub>脚本之家</sub></a></li><li><a href="http://www.cnblogs.com/npumenglei/p/3719412.html" target="_blank" rel="noopener">用 pyenv 和 virtualenv 搭建单机多版本 python 虚拟开发环境 - 雷子-晓飞爸 - 博客园</a></li><li><a href="https://ask.hellobi.com/blog/seng/3047" target="_blank" rel="noopener">使用 pyenv 安装多个 Python 版本 - 天善智能：专注于商业智能 BI 和数据分析、大数据领域的垂直社区平台</a></li><li><a href="https://github.com/pyenv/pyenv-virtualenv" target="_blank" rel="noopener">pyenv/pyenv-virtualenv: a pyenv plugin to manage virtualenv (a.k.a. python-virtualenv)</a></li></ul></div></div>Last Updated 2017-09-19 Tue 16:17 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org026b707&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org026b707&quot;&gt;Pyenv 简介&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org026b707&quot;&gt;
&lt;p&gt;
在使用 python 进行编程时, 经常遇到多个编程环境共存问题. pyenv 可以很好的解决这个问题, 本教程根据是学习使用 pyenv 的记录.
&lt;/p&gt;
    
    </summary>
    
      <category term="PYTHON" scheme="http://lengyueyang.github.io/categories/PYTHON/"/>
    
    
      <category term="Python" scheme="http://lengyueyang.github.io/tags/Python/"/>
    
      <category term="Pyenv" scheme="http://lengyueyang.github.io/tags/Pyenv/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学与统计-高等代数-行列式</title>
    <link href="http://lengyueyang.github.io/2017/09/05/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E4%B8%8E%E7%BB%9F%E8%AE%A1-%E9%AB%98%E7%AD%89%E4%BB%A3%E6%95%B0-%E8%A1%8C%E5%88%97%E5%BC%8F/"/>
    <id>http://lengyueyang.github.io/2017/09/05/数据科学-数学与统计-高等代数-行列式/</id>
    <published>2017-09-05T00:00:00.000Z</published>
    <updated>2017-10-09T14:49:51.817Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org14a4e40" class="outline-2"><h2 id="org14a4e40">n 元排列</h2><div class="outline-text-2" id="text-org14a4e40"><p>n 个不同正整数的一个全排列称为 <b>n 元排列</b>.</p><p>在 n 元排列 \(a_1, a_2, ⋯, a_n\) 中, 任取一对数 \(a_i,a_j(i < j)\), 如果 \(a_i < a_j\), 那么这一对数构成一个 <b>顺序</b>, 否则, 这对数构成一个 <b>逆序</b>. 一个 n 元排列中逆序的总数称为 <b>逆序数</b>, 记作 \(τ(a_1a_2⋯a_n)\).</p><p>逆序数为奇数的排列称为 <b>奇排列</b>, 逆序数为偶数的排列称为 <b>偶排列</b>. 将一个排列中的两个数字互换, 其余数字位置不变的变换称为一个 <b>对换</b>.</p><a id="more"></a>\begin{thm}[n 元排列定理-1]\end{thm}<p>对换改变 n 元排列的奇偶性.</p>\begin{thm}[n 元排列定理-2]\end{thm}<p>任一 n 元排列与排列 \(123⋯n\) 可以经过一系列对换互变, 并且所做对换次数与这个 n 元排列有相同的奇偶性.</p></div></div><div id="outline-container-org73c2796" class="outline-2"><h2 id="org73c2796">n 阶行列式的定义</h2><div class="outline-text-2" id="text-org73c2796">\begin{de}[n 阶行列式完全展开式定义]\end{de}<p>n 阶行列式</p>\begin{equation*}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & $a_{1n} \\& a_{21} \quad & a_{22} \quad & \cdots \quad & a_{2n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation*}<p>是 \(n!\) 项的代数和, 其中每一项都是位于不同行、不同列的 n 个元素的乘积, 把这 n 个元素以行指标为自然序列排好位置, 当列指标排列是偶排列时, 该项带正号; 是奇排列时, 该项带负号, 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& a_{21} \quad & a_{22} \quad & \cdots \quad & a_{2n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| = \sum_{j_1j_2 \cdots j_n}(-1)^{\tau (j_1j_2 \cdots j_n)}a_{1j_1}a_{2j_2} \cdots a_{nj_n}\end{equation}<p>其中 \(j_1j_2 ⋯ j_n\) 是 n 元排列, (<a href="#orgc0bee8f">1</a>)式称为 n 阶行列式的 <b>完全展开式</b> .</p><p>令</p>\begin{equation}A = \left\{\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & $a_{1n} \\& a_{21} \quad & a_{22} \quad & \cdots \quad & a_{2n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right\}\end{equation}<p>则 n 阶行列式 (<a href="#orgc0bee8f">1</a>)也称为 n 级矩阵 A 的行列式, 简记作 \(|A|\)或者\(det\,A\).</p><p>主对角线下方元素全为 0 的 n 阶行列式称为 <b>上三角形行列式</b>, n 阶上三角形行列式的值等于它主对角线上 n 个元素的乘积.</p></div></div><div id="outline-container-org782f9c4" class="outline-2"><h2 id="org782f9c4">行列式的性质</h2><div class="outline-text-2" id="text-org782f9c4">\begin{proposition}[行列式性质-1]\end{proposition}<p>行列互换, 行列式值不变, 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& a_{21} \quad & a_{22} \quad & \cdots \quad & a_{2n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| = \left|\begin{split}& a_{11} \quad & a_{21} \quad & \cdots \quad & a_{n1} \\& a_{12} \quad & a_{22} \quad & \cdots \quad & a_{n2} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{1n} \quad & a_{2n} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation}\begin{proposition}[行列式性质-2]\end{proposition}<p>行列式一行的公因子可以提出去, 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& ka_{i1} \quad & ka_{i2} \quad & \cdots \quad & ka_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| = k \left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{i1} \quad & a_{i2} \quad & \cdots \quad & a_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation}\begin{proposition}[行列式性质-3]\end{proposition}<p>行列式中若有某一行是两组数的和, 则次行列式等于两个行列式的和, 这两个行列式的这一行分别是第一组数和第二组数, 而其余各行与原来行列式的相应各行相同. 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& b_1 + c_1 \quad & b_2 + c_2 \quad & \cdots \quad & b_n + c_n \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| = \left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& b_1 \quad & b_2 \quad & \cdots \quad & b_n \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| + \left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& c_1 \quad & c_2 \quad & \cdots \quad & c_n \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation}\begin{proposition}[行列式性质-4]\end{proposition}<p>两行互换, 行列式反号. 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{i1} \quad & a_{i2} \quad & \cdots \quad & a_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{k1} \quad & a_{k2} \quad & \cdots \quad & a_{kn} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| =  \left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{k1} \quad & a_{k2} \quad & \cdots \quad & a_{kn} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{i1} \quad & a_{i2} \quad & \cdots \quad & a_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation}\begin{proposition}[行列式性质-5]\end{proposition}<p>两行相同, 行列式为 0.</p>\begin{proposition}[行列式性质-6]\end{proposition}<p>两行成比例, 行列式为 0.</p>\begin{proposition}[行列式性质-7]\end{proposition}<p>把一行的倍数加到另一行上, 行列式的值不变. 即</p>\begin{equation}\left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{i1} \quad & a_{i2} \quad & \cdots \quad & a_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{k1} + la_{i1} \quad & a_{k2}  + la_{i2} \quad & \cdots \quad & a_{kn} + la_{in}  \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right| =  \left|\begin{split}& a_{11} \quad & a_{12} \quad & \cdots \quad & a_{1n} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{i1} \quad & a_{i2} \quad & \cdots \quad & a_{in} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{k1} \quad & a_{k2} \quad & \cdots \quad & a_{kn} \\& \vdots \quad & \vdots \quad & \quad & \vdots \\& a_{n1} \quad & a_{n2} \quad & \cdots \quad &a_{nn} \\\end{split}\right|\end{equation}<div class="figure"><p><img src="./MSimg/MS-3-3-3-1.png" alt="MS-3-3-3-1.png"></p><p><span class="figure-number">Figure 1: </span>行列式性质图</p></div></div></div><div id="outline-container-org4a8cad7" class="outline-2"><h2 id="org4a8cad7">行列式按一行(列)展开</h2><div class="outline-text-2" id="text-org4a8cad7">\begin{de}[余子式与代数余子式定义]\end{de}<p>n 阶行列式 \(|A|\) 中, 划去第 i 行和第 j 列, 剩下的元素按原来次序组成 \(n-1\) 阶行列式称为矩阵 A 的 \((i, j)\) 元的 <b>余子式</b>, 记作 \(M_{ij}\). 令 \(A_{ij}=(-1^{i+j}M_{ij})\), 称 \(A_{ij}\) 是 A 的 \((i, j)\) 元的 <b>代数余子式</b>.</p>\begin{thm}[n 阶行列式行展开定理]\end{thm}<p>n 阶行列式 \(|A|\) 等于它的第 i 行元素与自己的代数余子式的乘积之和, 即</p>\begin{equation}  |A| = a_{i1}A_{i1} + a_{i2}A_{i2} + \cdots + a_{in}A_{in} = \sum_{j=1}^n a_{ij}A_{ij}\end{equation}<p>其中 \(i \in {1,2,⋯,n}\), (<a href="#orgd9c3a16">1</a>) 称为 n 阶行列式按第 i 行的展开式.</p>\begin{thm}[n 阶行列式列展开定理]\end{thm}<p>n 阶行列式 \(|A|\) 等于它的第 j 列元素与自己的代数余子式的乘积之和, 即</p>\begin{equation}  |A| = a_{1j}A_{1j} + a_{2j}A_{2j} + \cdots + a_{nj}A_{nj} = \sum_{l=1}^n a_{lj}A_{lj}\end{equation}<p>其中 \(i \in {1,2,⋯,n}\), (<a href="#orgd9c3a16">1</a>) 称为 n 阶行列式按第 j 列的展开式.</p>\begin{thm}[n 阶行列式展开定理-3]\end{thm}<p>n 阶行列式 \(|A|\) 等于它的第 i 行元素与第 k 行(\(k \neq i\)) 相应元素的代数余子式的乘积之和等于 0, 即</p>\begin{equation}  a_{i1}A_{k1} + a_{i2}A_{k2} + \cdots + a_{in}A_{kn} = 0\end{equation}\begin{thm}[n 阶行列式展开定理-4]\end{thm}<p>n 阶行列式 \(|A|\) 等于它的第 j 列元素与第 l 列(\(l \neq j\)) 相应元素的代数余子式的乘积之和等于 0, 即</p>\begin{equation}a_{1j}A_{1l} + a_{2j}A_{2l} + \cdots + a_{nj}A_{nl} = 0\end{equation}</div></div><div id="outline-container-org3daa1f6" class="outline-2"><h2 id="org3daa1f6">克莱姆法则(Cramer)</h2><div class="outline-text-2" id="text-org3daa1f6">\begin{thm}[克莱姆法则定理-1]\end{thm}<p>数域 K 上的 n 元线性方程组有唯一解的充分必要条件是它的系数行列式不等于 0.</p><p>n 级矩阵的初等行变换不改变他们行列式的非零性质.</p>\begin{cor}[克莱姆法则定理-1 推论]\end{cor}<p>数域 K 上 n 个方程的 n 元齐次线性方程组只有零解的充分必要条件是它的系数行列式不等于 0.</p>\begin{thm}[克莱姆法则定理-2]\end{thm}<p>n 个方程的 n 元线性方程组的系数行列式 \(|A| ≠ 0\) 时, 它的唯一解是\[\left ( \frac{|B_1|}{|A|},  \frac{|B_2|}{|A|}, ⋯,  \frac{|B_n|}{|A|} \right)\]</p><p>定理 1 的充分性和定理 2 合起来称为 <b>克莱姆(Cramer)法则</b>.</p></div></div><div id="outline-container-orgd3c8585" class="outline-2"><h2 id="orgd3c8585">行列式按 k 行(列)展开</h2><div class="outline-text-2" id="text-orgd3c8585">\begin{de}[k 阶子式定义]\end{de}<p>n 阶行列式 \(|A|\) 中任意取定 k 行, k 列 \(1 \le k < n\), 位于这些行和列的交叉处的 \(k^2\) 个元素按照原来的派发组成的 k 阶行列式, 称为 \(|A|\) 的一个 <b>k 阶子式</b>. 取定 \(|A|\) 的第 \(i_1, i_2, ⋯, i_k(i_1 < i_2 < ⋯ <i_k)\) 行,="" 第="" \(j_1,="" j_2,="" ⋯,="" j_k(j_1="" <="" j_2="" ⋯="" <j_k)\)="" 列,="" 所得到的="" k="" 阶子式记作="" p="">\begin{equation}A \left(\begin{split}i_1&, i_2, ⋯, i_k \\j_1&, j_2, ⋯, j_k\end{split}\right)\end{equation}<p>划去这个 k 阶子式所在的行和列, 剩下的元素按原来的排法组成 \((n-k)\) 的行列式, 称为 子式 (<a href="#orgbd0d2ad">1</a>) 的余子式.</p>\begin{thm}[Laplace 定理]\end{thm}<p>在 n 阶行列式 \(|A|\) 中, 取定第 \(i_1, i_2, ⋯, i_k(i_1 < i_2 < ⋯ <i_k)\) 行,="" 则这="" k="" 行元素形成的所有="" 阶子式与他们的代数余子式的乘积之和等于="" \(|a|\),="" 即="" <="" p="">\begin{equation}  |A| = \sum_{1 \leqslant j_1 < \cdots < j_k \leqslant n} A \left(\begin{split}i_1, i_2, ⋯, i_k \\j_1, j_2, ⋯, j_k \\\end{split}\right) (-1)^{(i_1+ \cdots +i_k) + (j_1 + \cdots + j_k)} A \left(\begin{split}i_1^{'}, i_2^{'},  ⋯ , i_k^{'} \\j_1^{'}, j_2^{'},  ⋯ , j_k^{'} \\\end{split}\right)\end{equation}</i_k)\)></p></i_k)\)></p></div></div>Last Updated 2017-10-09 Mon 22:49 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org14a4e40&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org14a4e40&quot;&gt;n 元排列&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org14a4e40&quot;&gt;
&lt;p&gt;
n 个不同正整数的一个全排列称为 &lt;b&gt;n 元排列&lt;/b&gt;.
&lt;/p&gt;

&lt;p&gt;
在 n 元排列 \(a_1, a_2, ⋯, a_n\) 中, 任取一对数 \(a_i,a_j(i &lt; j)\), 如果 \(a_i &lt; a_j\), 那么这一对数构成一个 &lt;b&gt;顺序&lt;/b&gt;, 否则, 这对数构成一个 &lt;b&gt;逆序&lt;/b&gt;. 一个 n 元排列中逆序的总数称为 &lt;b&gt;逆序数&lt;/b&gt;, 记作 \(τ(a_1a_2⋯a_n)\).
&lt;/p&gt;

&lt;p&gt;
逆序数为奇数的排列称为 &lt;b&gt;奇排列&lt;/b&gt;, 逆序数为偶数的排列称为 &lt;b&gt;偶排列&lt;/b&gt;. 将一个排列中的两个数字互换, 其余数字位置不变的变换称为一个 &lt;b&gt;对换&lt;/b&gt;.
&lt;/p&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Linear algebra" scheme="http://lengyueyang.github.io/tags/Linear-algebra/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学与统计-高等代数-线性方程组的解法</title>
    <link href="http://lengyueyang.github.io/2017/08/07/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E4%B8%8E%E7%BB%9F%E8%AE%A1-%E9%AB%98%E7%AD%89%E4%BB%A3%E6%95%B0-%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E7%9A%84%E8%A7%A3%E6%B3%95/"/>
    <id>http://lengyueyang.github.io/2017/08/07/数据科学-数学与统计-高等代数-线性方程组的解法/</id>
    <published>2017-08-07T00:00:00.000Z</published>
    <updated>2017-08-07T14:16:17.741Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-orga5824f3" class="outline-2"><h2 id="orga5824f3">概述</h2><div class="outline-text-2" id="text-orga5824f3"><p>高等代数的学习部分用以下书籍</p><p>邱维声, (2010). 高等代数. : 清华大学出版社.Hom, R. A. (2014). 矩阵分析. : 机械工业出版社. 张贤达, (2013). 矩阵分析与应用. : 清华大学出版社.</p><a id="more"></a></div></div><div id="outline-container-orgc863b79" class="outline-2"><h2 id="orgc863b79">线性方程组的解法</h2><div class="outline-text-2" id="text-orgc863b79"></div><div id="outline-container-orgbcfc9ce" class="outline-3"><h3 id="orgbcfc9ce">解线性方差组的矩阵消元法</h3><div class="outline-text-3" id="text-orgbcfc9ce"><p>左端都是未知量 \(x_1, x_2, \dots , x_n\) 的一次其次式，右端是常数的方程组称为线性方程组，每个未知量前面的数称为系数，右端的项称为常数项。为了书写简便，对于一个线性方程组，可以只写出它的系数和常数项，并且把它们按照原来的次序排成一张表，这张表称为线性方程组的 <b>增广矩阵</b> ，只列出系数的的表称为方程组的系数矩阵。</p><p>含 n 个未知量的线性方程组称为 <b>n 元线性方程组</b> ，它的一般形式如下，其中， \(a_{11}, a_{12}, \dots, a_{sn}\) 是系数， \(b_1, b_2, \dots, b_s\) 是常数项，方程的个数 s 与未知量的个数 n 可以相等，也可以不等。</p>\begin{equation}\left\{\begin{split}&a_{11}x_1 + a_{12}x_2 + \dots + a_{1n}x_n = b_1&, \\&a_{21}x_1 + a_{22}x_2 + \dots + a_{2n}x_n = b_2&, \\ &\dots  &, \\&a_{s1}x_1 + a_{s2}x_2 + \dots + a_{sn}x_n = b_s&,\end{split}\right\end{equation}<p>对于线性方程组(<a href="#orgc6587d2">1</a>)，如果 \(x_1, x_2, \dots , x_n\) 分别用数 \(c_1, c_2, \dots , c_n\) 代入后，每个方程变成恒等式，称 n 元有序数组 \((c_1, c_2, \dots , c_n)\) 是线性方程组(<a href="#orgc6587d2">1</a>) 的 <b>一个解</b> ，其所有解组成的集合称为这个方程组的 <b>解集</b> 。</p><p>线性方程组的初等变换：1，把一个方程的倍数加到另外一个方程上；2，互换两个方程的位置；3，用一个非零数乘某一个方程；经过一系列初等变换成的简化阶梯形方程组与原线性方程组同解。</p>\begin{de}[矩阵定义]\end{de}<p>由 \(s \cdot m\) 个数排成 s 行、m 列的一张表，称为一个 \(s \times m\) <b>矩阵</b> ，其中的每一个数称为这个矩阵的一个元素，第 i 行与第 j 列交叉的位置，称为矩阵的 \((i, j)\) 元.</p><p>元素全为 0 的矩阵称为零矩阵，简记作 0，s 行 m 列的零矩阵记作 \(0_{s \times m}\) , 如果一个矩阵的行数和列数相等, 则乘它为方阵, m 行 m 列的矩阵也称为 m 级矩阵. 矩阵通常用大写字母 A 表示, 一个  \(s \times m\) 的矩阵可以简单记作  \(A(i, j)\) , 如果矩阵 A 的 \((i, j)\) 元是 \(a_{ij}\) ,可以记作 \(A = a_{ij}\).</p><p>矩阵的求解过程: 先将增广矩阵变化成阶梯形矩阵, 其特点是: 元素全为 0 的行(称为零行)在下方(如果有零行的话), 元素不为 0 的行(称为非零行), 从左边数起第一个不为 0 的元素(称为主元), 他们的列指标随着行指标的递增而严格增大. 之后再将阶梯形矩阵转化成简化阶梯形矩阵, 其特点是: 是阶梯形矩阵, 每个非零行主元都是 1, 每个主元所在的列其余元素都是 0.</p>\begin{thm}[阶梯形矩阵定理]\end{thm}<p>任意一个矩阵都可以经过一系列的初等行变换化成阶梯形矩阵.</p>\begin{cor}[阶梯形矩阵推论]\end{cor}<p>任意一个矩阵都可以经过一系列的初等行变换化成简化阶梯形矩阵.</p><p>线性方程组的解的情况：将线性方程组的的增广矩阵经初等行变换化成简化阶梯型矩阵，如果相应的阶梯型方程组出现 \(0 = d (d ≠ 0)\) 这样的方程，则原方程组无解；如果非零行的个数等于方程组未知量的个数, 则原方程组有唯一解, 如果非零行的个数小于未知量的个数, 则原方程有无群多个解.</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">digraph graphname {&#10;  graph [ dpi = 300 ]; &#10;  node [color=Blue, fontcolor=Blacd, fontsize=16, shape=box]&#10;&#10;  A [label=&#34;&#32447;&#24615;&#26041;&#31243;&#32452;&#30340;&#22686;&#24191;&#30697;&#38453;&#34;];&#10;  B [label = &#34;&#38454;&#26799;&#22411;&#30697;&#38453;&#34;];&#10;  C [label = &#34;&#20889;&#20986;&#38454;&#26799;&#22411;&#26041;&#31243;&#32452;&#34;];&#10;  D [label = &#34;&#31616;&#21270;&#34892;&#38454;&#26799;&#24418;&#30697;&#38453;&#34;];&#10;  E [label = &#34;&#27714;&#35299;&#34;];&#10;  F [label = &#34;&#20889;&#20986;&#35299;&#34;];&#10;&#10;  A -&#62; B [label = &#34; &#30697;&#38453;&#30340;&#21021;&#31561;&#34892;&#21464;&#25442;&#34;];&#10;  B -&#62; C [label = &#34; &#25110;&#32773;&#34;];&#10;  B -&#62; D [label = &#34; &#30697;&#38453;&#30340;&#21021;&#31561;&#34892;&#21464;&#25442;&#34;];&#10;  C -&#62; E;&#10;  D -&#62; F;&#10;&#10;}&#10;</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0b68b4c" class="outline-3"><h3 id="org0b68b4c">线性方程组的解的情况及其判别准则</h3><div class="outline-text-3" id="text-org0b68b4c">\begin{thm}[高斯(Gauss)-约当(Jordan)算法定理]\end{thm}<p>系数和常数项为有理数(或实数, 或复数)的 n 元线性方程组的解法有三种情况: 无解, 有唯一解, 有无群多个解. 把 n 元线性方程组的增广矩阵经过初等行变换化成阶梯形矩阵, 如果相应的阶梯型方程组出现 "0=d(其中 d 是非零数)" 这种方程, 那么原方程组无解, 否则, 无解. 当有解时, 如果阶梯形矩阵的非零行数目 r 等于未知量数目 n, 那么原方程组有唯一解; 如果 r&lt;n, 那么原方程组有无群多个解.</p><p>如果一个线性方程组有解, 称它是相容的, 否则, 是不相容的. 常数项全为 0 的线性方程组称为 <b>齐次线性方程组</b>. \(0, 0, \cdots, 0\) 是齐次线性方程组的一个解, 称为 <b>零解</b>; 其余的解称为非零解. 如果一个齐次线性方程组有非零解, 那么它有无穷多个解.</p>\begin{cor}[高斯(Gauss)-约当(Jordan)算法定理推论一]\end{cor}<p>n 元齐次线性方程组有非零解的充要条件是: 它的系数矩阵经过初等行变换化成阶梯形矩阵中, 非零行的数目 \(r < n\).</p>\begin{cor}[高斯(Gauss)-约当(Jordan)算法定理推论二]\end{cor}<p>n 元齐次线性方程组如果方程的数目 s 小于未知量的个数 n, 那么它一定有非零解.</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">digraph graphname {&#10;  graph [ dpi = 300 ]; &#10;  node [color=Blue, fontcolor=Blacd, fontsize=16, shape=box]&#10;&#10;  A [label=&#34;&#32447;&#24615;&#26041;&#31243;&#32452;&#30340;&#22686;&#24191;&#30697;&#38453;&#34;];&#10;  B [label = &#34;&#38454;&#26799;&#22411;&#30697;&#38453;&#34;];&#10;  C [label = &#34;&#30456;&#24212;&#30340;&#38454;&#26799;&#22411;&#26041;&#31243;&#32452;&#20986;&#29616; \n &#39;0=d(&#20854;&#20013; d &#19981;&#31561;&#20110; 0)&#39;&#34;];&#10;  D [label = &#34;&#21407;&#26041;&#31243;&#32452;&#26080;&#35299;&#34;];&#10;  E [label = &#34;&#21021;&#31561;&#34892;&#21464;&#25442;&#34;];&#10;  F [label = &#34;&#31616;&#21270;&#34892;&#38454;&#26799;&#22411;&#30697;&#38453;&#34;];&#10;  G [label = &#34;&#38750;&#38646;&#34892;&#25968;&#30446;=&#26410;&#30693;&#37327;&#25968;&#30446;?&#34;];&#10;  H [label = &#34;&#21407;&#26041;&#31243;&#32452;&#26377;&#21807;&#19968;&#35299; \n &#21487;&#31435;&#21363;&#20889;&#20986;&#35299;&#34;];&#10;  I [label = &#34;&#26377;&#26080;&#32676;&#22810;&#20010;&#35299;, \n &#21487;&#20889;&#20986;&#19968;&#33324;&#35299;&#34;];&#10;&#10;  A -&#62; B [label = &#34; &#30697;&#38453;&#30340;&#21021;&#31561;&#34892;&#21464;&#25442;&#34;];&#10;  B -&#62; C ;&#10;  B -&#62; E;&#10;  C -&#62; D [label = &#34; &#26159;&#34;];&#10;  C -&#62; E [label = &#34; &#21542;&#34;];&#10;  E -&#62; F;&#10;  F -&#62; G;&#10;  G -&#62; H [label = &#34; &#26159;&#34;];&#10;  G -&#62; I [label = &#34; &#21542;&#34;];&#10;&#10;}&#10;</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3c4c4ea" class="outline-3"><h3 id="org3c4c4ea">数域</h3><div class="outline-text-3" id="text-org3c4c4ea">\begin{de}[数域定义]\end{de}<p>复数集的一个子集 K 如果满足下式, 则称 K 为一个 <b>数域</b>.</p>\begin{flalign*}\begin{split}\qquad (1)\ & 0,1 \in K \\\qquad (2)\ & a,b \in K ⟹ a \pm b, ab \in K, \\     & a,b \in K, and \, b \ne 0 ⟹ \frac{a}{b} \in K. \\\end{split}&\end{flalign*}<p>有理数集 Q, 实数集 R 和复数集 C 都是术语, 整数集 Z 不是数域, 有理数域是最小的数域.</p></div></div></div>Last Updated 2017-08-07 Mon 22:16 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-orga5824f3&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;orga5824f3&quot;&gt;概述&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-orga5824f3&quot;&gt;
&lt;p&gt;
高等代数的学习部分用以下书籍
&lt;/p&gt;

&lt;p&gt;
邱维声, (2010). 高等代数. : 清华大学出版社.
Hom, R. A. (2014). 矩阵分析. : 机械工业出版社. 
张贤达, (2013). 矩阵分析与应用. : 清华大学出版社.
&lt;/p&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Linear algebra" scheme="http://lengyueyang.github.io/tags/Linear-algebra/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学和统计-概率论与数理统计-随机变量及其概率分布</title>
    <link href="http://lengyueyang.github.io/2017/05/29/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E5%92%8C%E7%BB%9F%E8%AE%A1-%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1-%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/"/>
    <id>http://lengyueyang.github.io/2017/05/29/数据科学-数学和统计-概率论与数理统计-随机变量及其概率分布/</id>
    <published>2017-05-29T00:00:00.000Z</published>
    <updated>2017-07-10T05:28:52.817Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-orgd21402f" class="outline-2"><h2 id="orgd21402f">随机变量及其概率分布</h2><div class="outline-text-2" id="text-orgd21402f"></div><div id="outline-container-org0794bfd" class="outline-3"><h3 id="org0794bfd">一维随机变量</h3><div class="outline-text-3" id="text-org0794bfd"></div><div id="outline-container-org4da7eb5" class="outline-4"><h4 id="org4da7eb5">随机变量的概念</h4><div class="outline-text-4" id="text-org4da7eb5"><p>随机变量的定义：“其值随机会而定”的变量，是试验结果的函数</p><p>随机变量的反面为确定性变量，其取值遵循某种严格的规律的变量；</p><a id="more"></a><p>随机事件与随机变量的关系：前者从静态观点来研究随机现象，后者从动态观点，随机变量(向量)的研究，是概率论的中心内容</p><p>随机变量的分类（按其可能取的值的全体的性质）：离散型随机变量（只能取有限个值）和连续性随机变量（取值充满某一个区间，数学上抽象的情况）</p><p>随机变量的研究：取值、取各种值的概率</p></div></div><div id="outline-container-orge066008" class="outline-4"><h4 id="orge066008">离散型随机变量的分布及其例子</h4><div class="outline-text-4" id="text-orge066008">\begin{de}[离散型随机变量概率函数的定义]\end{de}<p>设 X 为离散型随机变量，其全部可能值为 \(\lbrace a_1, a_2, \dots \rbrace \) ，则下式称为为随机变量的概率函数</p>\begin{equation}p_i = P(X = a_i) \qquad (i = 1, 2, \dots )\end{equation}<p>显然，有 \(p_i \geqslant 0 , p_1 + p_2 + \dots = 1\)</p>\begin{de}[随机变量分布函数定义]\end{de}<p>设 X 为一随机变量，则函数 P(公式见下)称为 X 的分布函数</p>\begin{equation}F(x) = P(X \leqslant x) = F(x) (-\infty < x < ∞) = \sum_{\lbrace i|a_i ⩽ x \rbrace }p_i\end{equation}<p>离散型随机变量的概率函数和分布函数的关系：等价，知道其一即可知道另一个</p><p>随机变量的分布函数\(F(x)\)的性质：</p><ul class="org-ul"><li>\(F(x)\) 是单调非降: 当 \(x_1 ⩽ x_2\) 时，有 \(F(x_1) ⩽ F(x_2)\)</li><li>当 \(x → \infty\)时， \(F(x) → 1\) ; \(x → - \infty\)时， \(F(x) → 0\)</li></ul></div><ul class="org-ul"><li><a id="org50f438c"></a>离散性随机变量分布-二项分布<br><div class="outline-text-5" id="text-org50f438c">\begin{de}[二项分布定义]\end{de}<p>设某事件 A 在一次试验中发生的概率为 p, 先将这个试验独立的重复 n 次，以 X 记作 A 在 n 次试验中发生的次数，n 可取 \(0, 1, \dots ,n\) 等值，如 X 遵从下式，则称 X 所遵从的概率分布为二项分布，并常记为 \(B(n, p)\) ，记为 \(X \sim B(n, p)\)</p>\begin{equation}p_i = P(X = i) = b(i; n; p) = \binom{n}{i}p_i(1-p)^{n-p}\end{equation}<p>二项分布的条件：各次试验的条件是稳定的；各次试验的独立性</p></div></li><li><a id="org070549e"></a>离散性随机变量分布-泊松分布<br><div class="outline-text-5" id="text-org070549e">\begin{de}[泊松分布定义]\end{de}<p>随机变量 X 的可能取值为 \(0, 1, 2 \dots\) , 且概率分布如下式，则称 X 服从泊松分布，常记为 \(X \sim P(λ)\)  </p>\begin{equation}P(X = i) = e^{-λ}λ^i \divslash i! \end{equation}<p>波瓦松分布出现场合：表示在一定时间和空间内出现的事件个数</p><p>二项分布和波瓦松分布的关系：波瓦松分布可作为二项分布的极限而得到，若 X 服从 \(B(n, p)\) ，其中 n 很大，p 很小而 np 不太大时，则 X 的分布接近于参数为 np 的波瓦松分布</p></div></li><li><a id="orga1def5c"></a>离散性随机变量分布-超几何分布<br><div class="outline-text-5" id="text-orga1def5c">\begin{de}[超几何分布定义]\end{de}<p>随机变量 X 记为从 N 个产品里随机抽出 n 个里面所含废品数(废品总数为 M)，若 X 满足下式，则称 X 服从超级和分布</p>\begin{equation}  P(X = m) = \binom{M}{m} \binom{N-M}{n-m} \xsol \binom{N}{n} \end{equation}<p>在本例中，当 n 固定时, \(M \devslash N = p\) 固定，当 \(N → ∞\) 时，X 近似服从二项分布 \(B(n, p)\)</p></div></li><li><a id="org7ddca1f"></a>离散性随机变量分布-负二项分布<br><div class="outline-text-5" id="text-org7ddca1f">\begin{de}[负二项分布定义]\end{de}<p>负二项分布是定下废品个数 r，把总抽样次数减去 r 作为变量，概率分布如下式，则称 X 服从负二项分布  </p>\begin{equation}  P(X = i) = b(r-1; i+r-1, p)p = \binom{i+r-1}{r-1}p^r(1-p)^i \qquad (i = 0, 1, 2, \dots) \end{equation}<p>当 \(r = 1\) 时，<a href="#orge7b2f60">1</a> 概率 \(p, p(1-p), p(1-p)^2, \dots\) 呈公比为 1-p 的几何级数，因此，称之为几何分布</p></div></li></ul></div><div id="outline-container-orgc50b102" class="outline-4"><h4 id="orgc50b102">连续性随机变量的分布及其例子</h4><div class="outline-text-4" id="text-orgc50b102">\begin{de}[连续性随机变量概率密度函数定义]\end{de}<p>设连续型随机变量 X 有概率分布函数 F(x)，则概率分布函数的导数 \(f(x) = F'(x)\) 称为 X 的概率密度函数</p><p>连续型随机变量 X 概率密度函数的三条基本性质：</p><ul class="org-ul"><li>\(f(x) ⩾ 0 \)</li><li>\(\int_{-\infty}^\infty dx = 1\)</li><li>对任何常数 \(a < b\) , 有 \[P(a ⩽ X ⩽ b) = F(b) - F(a) = ∫_a^bf(x)\] 微积分基本定理</li></ul></div><ul class="org-ul"><li><a id="org7c1a5c4"></a>连续性随机变量分布-正态分布<br><div class="outline-text-5" id="text-org7c1a5c4">\begin{de}[正态分布定义]\end{de}<p>如果一个随机变量具有下式的概率密度函数，称 X 为正太随机变量，并记为 \(X \sim N(μ, σ)\) , &mu; 和 σ 都是常数，μ 可以取任何常数，而 \(0 < σ^2 < ∞\) .</p>\begin{equation}f(x) = \frac{1}{\sqrt{2\pi}\sigma}exp(-\frac{(x-\mu)^2}{2\sigma^2})\end{equation}<p>两个重要的积分例子 </p><ul class="org-ul"><li>\(I = \int_{-∞}^\infty exp(-\frac{t^2}{2}dt = \sqrt{2\pi}\) ,具体证明可以考虑 \(I^2 = 2\pi\)</li><li>\(I = \int_{-∞}^\infty t^2exp(-\frac{t^2}{2})dt = \sqrt{2\pi}\) ,用分部积分可得到</li></ul>\begin{de}[标准正态分布]\end{de}<p>若正太分布当 \(\mu = 0\) , \(σ^2 =1\) 时，称下式为正太分布 \(N(0, 1)\) 的密度函数, \\(N(0, 1)\) 称为标准正太分布</p>\begin{equation}f(x) = \frac{1}{\sqrt{2\pi}}exp(-\frac{x^2}{2})\end{equation}<p>一般在概率论中，正太分布的密度函数和分布函数分别记为 \(\phi(x)\) (或 手写的 \(\varphi(x)\)), \(Φ(x)\)</p></div></li><li><a id="org9fc839c"></a>连续性随机变量分布-指数分布<br><div class="outline-text-5" id="text-org9fc839c">\begin{de}[指数分布定义]\end{de}<p>若随机变量 X 有以下概率密度函数，则称 X 服从指数分布，其中 \(λ > 0\) 为参数</p>\begin{equation}f(x) = \left\{\begin{array}{ll}               λe^{-λx}, & if \quad x > 0 \\               0,    & if \quad \(x ⩽ 0\)              \end{array} \right.\end{equation}<p>变量 X 的分布函数 F(x) 见下式，指数分布最常见的一个场合是寿命分布， \(λ^{-1}\) 就是平均寿命 </p>\begin{equation}F(x) = P(X ⩽ x) = \int_{-∞}^xf(t)dt = \left\{\begin{array}{ll}                                       0,    & if \quad \(x ⩽ 0\) \\                                       1 - e^{-λx}, & if \quad x > 0                                       \end{array}\right\end{equation}</div></li><li><a id="org4be28a7"></a>连续性随机变量分布-威布尔分布<br><div class="outline-text-5" id="text-org4be28a7">\begin{de}[威布尔分布]\end{de}<p>若随机变量 X 有以下概率密度函数，则称 X 服从威布尔分布，其中 \(λ > 0\) , \(m > 0\) 是常数</p>\begin{equation}f(x) = \left\{\begin{array}{ll}               λαe^{-λx^\alpha}, & if \quad x > 0 \\               0,    & if \quad \(x ⩽ 0\)              \end{array} \right.\end{equation}<p>变量 X 的分布函数 F(x) 见下式</p>\begin{equation}F(x) = P(X ⩽ x) = \int_{-∞}^xf(t)dt = \left\{\begin{array}{ll}                                       0,    & if \quad \(x ⩽ 0\) \\                                       1 - e^{-λx^\alpha}, & if \quad x > 0                                       \end{array}\right\end{equation}<p>指数分布是威布尔分布当 \(α = 1\) 时的特例，威布尔分布考虑 λ 随事件变化而变化</p></div></li><li><a id="org03cf546"></a>连续性随机变量分布-均匀分布<br><div class="outline-text-5" id="text-org03cf546">\begin{de}[均匀分布定义]\end{de}<p>若随机变量 X 有以下概率密度函数，则称 X 服从区间 \([a, b]\) 上的均匀分布，常记为 \(X \sim R(a, b)\)</p>\begin{equation}f(x) = \left\{\begin{array}{ll}               1 ∕ (b-a) , & if \quad \(a ⩽ x ⩽ b\) \\               0,    & others              \end{array} \right.\end{equation}<p>变量 X 的均匀分布函数 F(x) 见下式 </p>\begin{equation}F(x) = P(X ⩽ x) = \int_{-∞}^xf(t)dt = \left\{\begin{array}{ll}                                       0, & if \quad \(x ⩽ a\) \\                                       (x - a) ∕ (b-a), & if \quad \(a ⩽ x ⩽ b\) \\                                       1^{}, & if \quad x > b                                       \end{array}\right\end{equation}</div></li></ul></div></div><div id="outline-container-org4356e07" class="outline-3"><h3 id="org4356e07">多维随机变量（随机向量）</h3><div class="outline-text-3" id="text-org4356e07"></div><div id="outline-container-orgaebe030" class="outline-4"><h4 id="orgaebe030">离散型随机向量的分布</h4><div class="outline-text-4" id="text-orgaebe030">\begin{de}[多维离散型随机向量概率函数定义]\end{de}<p>以 \(\lbrace a_{i1}, a_{i2}, \dots \rbrace \) 记 \(X_i\) 的全部可能取值 \((i = 1, 2, \dots)\) , 则事件 \(\lbrace X_1 = a_{1j_1}, X_2 = a_{2j_2}, \dots , X_n = a_{nj_n}\rbrace \) 的概率如下式所示，称为随机向量 \(X = (X_1, X_2, \dots , X_n)\) 的概率函数。</p>\begin{equation}\begin{split}p(j_1, j_2, \dots ,j_n) &= P(X_1 = a_{1j_1}, X_2 = a_{2j_2}, \dots , X_n = a_{}_{nj_n})  \\&(j_1, j_2, \dots , J_n = 1, 2, \dots)\end{split}\end{equation}<p>概率函数(<a href="#org6d3f0cc">1</a>)应满足一下条件</p><ul class="org-ul"><li>\(p(j_1, j_2, \dots ,j_n) \geqslant 0 \)</li><li>\(\sum_{j_n }\sum_{j_2} \dots \sum_{j_1} p(j_1, j_2, \dots ,j_n) = 1\)</li></ul></div><ul class="org-ul"><li><a id="orgf0f56ae"></a>多项分布<br><div class="outline-text-5" id="text-orgf0f56ae">\begin{de}[多项分布定义]\end{de}<p>设 \(A_1, A_2, \dots , A_n\) 组成一个完备事件群，先对立重复试验 N 次，以 \(X_i\) 记在这 N 次试验中事件　\(A_i\) 事件发生的次数 \((i = 1, \dots , n)\) ,则 \(X = (X_1, X_2, \dots , X_n)\) 为一个 n 维随机向量，它的取值范围是： \(X_1, X_2, \dots , X_n\) 都是非负整数，且其和为 N，X 的概率分布即为多项分布，记为 \(M(N; p_1, p_2, \dots , p_n)\), 概率函数见下式</p>\begin{equation}\begin{split}P(X_1 = k_1_{}, X_2 = k_2&, \dots , X_n = k_n_{}_{}) = \frac{N!}{k_1!k_2! \dots k_n!} p_1^k_1p_2^k_2 \dots p_n^k_n \\  (k_i ⩾ 0, \quad & k_1 + k_2 + \dots + k_n = N)\end{split}\end{equation}<p>多项分布是最重要的离散性多项分布，当一个总体按照某种属性分成几类时，就会涉及多项分布，如一种疾病可以按照严重程度分级，一种产品可以分成一等、二等、三等品等</p></div></li></ul></div><div id="outline-container-org0a69553" class="outline-4"><h4 id="org0a69553">连续型随机向量的分布</h4><div class="outline-text-4" id="text-org0a69553">\begin{de}[多维连续随机向量密度函数定义]\end{de}<p>\(X = (X_1, X_2, \dots , X_n)\) 是一个 n 维随机向量，若 \(f(x_1, x_2, \dots , x_n)\) 是定义在 \(\BbbR^n\) 上的非负函数，使对 \(\BbbR^n\) 中的任何几何 A，有下式成立，则称 f 是 X 的(概率)密度函数</p>\begin{equation}  P(X \in A) = \underbrace{\int \dots \int}_A f(x_1, x_2, \dots , x_n)dx_1 \dots dx_n\end{equation}<p>如果把 A 取成全空间 \(\BbbR^n\) ,则 \(\lbrace X \in A \rbrace \) 是必然事件，其概率为 1，因此有 \[\underbrace{\int \dots \int}_A f(x_1, x_2, \dots , x_n)dx_1 \dots dx_n = 1\]</p></div><ul class="org-ul"><li><a id="org6caa3ae"></a>二维均匀分布<br><div class="outline-text-5" id="text-org6caa3ae">\begin{de}[二维均匀分布定义]\end{de}<p>若随机变量 X 有以下概率密度函数，则称 X 服从区间是二维均匀分布</p>\begin{equation}f(x_1, x_2) = \left\{\begin{array}{ll}               1 ∕ (b-a)(d-c) , & if \quad \(a ⩽ x_1 ⩽ b\) \(and\) \(c ⩽ x_2 ⩽ d\) \\               0,    & others              \end{array} \right.\end{equation}</div></li><li><a id="org1f99ab9"></a>二维正太分布<br><div class="outline-text-5" id="text-org1f99ab9">\begin{de}[二维正态分布定义]\end{de}<p>如果一个随机变量具有下式的概率密度函数，称 X 为二维正态随机变量，并记为 \(X \sim N(a, b, σ_1^2, σ_2^2, \rho)\) , \(a, b, σ_1, σ_2\) 是这个分布的参数，其取值范围为： \[- ∞ < a, b < ∞, σ_1 >0, σ_2 >0, -1 < \rho < 1\]</p>\begin{equation}f(x_1, x_2) = (2\pi σ_1σ_2\sqrt{1-\rho^2})^{-1} exp\left[-\frac{1}{2(1-\rho^2)} \left( \frac{(x_1 - a)^2}{\sigma_1^2} + \frac{2\rho(x_1 - a)(x_2 - b)}{\sigma_1σ_2} + \frac{(x_2 - b)^2}{\sigma_2^2}\right)\right]\end{equation}<p>注意项：（a）连续型随机变量是有密度函数的随机变量；（b）各分量为一维连续型随机变量的随机向量并不一定是连续型随机变量；（c）可用概率分布函数去描述多维随机向量的概率分布</p></div></li></ul></div><div id="outline-container-org41679c4" class="outline-4"><h4 id="org41679c4">边缘分布</h4><div class="outline-text-4" id="text-org41679c4">\begin{de}[边缘分布定义]\end{de}<p>\(X = (X_1, X_2, \dots , X_n)\) 是一个 n 维随机向量，X 有 n 维分布 F，X 的每一个分量 \(X_i\) 都是一维随机向量，他们各自的分布 \(F_i \quad (i = 1, \dots , n)\) 都是一维分布，称为随机向量 X 或分布 F 的 “边缘分布”</p><p>边缘分布完全由原分布确定</p><p>离散型随机向量的边缘分布的计算：</p><ul class="org-ul"><li>分别计算行和和列和，再求</li><li>多项分布的边缘分布密度，\(X_n\) 的分布是二项分布 \(B(N, p_n)\)</li></ul><p>连续型随机向量的边缘分布：</p>\begin{equation}  f_1(x_1) = \int_{-\infty}^\infty \dots \int_{-\infty}^\infty f(x_1, x_2, \dots , x_n) dx_2 \dots dx_n\end{equation}<p>二维正态分布 \(X \sim N(a, b, σ_1^2, σ_2^2, \rho)\) 的边缘分布密度是一维正态分布 \(X \sim N(a, σ_1^2)\) 和 \(X \sim N(b, σ_2^2)\)</p><p>边缘分布要点：</p><ul class="org-ul"><li>已知某随机向量的分布可推导其任一分量的（边缘）分布</li><li>已知某随机向量的各分量的分布，也推导不出该随机向量的分布，因为边缘分布只考虑随机向量的某一分量的情况，未涉及他们之间的关系，而该关系包含的该随机向量的分布中</li><li>边缘分布也可以不只是单个的</li></ul></div></div></div><div id="outline-container-org66480f6" class="outline-3"><h3 id="org66480f6">条件概率分布与随机变量的独立性</h3><div class="outline-text-3" id="text-org66480f6"></div><div id="outline-container-org8d370a8" class="outline-4"><h4 id="org8d370a8">条件概率分布的概念</h4><div class="outline-text-4" id="text-org8d370a8"><p>一般形式：设有两个随机变量（向量）X，Y，在给定了 Y 取某个或某些值的条件下，去求 X 的条件分布</p></div></div><div id="outline-container-orge8d718b" class="outline-4"><h4 id="orge8d718b">离散型随机变量的条件概率分布</h4><div class="outline-text-4" id="text-orge8d718b">\begin{equation}P(X_1 = a_i | X_2 = b_j) = p_{ij}\sum_kp_{kj} \quad (i = 1, 2, \dots)\end{equation}<p>多项分布 \(M(N; p_1, p_2, \dots , p_n)\) 在 \(X_2 = k_2\) 条件下， \(X_1\) 的条件分布就是二项分布 \(B(N-k_2, p_1(1-p_2))\)</p></div></div><div id="outline-container-org7dae83a" class="outline-4"><h4 id="org7dae83a">连续型随机变量的条件分布</h4><div class="outline-text-4" id="text-org7dae83a">\begin{equation}\begin{split}  P(X_1 ⩽ x_1, a ⩽ X_2 ⩽ b) = \int_{-\infty}^{x_1}dt_1\int_a^bf(t_1, t_2)dt_2\xsol \int_a^bf_2(t_2)dt_2 \\  f(x_1, x_2) = f_2(x_2)f_1(x_1|x_2) \\  f(x_1, x_2) = f_1(x_1)f_2(x_2|x_1) \\  f(x_1, x_2, \dots , x_n) = g(x_1, x_2, \dots , x_k)h(x_{k+1}, \dots , x_n|x_1, \dots , x_k)\end{split}\end{equation}<p>二维正态分布的条件密度</p>\begin{equation}f(x_2, x_1) = (2\pi σ_2\sqrt{1-\rho^2})^{-1} exp\left[-\frac{(x_2 - (b + \rho \sigma_2\sigma_1^{-1}(x_1 - a)))}{2(1-\rho^2)σ_2^2}\right]\end{equation}<p>这是正太分布 \(N(b + \rho \sigma_2\sigma_1^{-1}(x_1 - a), (1-\rho^2)σ_2^2)\) ,可见正太变量的条件分布仍是正态分布，可以看出 &rho; 刻画了 \(X_1, X_2\) 之间的关系</p>\begin{equation}  f_1(x_1) = \int_{-\infty}^{\infty}f(x_1, x_2)dx_2 = \int_{-\infty}^{\infty}f(x_1 | x_2)f_2(x_2)dx_2\end{equation}</div></div><div id="outline-container-orge51c05b" class="outline-4"><h4 id="orge51c05b">随机变量的独立性</h4><div class="outline-text-4" id="text-orge51c05b">\begin{de}[随机变量独立性定义]\end{de}<p>n 维随机向量 \(X = (X_1, X_2, \dots , X_n)\) 的联合概率密度函数为 \(f(x_1, \dots , x_n)\) ,而 \(X_i\) 的边缘密度为 \(f_i(x_i) (i = 1, 2, \dots ,n)\) ,如满足下式则称变量 \(X_1, X_2, \dots , X_n\) 相互独立，简称独立 </p>\begin{equation}f(x_1, x_2, \dots ,x_n) = f_1(x_1)\dots f(x_n)\end{equation}\begin{thm}[连续随机变量独立性定理]\end{thm}<p>如果连续变量 \(X_1, X_2, \dots , X_n\) 独立，则对任何 \(a_i < b_i\) ,由 \(A_i = \lbrace a_1 ⩽ X_i ⩽ b_i \rbrace , (i = 1, 2, \dots)\) 定义的 n 个事件 \(A_1, \dots ,A_n\) 也独立；反之，若对任何 \(a_i < b_i\) ，事件 \(A_1, \dots ,A_n\) 独立，则变量 \(X_1, X_2, \dots , X_n\) 也独立</p>\begin{thm}[连续随机变量独立性定理二]\end{thm}<p>若连续随机向量 \((X_1, \dots , X_n)\) 的概率密度函数 \(f(x_1, \dots ,x_n)\) 可以表示为 n 个函数 \(g_1, \dots , g_n\) 之积，其中， \(g_i\) 只依赖于 \(x_i\) ，即 \[f(x_1, \dots ,x_n) = g_1(x_1) \dots g_n(x_n)\] ,则称 \((X_1, \dots , X_n)\) 独立，且 \(X_i\) 的边缘密度函数 \(f_i(x_i)\) 和 \(g_i(x_i)\) 只相差一个常数因子</p>\begin{thm}[连续随机变量独立性定理三]\end{thm}<p>若连续随机向量 \((X_1, \dots , X_n)\) 相互独立，而 \[Y_1 = g_1(X_1, \dots ,X_m) , \quad Y_2 = g_2(X_{m+1}, \dots ,X_n)\] ,则 \(Y_1\) 与 \(Y_2\) 独立</p>\begin{de}[离散型随机变量独立性定义]\end{de}<p>\((X_1, \dots , X_n)\) 都是离散随机变量，对任何常数 \(a_1, a_2, \dots, a_n\) 下式都成立，则称 \((X_1, \dots , X_n)\) 独立</p>\begin{equation}P(X_1 = a, \dots ,X_n = a_n) = P(X_1 = a_1) \dots P(X_n = a_n)\end{equation}<p>连续性随机变量的三条定理适用于离散数学随机变量</p></div></div></div><div id="outline-container-org947df06" class="outline-3"><h3 id="org947df06">随机变量的函数的概率分布</h3><div class="outline-text-3" id="text-org947df06"></div><div id="outline-container-org1bbe2ab" class="outline-4"><h4 id="org1bbe2ab">离散型分布的情况</h4><div class="outline-text-4" id="text-org1bbe2ab"><p>用概率概率思维解决问题：</p><ul class="org-ul"><li>多项分布： 设 \((X_1, X_2, \dots , X_n)\) 服从多项分布 \(M(N; p_1, \dots , p_n) \quad (n ⩾ 3)\) ,则 \(Y = X_1 + X_2\) 服从二项分布 \(B(N, p_1 + p_2)\) ，可以从公式去计算，也可以从概率角度去理解，多项分布定义 n 个事件 \(A_1, A_2, \dots , A_n\) , \(X_1, X_2, \dots , X_n\) 分别是他们在 N 次试验中发生的次数，先记  \(A = A_1 + A_2\) ,则事件 \(A, A_3, \dots , A_n\) 仍然构成一个万别事件群，其概率分别为 \(p_1 + p_2, p_3, \dots , p_n\) ，记 \(Y = X_1 + X_2\) ，则  \((Y, X_3, \dots , X_n)\) 构成多项分布 \(B(N, p_1 + p_2, p_3, \dots , p_n)\) ，而 Y 成为这个多项分布的一个边缘分布，可得上述结论</li><li>二项分布: 设 \(X_1\) 和 \(X_2\) ，分别服从二项分布 \(B(n_1, p)\) 和 \(B(n_2, p)\) ，则 \(Y = X_1 + X_2\) 服从二项分布 \(B(n_1 + p_2, p)\)</li><li>波松分布: 设 \(X_1\) 和 \(X_2\) ，分别服从泊松分布 \(P(λ_1)\) 和 \(P(λ_2)\) ，则 \(Y = X_1 + X_2\) 服从泊松分布 \(P(λ_1 + λ_2)\)</li></ul></div></div><div id="outline-container-orga11b86a" class="outline-4"><h4 id="orga11b86a">连续型分布的情况：一般讨论</h4><div class="outline-text-4" id="text-orga11b86a">\begin{de}[单变量函数的密度函数]\end{de}<p>设 X 有密度函数 f(x)，\(Y = g(X)\) ,其反函数 \(X = h(Y)\) 存在，且 h 的导数 \(h'\) 存在，则 Y 的密度函数如下式</p>\begin{equation}l(y) = f(h(y))|h'(y)|\end{equation}\begin{de}[二变量函数的密度函数]\end{de}<p>设 \(X_1, X_2\) 有密度函数 \(f(x_1, x_2)\) ，\(Y_1, Y_2\) 都是 \(X_1, X_2\) 的函数： \[Y_1 = g_1(X_1, X_2), \quad Y_2 = g_2(X_1, X_2)\] ,其反函数 \[X_1 = h_1(Y_1, Y_2), \quad X_2 = h_2(Y_1, Y_2)\] 存在，又假定 \(g_1, g_2\) 都有一阶连续偏导数， \(h_1, h_2\) 也有连续偏导数，在一一对应变换的情况下，雅可比行列式如下式，则 \((Y_1, Y_2)\) 的密度函数见下式 </p>\begin{equation*}\symbf{J}(y_1, y_2) = \left|\begin{array}{ll}               {\partial h_1} \divslash {\partial y_1} & \quad {\partial h_1} \divslash {\partial y_2} \\               {\partial h_2} \divslash {\partial y_2} & \quad {\partial h_2} \divslash {\partial y_2}              \end{array} \right|\end{equation*}\begin{equation}l(y_1, y_2) = f(h_1(y_1, y_2), h_2(y_1, y_2))|\symbf{J}(y_1, y_2)|\end{equation}\begin{de}[多变量函数的密度函数]\end{de}<p>设 \(X_1, \dots , X_2\) 有密度函数 \(f(x_1, \dots , x_2)\) ，\(Y_1, Y_2, \dots , Y_n\) 都是 \(X_1, X_2, \dots ,X_n\) 的函数： \[Y_i = g_i(X_1, X_2, \dots, X_n) \quad (i = 1, \dots, n)\] ,其反函数 \[X_i = h_i(Y_1, Y_2, \dots , Y_n) \quad (i = 1, \dots ,n)\] 存在，又假定 \(g_1, g_2, \dots ,g_n\) 都有一阶连续偏导数， \(h_1, h_2, \dots , h_n\) 也有连续偏导数，在一一对应变换的情况下，雅可比行列式如下式，则 \((Y_1, Y_2, \dots , Y_n)\) 的密度函数见下式 </p>\begin{equation*}\symbf{J}(y_1, y_2, \dots , y_n) = \left|\begin{array}{lll}                                 {\partial h_1} \divslash {\partial y_1} & \quad \dots & \quad {\partial h_1} \divslash {\partial y_2} \\                                 \vdots                    & \quad   & \quad ⋮                         \\                                 {\partial h_2} \divslash {\partial y_2} & \quad \dots & \quad {\partial h_2} \divslash {\partial y_2} \\                               \end{array} \right|\end{equation*}\begin{equation}l(y_1, y_2, \dots , y_n) = f(h_1(y_1, y_2, \dots ,y_n), \dots , h_n(y_1, y_2, \dots , y_n))|\symbf{J}(y_1, y_2, \dots ,y_n)|\end{equation}</div></div><div id="outline-container-org80d24b7" class="outline-4"><h4 id="org80d24b7">随机变量和的密度函数</h4><div class="outline-text-4" id="text-org80d24b7">\begin{de}[二维随机变量和密度函数]\end{de}<p>设 \((X_1, X_2)\) 的联合密度函数为 \(f(x_1, x_2)\) , 则 \(Y = X_1 + X_2\) 的密度函数如下式</p>\begin{equation}  l(y) = \int_{-\infty}^\infty f(y-x, x)dx = \int_{-\infty}^\infty f(x, y-x)dx\end{equation}<p>若 \(X_1\) 与 \(X_2\) 独立，则</p>\begin{equation*}  l(y) = \int_{-\infty}^\infty f_1(y-x)f_2(x)dx = \int_{-\infty}^\infty f_1(x)f_2(y-x)dx\end{equation*}\begin{de}[正态分布和密度函数]\end{de}<p>设 \((X_1, X_2)\) 分别服从正太分布 \(N(\mu_1, \sigma_1^2), N(\mu_2, σ_2^2)\) ,则 \(Y = X_1 + X_2\) 服从二维正太分布 \(N(u_1 + \mu_2, σ_1^2 + σ_2^2 + 2\rho\sigma_1\sigma_2)\) , \(Y = X_1 + X_2\) 的密度函数如下式</p>\begin{equation}l(y) = \frac{1}{\sqrt{2\pi(σ_1^2 + σ_2^2 + 2\rho\sigma_1\sigma_2)}}exp\left[-\frac{(y-\mu_1 -\mu_2)^2}{2(σ_1^2 + σ_2^2 + 2\rho\sigma_1\sigma_2)}\right]\end{equation}<p>由(<a href="#org8a9c7c8">1</a>)可以看出，若 Y 服从正太分布，则 Y 可以表示成两个随机变量 \(X_1, X_2\) 之和，且 \(X_1, X_2\) 也必须服从正太分布，这个性质称为 “正态分布的再生性” ，显然对多个变量上式仍成立。</p><p>两个重要的函数： <a href="#org52a3b94">\(Γ\) 函数</a> 和 <a href="#org4b02887">\(\Beta\) 函数</a> 公式</p>\begin{equation}\Gamma(x) = \int_0^\infty e^{ - t}t^{x - 1}dt \quad (x > 0)\end{equation}\begin{equation}\Beta(x, y) = \int_0^1 t^{x - 1} (1-t)^{y-1} dt \quad (x, y > 0)\end{equation}<p>由 <a href="#org52a3b94">\(Γ\) 函数</a> 和 <a href="#org4b02887">\(\Beta\) 函数</a> 公式，可以计算出下面结论</p>\begin{equation}\begin{split}& Γ(1) = 1 \\& Γ(1/2) = \sqrt{\pi} \\& Γ(n) = (n-1)! \\& Γ(n/2) = 1*3*5\dots*(n-2)*2^{-(n-1)/2}\sqrt{\pi} \\& F(x + 1) = x\Gamma(x) \\& \Beta(x, y) = \Gamma(x)\Gamma(y) \divslash \Gamma(x, y)\end{split}\end{equation}</div><ul class="org-ul"><li><a id="org552baf4"></a>卡方分布<br><div class="outline-text-5" id="text-org552baf4">\begin{de}[卡方分布定义]\end{de}<p>若 \(X_1, X_2, \dots , X_n\) 相互独立，都服从正太分布 \(N(0, 1)\) ,则 \(Y = X_1^2 + \dots + X_n^2\) 服从自由度为 n 的卡方分布 \(\chi_n^2\) ,其密度函数见下式</p>\begin{equation}k_n (x) = \left\{\begin{array}{ll}               \frac{1}{Γ(2/n)2^{n/2}}e^{-x/2} x^{(n-2)/2} & \quad if x > 0 \\               0 & \quad if x ⩽ 0              \end{array} \right\end{equation}<p>上式(<a href="#orgb62ded8">1</a>)称为自由度为 n 的皮尔逊卡方密度，相应的分布称为卡方分布</p><p>卡方分布的性质：</p><ul class="org-ul"><li>设 \(X_1, X_2\) 独立， \(X_1 \sim \chi_m^2, \, X_2 \sim \chi_n^2\) ,则  \(X_1 + X_2 \sim \chi_{m+n}^2\)</li><li>若 \(X_1, \dots , X_n\) 独立，且都服从指数分布(<a href="#org828ccaf">1</a>) ,则 \[X = 2λ(X_1 + X_2 + \dots + X_n) \sim \chi_{2n}^n\]</li></ul></div></li></ul></div><div id="outline-container-org2aae543" class="outline-4"><h4 id="org2aae543">随机变量商的密度函数</h4><div class="outline-text-4" id="text-org2aae543">\begin{de}[随机变量商密度函数]\end{de}<p>设 \((X_1, X_2)\) 的联合密度函数为 \(f(x_1, x_2)\) , 则 \(Y = X_2/X_1\) 的密度函数如下式</p>\begin{equation}  l(y) = \int_0^\infty x_1f(x_1, x_1y)dx_1\end{equation}<p>若 \(X_1\) 与 \(X_2\) 独立，则</p>\begin{equation*}  l(y) = \int_0^\infty x_1f_1(x_1)f_2(x_1y)dx_1\end{equation*}</div><ul class="org-ul"><li><a id="org398d2f9"></a>t 分布<br><div class="outline-text-5" id="text-org398d2f9">\begin{de}[t 分布定义]\end{de}<p>若 \(X_1, X_2\) 独立，都服从分布 \(X_1 \sim \chi_n^2, \, X_2 \sim N(0, 1)\) ,则 \(Y = X_2 ∕ \sqrt{X_1/n}\) 服从自由度为 n 的 t 分布 \(t_n, \quad Y \sim t_n\) ,其密度函数见下式</p>\begin{equation}  t_n (y) =  \frac{Γ(n + 1)/2}{Γ(n/2)\sqrt{2\pi{}}}\left( 1 + \frac{y^2}{n} \right)^{-\frac{(n+1}{2}}\Gamma\left(\frac{(n+1)}{2} \right)\end{equation}<p>当自由度 n 很大时，t 分布接近于正态分布</p></div></li><li><a id="orgf606c97"></a>F 分布<br><div class="outline-text-5" id="text-orgf606c97">\begin{de}[F 分布定义]\end{de}<p>若 \(X_1, X_2\) 独立，都服从卡方分布 \(X_1 \sim \chi_n^2, \, X_2 \sim \chi_m^2\) ,则 \(Y = m^{-1}X_2 ∕ (n^{-1}X_1)\) 服从自由度为 \(m, n\) 的 F 分布 \(Y \sim F_{mn}\) ,其密度函数见下式</p>\begin{equation}  f_{mn}(y) =  m^{m/2}n^{n/2} \frac{Γ((m + n)/2)}{Γ(m/2)Γ(n/2)} y^{m/2-1} (my + n)^{-(m+n)/2} \end{equation}</div></li><li><a id="orgffcb2f0"></a>统计上的三大分布应用性质<br><div class="outline-text-5" id="text-orgffcb2f0"><ul class="org-ul"><li>设 \(X_1, \dots , X_n\) 独立同分布，有公共的正态分布 \(N(\mu, σ^2)\) ,记 \(\overbar{X} = (X_1 + \dots + X_n)/n, \, S^2 = \sum_{i=1}^n (X_i - \overbar{X})^2/(n-1)\) ，则 \[(n-1)S^2 ∕σ^2 = \sum_{i=1}^n (X_i - \overbar{X})^2 ∕σ^2 \sim \chi_{n-1}^2\]</li><li>\(X_1, \dots , X_n\) 假定同上，则 \[\sqrt{n}(\overbar{X} - \mu) ∕S \sim t_{n-1}\]</li><li>设 \(X_1, \dots , X_n\) , \(Y_1, \dots , Y_m\) 独立，\(X_i\) 有公共的正态分布 \(N(\mu_1, σ_1^2)\) , \(Y_i\) 有公共的正态分布 \(N(\mu_2, σ_2^2)\) ,则 \[ \left[\sum_{j=1}^n (Y_j - \overbar{Y})^2 ∕(σ_2^2(m-1))\right] \xsol \left[\sum_{i=1}^n (X_i - \overbar{X})^2 ∕(σ_1^2(n-1))\right] \sim F_{m-1, n-1} \] 若 \(σ_1^2 = σ_2^2\) 则 \(N(\mu_2, σ_2^2)\) ,则 \[\left\sqrt{\frac{nm(n+m-2)}{n+m}}[(\overbar{X} \minus \overbar{Y}) - (\mu_1 \minus \mu_2)] ∕\left[\sum_{i=1}^n (X_i - \overbar{X})^2 \minus \sum_{j=1}^n (Y_j - \overbar{Y})^2\right] \sim t_{n+m-2} \]</li></ul></div></li></ul></div></div><div id="outline-container-org9926cbc" class="outline-3"><h3 id="org9926cbc">例题</h3></div><div id="outline-container-orge9068cc" class="outline-3"><h3 id="orge9068cc">参考网页</h3><div class="outline-text-3" id="text-orge9068cc"><p><a href="http://blog.csdn.net/zhang22huan/article/details/8546822" target="_blank" rel="noopener">http://blog.csdn.net/zhang22huan/article/details/8546822</a></p></div></div></div>Last Updated 2017-07-10 Mon 13:28 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-orgd21402f&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;orgd21402f&quot;&gt;随机变量及其概率分布&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-orgd21402f&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-org0794bfd&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;org0794bfd&quot;&gt;一维随机变量&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-org0794bfd&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-org4da7eb5&quot; class=&quot;outline-4&quot;&gt;
&lt;h4 id=&quot;org4da7eb5&quot;&gt;随机变量的概念&lt;/h4&gt;
&lt;div class=&quot;outline-text-4&quot; id=&quot;text-org4da7eb5&quot;&gt;
&lt;p&gt;
随机变量的定义：“其值随机会而定”的变量，是试验结果的函数
&lt;/p&gt;

&lt;p&gt;
随机变量的反面为确定性变量，其取值遵循某种严格的规律的变量；
&lt;/p&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Statistics" scheme="http://lengyueyang.github.io/tags/Statistics/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学和统计-概率论与数理统计-随机变量的数字特征</title>
    <link href="http://lengyueyang.github.io/2017/05/29/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E5%92%8C%E7%BB%9F%E8%AE%A1-%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1-%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E5%AD%97%E7%89%B9%E5%BE%81/"/>
    <id>http://lengyueyang.github.io/2017/05/29/数据科学-数学和统计-概率论与数理统计-随机变量的数字特征/</id>
    <published>2017-05-29T00:00:00.000Z</published>
    <updated>2017-08-07T14:18:34.720Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org2a41ed6" class="outline-2"><h2 id="org2a41ed6">随机变量的数字特征</h2><div class="outline-text-2" id="text-org2a41ed6"></div><div id="outline-container-org7fcc820" class="outline-3"><h3 id="org7fcc820">数学期望（均值）与中位数</h3><div class="outline-text-3" id="text-org7fcc820"></div><div id="outline-container-orga663391" class="outline-4"><h4 id="orga663391">数学期望的定义</h4><div class="outline-text-4" id="text-orga663391">\begin{de}[离散型随机变量数学期望]\end{de}<p>设离散型随机变量 X 只取有限个可能值 \(a_1, \dots , a_n\) , 其概率分布 \(P(X = a_i) = p_i \, (i = 1, \dots ,m)\) ,则 X 的数学期望记作 \(E(X) or EX\) 定义为 \[E(X) = a_1p_1 + \dots + a_np_n\] ,若 n 取无限个值，若下式收敛，则称其为 X 的数学期望，数学期望也常称为平均，这里平均是加权平均</p><a id="more"></a>\begin{equation}E(X) = \sum_{i = 1}^\infty a_ip_i\end{equation}\begin{de}[连续性随机变量数学期望]\end{de}<p>连续型随机变量 X 的密度函数是 \(f(x)\) ， 如果下式收敛，则称 \(E(X)\) 为 X 的数学期望</p>\begin{equation}  E(X) = \int_{-\infty}^\infty xf(x) dx\end{equation}<p>几个重要分布的数学期望</p><ul class="org-ul"><li>泊松分布的数学期望 是 λ (指定时间内发生时间的平均次数)</li><li>二项分布的数学期望 是 np</li><li>负二项分布的数学期望是 \(r(1-p)p\)</li><li>均匀分布的数学期望是 \(\frac{a+b}{2}\)</li><li>指数分布的数学期望是 \(λ^{-1}\) (在寿命分析中是平均寿命)</li><li>正太分布的数学期望是 μ</li></ul><p>数学期望由随机变量的分布完全决定，但在某些问题中，难于决定某些变量的分布如何，但有相当的根据（经验或理论）对期望值提出一些假定甚至有不少的了解；当需要通过观察或试验取得数据已经行估计时，估计随机变量的数字特征要比估计其分布容易且确切</p><p>在理论和应用中重要原因：本身含义；具备的良好性质，如工人的工资，容易知道其均值，单分布未知</p></div></div><div id="outline-container-orgc4182d0" class="outline-4"><h4 id="orgc4182d0">数学期望的性质</h4><div class="outline-text-4" id="text-orgc4182d0">\begin{thm}[数学期望性质-1]\end{thm}<p>若随机变量 \(X_1, \dots , X_n\) 的数学期望存在，则其和的期望等于各变量的期望之和，如下式</p>\begin{equation}E(X_1 + \dots + X_n) = E(X_1) + \dots + E(X_n)\end{equation}\begin{thm}[数学期望性质-2]\end{thm}<p>若独立随机变量 \(X_1, \dots , X_n\) 的数学期望存在，则其积的期望等于各变量的期望之积，如下式</p>\begin{equation}E(X_1 \dots X_n) = E(X_1)  \dots  E(X_n)\end{equation}\begin{thm}[数学期望性质-3]\end{thm}<p>若随机变量 X 为离散型，有分布 \(P(X = a_i) = p_i \quad (i = 1, \dots , n)\) ,或者为连续型，有概率密度函数 \(f(x)\) ,则有下式</p>\begin{equation}E(g(X)) = \sum_ig(a_i)p_i \quad (if \sum_ig(a_i)p_i < ∞)\end{equation}\begin{equation}  E(g(X)) = \int_{-\infty}^\infty g(x)f(x)dx \quad (if \int_{-\infty}^\infty |g(x)|f(x)dx < \infty)\end{equation}<p>统计三大分布的期望：</p><ul class="org-ul"><li>\(X \sim \chi_n^2, \, E(X) = n\)</li><li>\(X \sim t_n, \, E(X) = 0 \quad (n > 1)\)</li><li>\(X \sim F_{m,n}, \, E(X) = n(n-2) \quad (n >2)\)</li></ul></div></div><div id="outline-container-orgb27d114" class="outline-4"><h4 id="orgb27d114">条件数学期望（条件均值）</h4><div class="outline-text-4" id="text-orgb27d114"><p>条件数学期望公式</p>\begin{equation}E(Y|x) = \int_{-\infty}^\infty yf(y|x)dy\end{equation}<p>意义：反映了随着 X 取值 x 的变化，Y 的平均变化情况如何，如对 \((X, Y) \sim N(a, b, σ_1^2, σ_2^2, \rho)\) ,在给定 \(X = x\) 条件下的正态分布为 \(N(b + \rho \sigma_2\sigma_1^{-1}(x_1 - a), (1-\rho^2)σ_2^2)\) ，故 \[E(Y|x) = b + \rho \sigma_2\sigma_1^{-1}(x_1 - a)\]</p><p>期望的条件数学期望公式</p>\begin{equation}\begin{split}E(Y) = \int_{-\infty}^\infty E(Y|x)f_1(x)dx \\E(Y) = \int_{-\infty}^\infty g(x)f_1(x)dx \quad (g(x) = E(Y|x)) \\E(Y) = E[E(Y|x)]\end{split}\end{equation}<p>上述最后一个式子可以叙述为：一个变量 Y 的期望，等于其条件期望的期望(离散、连续)</p><p>在统计学上，常把条件期望 \(E(Y|x)\) 作为 x 的函数，称为 Y 对 X 的“回归函数”，“回归分析”即关于回归函数的统计研究</p><p>变量 Y 的（无条件）期望 = Y 的无条件期望 \(E(Y|x)\) 对 x 取加权平均，x 的权与变量 X 在 x 点的概率密度称比例</p></div></div><div id="outline-container-org31c4574" class="outline-4"><h4 id="org31c4574">中位数</h4><div class="outline-text-4" id="text-org31c4574">\begin{de}[中位数定义]\end{de}<p>设连续随机变量 X 的分布函数为 \(F(x)\) ,则满足下式的数 m 称为 X 或者分布 F 的中位数</p>\begin{equation}P(X ⩽ m) = F(m) = 1/2\end{equation}<p>和数学期望一样，中位数用于刻画一个随机变量 X 的平均取值的数学特征</p><p>与数学期望相比的优点：受个别特大或特小值的影响很小；中位数总存在</p><p>在理论和应用中数学期望重要性超过中位数的原因：均值有很多优良的性质；中位数不唯一且离散型变量中位数不完全符合“中位”含义</p></div></div></div><div id="outline-container-org40a9f7e" class="outline-3"><h3 id="org40a9f7e">方差与钜</h3><div class="outline-text-3" id="text-org40a9f7e"></div><div id="outline-container-orgae3cbb3" class="outline-4"><h4 id="orgae3cbb3">方差和标准差</h4><div class="outline-text-4" id="text-orgae3cbb3">\begin{de}[方差定义]\end{de}<p>X 为随机变量，其分布为 F，则 \(Var(X)\)(见下式) 称为 X(或分布 F)的方差，其平方根(取正值)称为标准差</p>\begin{equation}Var(X) = E(X - EX)^2 = E(X^2) - (EX)^2\end{equation}<p>方差的数学性质：</p>\begin{thm}[方差的数学性质-1]\end{thm}<ul class="org-ul"><li>常数的方差是 0</li><li>若 c 为常数，则 \(Var(X + c) = Var(X)\)</li><li>若 c 为常数，则 \(Var(cX) = c^2Var(X)\)</li></ul>\begin{thm}[方差的数学性质-2]\end{thm}<p>独立随机变量之和的方差等于各变量的方差之和，公式如下</p>\begin{equation}Var(X_1 + \dots + X_n) = Var(X_1) + \dots + Var(X_n)\end{equation}<p>方差是刻画随机变量在其中心附近散布程度的数字特征之一</p><p>平均绝对差是刻画随机变量散布度的数字特征之一</p><p>几个重要分布的数学期望</p><ul class="org-ul"><li>泊松分布的数学方差是 λ (指定时间内发生时间的平均次数)</li><li>二项分布的数学方差是 \(np(1-p)\)</li><li>均匀分布的数学方差是 \(\frac{(b-a)^2}{12}\)</li><li>指数分布的数学方差是 \(λ^{-2}\)</li><li>正太分布的数学方差是 \(σ^2\)</li></ul><p>统计三大分布的期望：</p><ul class="org-ul"><li>\(X \sim \chi_n^2, \, var(X) = 2n\)</li><li>\(X \sim t_n, \, Var(X) = n ∕ (n-2) \quad (n > 2)\)</li><li>\(X \sim F_{m,n}, \, Var(X) = 2n^2(m+n-2) ∕ [m(n-2)^2(n-4)] \quad (n > 4)\)</li></ul></div></div><div id="outline-container-org5270c9a" class="outline-4"><h4 id="org5270c9a">钜</h4><div class="outline-text-4" id="text-org5270c9a">\begin{de}[矩定义]\end{de}<p>设 X 为随机变量，c 为常数，k 为正整数，则量 \(E[(X-c)^k]\) 称为 X 关于 c 点的 k 阶矩</p><p>矩比较重要的性质</p><ul class="org-ul"><li>\(c = 0\) ， \(α^k = E(X^k)\) 称为 X 的 k 阶原点矩</li><li>\(c = E(X)\) ， \(\mu^k = E[(X-EX)^k]\) 称为 X 的 k 阶中心距</li></ul><p>一阶原点矩为期望；一阶中心距为 0；二阶中心距为方差</p><p>统计学上，高于 4 阶的钜极少使用</p><p>三阶中心距：衡量分布是否有偏：对称为 0；大于 0 为正偏或右偏；小于 0 为负偏或左偏偏度系数为 \(\beta_1\) ，则</p>\begin{equation}\beta_1 = u_3 ∕ u_2^(3/2)\end{equation}<p>四阶中心距：衡量分布（密度）在均值附近的陡峭程度如何。越陡峭值越小峰度系数为 \(\beta_2\) 则</p>\begin{equation}\beta_2 = u_4 ∕ u_2^2\end{equation}</div></div></div><div id="outline-container-org4b679a4" class="outline-3"><h3 id="org4b679a4">协方差与相关系数</h3><div class="outline-text-3" id="text-org4b679a4">\begin{de}[协方差定义]\end{de}<p>设 \(X, Y\) 是二维随机变量，X，Y 本身都是一维随机变量，记 \[E(X) = m_1, E(Y) = m_2, Var(X) = σ_1^2, var(Y) = σ_2^2\] , 则称 \(E[(X-m_1)(Y-m_2)]\) 为 \(X, Y\) 的协方差，记为 \(Cov(X, Y)\) ，有 \(Cov(X, Y) = Cov(Y, X)\) ，且有 \[Cov(c_1X + c_2, c_3Y +c_4) = c_1c_3Cov(X, Y)\] , \[Cov(X, Y) = E(XY) - m_1m_2\]</p>\begin{thm}[协方差性质]\end{thm}<ul class="org-ul"><li>若 X，Y 独立，则 \(Cov(X, Y) = 0\)</li><li>\([Cov(X, Y)]^2 ⩽ σ_1^2σ_2^2\) , 等号成立当且仅当 X，Y 之间有严格的线性关系(即：存在常数 a，b 使得 Y=a+bX)</li></ul><p>协方差意义：多维随机变量的数字特征，反应分量之间的关系</p>\begin{de}[相关系数定义]\end{de}<p>设 \(X, Y\) 是二维随机变量，X，Y 本身都是一维随机变量，记 \[E(X) = m_1, E(Y) = m_2, Var(X) = σ_1^2, var(Y) = σ_2^2\] , 则称 \(Cov(X, Y) ∕ (σ_1σ_2)\) 为 \(X, Y\) 的相关系数，并记为 \(Corr(X, Y)\)</p>\begin{thm}[相关系数性质]\end{thm}<ul class="org-ul"><li>若 X，Y 独立，则 \(Corr(X, Y) = 0\)</li><li>\(|Corr(X, Y)]| ⩽ 1\) , 等号成立当且仅当 X，Y 之间有严格的线性关系(即：存在常数 a，b 使得 Y=a+bX)</li></ul><p>相关系数意义：标准尺度下的协方差</p><p>不相关和独立间的关系：Corr(X,Y)=0，表示 X 和 Y 不相关，X 和 Y 相关不一定独立，但独立一定相关</p><p>相关系数也称为线性相关系数。若 0&lt;abs(Cov(X,Y))&lt;1，则表示：X,Y 之间有一定程度的线性关系而非严格的线性关系</p><p>“线性相关”的最小二乘解释： 由 \[m_2 = bm_1 + a, b = σ_1^{-1}\sigma_2Corr(X, Y)\]</p><p>二维正态分布的相关系数特性：</p><ul class="org-ul"><li>若 \((X, Y)\) 为二维正态分布，则允许用任何函数 M(X) 去逼近 Y，所得到的结果与线性逼近结果类似，而线性逼近的程度完全取决于相关系数</li><li>若 \((X, Y)\) 为二维正态分布，由  \(Corr(X, Y) = 0\) 可以推出 X，Y 独立，即在这种情况下，独立与相关等同</li></ul></div></div><div id="outline-container-orgec21493" class="outline-3"><h3 id="orgec21493">大数定理和中心极限定理</h3><div class="outline-text-3" id="text-orgec21493"></div><div id="outline-container-org2ef8a67" class="outline-4"><h4 id="org2ef8a67">大数定理</h4><div class="outline-text-4" id="text-org2ef8a67">\begin{thm}[大数定理定义]\end{thm}<p>设 \(X_1, X_2, \dots , X_n\) 是独立同分布的随机变量，记他们的公共均值为 a，又设他们的方差存在并记为 \(σ^2\) , 则对任意给定的 \(ε > 0\) , 有下式成立，指出了 “当 n 很大时， \(\overbar(X)\) 接近于 a”，在概率论中叫做 " \(\overbar(X)\) 依概率收敛于 a"</p>\begin{equation}  \lim_{n\to\infty} P(|\overbar(X) - a| \geqslant \varepsilon) = 0\end{equation}<p>上式一个重要的推广是伯努利大数定理，即 “频率收敛于概率”，公式如下</p>\begin{equation}  \lim_{n\to\infty} P(p_n - p| \geqslant \varepsilon) = 0\end{equation}<p>大数定理的证明需要用到马尔科夫不等式和切比雪夫不等式，如下若 Y 为只能取非负值的随机变量， \(Var(Y)\) 存在，则对仍给常数 \(ε > 0\) , 有</p><p>马尔科夫不等式</p>\begin{equation}P(Y ⩾ ε) ⩽ E(Y) ∕ ε\end{equation}<p>切比雪夫不等式</p>\begin{equation}P(|Y-EY| ⩾ ε) ⩽ Var(Y) ∕ ε^2\end{equation}</div></div><div id="outline-container-org154d5e6" class="outline-4"><h4 id="org154d5e6">中心极限定理</h4><div class="outline-text-4" id="text-org154d5e6">\begin{thm}[林徳伯格定理]\end{thm}<p>设 \(X_1, X_2, \dots , X_n\) 为独立同分布的随机变量， \(E(X_i) = a_i, Var(X_i) = σ^2 (σ^2 > 0)\) , 则对任何实数 x，有下式成立，其中 \(\Phi(x)\) 是标准正态分布 \(N(0, 1)\) 的分布函数</p>\begin{equation}  \lim_{n\to\infty} P\left( \frac{1}{\sqrt{n}σ}(X_1 + \dots + X_n - na) \leqslant x \right) = \Phi(x)\end{equation}<p>虽则在一般情况很难求出 \(X_1, X_2, \dots , X_n\) 的分布的确切形式，但当 n 很大时，可通过正态分布求其近似值</p>\begin{thm}[棣莫弗-拉普拉斯定理\end{thm}<p>设 \(X_1, X_2, \dots , X_n\) 为独立同分布的随机变量， \(X_i\) 的分布是 \[P(X_i =1) = p, \quda P(X_i = 0) = 1-p \quad (0<p<1)\] ,="" 则对任何实数="" x，有下式成立，其中="" \(\phi(x)\)="" 是标准正态分布="" \(n(0,="" 1)\)="" 的分布函数="" <="" p="">\begin{equation}  \lim_{n\to\infty} P\left( \frac{1}{\sqrt{np(1-p)}}(X_1 + \dots + X_n - np) \leqslant x \right) = \Phi(x)\end{equation}<p><a href="#orge9716b7">棣莫弗-拉普拉斯定理</a> 是 <a href="#org4a94e32">林徳伯格定理</a> 的特例，是用正态分布去逼近二项分布(当 p 固定，n 很大时，np 值很大)，也可以用泊松分布去逼近二项分布(p 很小，np = λ 不太大时)，二者相同点是 n 值很大</p><p>若 \(t_1, t_2\) 是两个正整数， \(t_1 < t_2\) ， 则当 n 相当大时，按照 <a href="#org6d4f73f">1</a> ，近似有 \[P(t_1 ⩽ X_1 + \dots + X_n ⩽ t_2) = Φ(y_2) - \Phi(y_1)\] 其中 \[y_i = (t_i - np) ∕ \sqrt{np(1-p) \quad (i = 1, 2)}\]若将 \(y_1, y_2\) 修正为 \[y_1 = \left( t_1 - \frac{1}{2} -np\right) ⧸ \sqrt{np(1-p)}\]   \[y_2 = \left( t_2 + \frac{1}{2} -np\right) ⧸ \sqrt{np(1-p)}\] 再利用公式，则可提高精度</p><p>中心极限定理的推广方向：独立不同分布情形；非独立情形；由中心极限定理引起的误差；大偏差问题</p></p<1)\]></p></div></div></div><div id="outline-container-org6906d3c" class="outline-3"><h3 id="org6906d3c">例题</h3></div><div id="outline-container-org28072ae" class="outline-3"><h3 id="org28072ae">参考网页</h3><div class="outline-text-3" id="text-org28072ae"><p><a href="http://blog.csdn.net/zhang22huan/article/details/8631101" target="_blank" rel="noopener">http://blog.csdn.net/zhang22huan/article/details/8631101</a></p></div></div></div>Last Updated 2017-08-07 Mon 22:18 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org2a41ed6&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org2a41ed6&quot;&gt;随机变量的数字特征&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org2a41ed6&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-org7fcc820&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;org7fcc820&quot;&gt;数学期望（均值）与中位数&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-org7fcc820&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-orga663391&quot; class=&quot;outline-4&quot;&gt;
&lt;h4 id=&quot;orga663391&quot;&gt;数学期望的定义&lt;/h4&gt;
&lt;div class=&quot;outline-text-4&quot; id=&quot;text-orga663391&quot;&gt;
\begin{de}[离散型随机变量数学期望]
\end{de}
&lt;p&gt;
设离散型随机变量 X 只取有限个可能值 \(a_1, \dots , a_n\) , 其概率分布 \(P(X = a_i) = p_i \, (i = 1, \dots ,m)\) ,则 X 的数学期望记作 \(E(X) or EX\) 定义为 \[E(X) = a_1p_1 + \dots + a_np_n\] ,若 n 取无限个值，若下式收敛，则称其为 X 的数学期望，数学期望也常称为平均，这里平均是加权平均
&lt;/p&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Statistics" scheme="http://lengyueyang.github.io/tags/Statistics/"/>
    
  </entry>
  
  <entry>
    <title>数据科学-数学和统计-概率论与数理统计-事件的概率</title>
    <link href="http://lengyueyang.github.io/2017/04/08/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6-%E6%95%B0%E5%AD%A6%E5%92%8C%E7%BB%9F%E8%AE%A1-%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1-%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E7%8E%87/"/>
    <id>http://lengyueyang.github.io/2017/04/08/数据科学-数学和统计-概率论与数理统计-事件的概率/</id>
    <published>2017-04-08T00:00:00.000Z</published>
    <updated>2017-04-15T14:54:38.623Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-orgabd746f" class="outline-2"><h2 id="orgabd746f">概述</h2><div class="outline-text-2" id="text-orgabd746f"><p>概率论与数理统计的学习部分用以下书籍</p><ul class="org-ul"><li>陈希儒, (2009). 概率论与数理统计. : 中国科技大学出版社.</li><li>陈希儒, 倪. (2009). 数理统计学教程. : 中国科技大学出版社.</li><li>高惠璇, (2005). 应用多元统计分析. : 北京大学出版社.</li></ul><a id="more"></a></div></div><div id="outline-container-org93ff400" class="outline-2"><h2 id="org93ff400">事件的概率</h2><div class="outline-text-2" id="text-org93ff400"></div><div id="outline-container-org850dbf8" class="outline-3"><h3 id="org850dbf8">概率是什么</h3><div class="outline-text-3" id="text-org850dbf8"></div><div id="outline-container-orga4cb991" class="outline-4"><h4 id="orga4cb991">主观概率</h4><div class="outline-text-4" id="text-orga4cb991"><p>主观概率含义：为根据其经验和知识及利害关系的一种心态或倾向性，许多决策都包含个人判断成分，即主观概率</p><p>主观概率特点：不是在坚实的客观理由基础上为人们所公认；但不能从科学角度简单的全盘否定，（a）该概念有广泛的生活基础；（b）可能反映认识主体的一种倾向性，而有其社会意义；（c）在涉及利益得失的决策中，处于不同地位和掌握情报多少不同的人，对某事件可能性大小要参照这些情况及可能的后果去做衡量</p></div></div><div id="outline-container-org0ed116f" class="outline-4"><h4 id="org0ed116f">试验与事件</h4><div class="outline-text-4" id="text-org0ed116f"><p>试验：人为主动</p><p>事件：统计学中所说的事件不是已经发生了的事情，而是某种(或某些)情况下的“陈述”，也可能不发生，发生与否，需要到有关“试验”有了结果之后才能知晓。</p><p>事件的含义：在概率论中，“事件”一词有以下含义：1) 有一个明确的试验；2) 这个试验的全部可能结果，在试验前就是明确的；3) 有一个明确的陈述，界定了试验全部可能结果中的一个确定部分。</p><p>在概率论中，单一的试验结果称为“基本事件”，一个或一些基本事件并在一起，构成一个事件。</p></div></div><div id="outline-container-orgaec9840" class="outline-4"><h4 id="orgaec9840">古典概率</h4><div class="outline-text-4" id="text-orgaec9840">\begin{de}[古典概率的定义]\end{de}<p>设一个试验有 N 个等可能的结果，而事件 E 恰包含其中的 M 个结果，则事件 E 的概率，记为 P(E)，定义为</p>\begin{equation}P(E) = M/N\end{equation}<p>古典概率是客观的，古典概率的计算主要基于排列组合</p><p>古典概率的局限性：古典概率只能用于全部试验结果为有限个，且等可能成立的情况。</p></div></div><div id="outline-container-org295fc70" class="outline-4"><h4 id="org295fc70">概率的统计学定义</h4><div class="outline-text-4" id="text-org295fc70"><p>实用角度：通过实验去估计事件概率的方法</p>\begin{de}[概率统计学定义]\end{de}<p>通常，把事件 E 的概率定义为具有如下性质的一个数 p：当把试验重复时，E 的频率在 p 的附近摆动，且当重复次数增大时，摆动越来越小，或者说，概率就是当试验次数无限增大时频率的极限。</p><p>概率统计学定义的意义：1) 提供了估计概率的方法；2) 提供了一种检验理论正确与否的准则，这类问题属于假设检验的范畴。</p></div></div><div id="outline-container-org705b4b7" class="outline-4"><h4 id="org705b4b7">概率的公理化定义</h4><div class="outline-text-4" id="text-org705b4b7"><p>1993 年前苏联大数学家柯尔莫哥洛夫实现概率论的公理化，柯氏公理体系：</p><ul class="org-ul"><li>概率是事件的函数</li><li>函数的定义域为抽象的集合，该集合的元素为基本事件</li><li>概率值属于[0,1]</li><li>由集合所有元素构成事件的概率为 1</li><li>事件为空集的概率为 0</li></ul><p>柯氏公理的意义：为一种普遍而严格的数学化概率理论奠定了基础</p></div></div></div><div id="outline-container-orgfc29149" class="outline-3"><h3 id="orgfc29149">古典概率的计算</h3><div class="outline-text-3" id="text-orgfc29149"></div><div id="outline-container-org0021b22" class="outline-4"><h4 id="org0021b22">排列组合的几个简单公式</h4><div class="outline-text-4" id="text-org0021b22"><p>古典概率归结为计算两个数 M 和 N，这种计算大多涉及排列组合</p><ul class="org-ul"><li>个相异物件取 (\(1 ⩽ r ⩽ n\)) 个的不同排列总数，为 \(P_r^n = n(n-1)(n-2)...(n-r+1) = n!/(n-r)!\)</li><li>个相异物件取 (\(1 ⩽ r ⩽ n\)) 个的不同组合总数，为 \(C_r^n = P_r^n/r! = n(n-1)(n-2)...(n-r+1)/r! = n!/r!(n-r)!\) ，通常 \(C_r^n\)(或 \(C_n^r\)) 也记作 \(\binom{n}{r}\) ，即有 \(\binom{n}{r} = n!/r!(n-r)!\)</li><li>与二项式展开的关系：组合系数常称为二项式系数，即 \((a+b)^n = \sum_{i = 0}^n\binom{n}{i}a^ib^{n-i}\) ，另外一个有用的公式是 \(\binom{m + n}{k} = \sum_{i = 0}^n\binom{m}{i}\binom{n}{k i}\)</li><li>n 个相异物件分成 k 堆，各堆物件数分别为 \(r_1, ⋯ , r_k\) 的分法： \(n!/(r_1!, ⋯ ,r_k!)\)</li></ul></div></div><div id="outline-container-orgd632ece" class="outline-4"><h4 id="orgd632ece">古典概率计算举例</h4><div class="outline-text-4" id="text-orgd632ece"><p>古典概率的计算需要根据具体题目，利用捆绑法、插孔法等，这里强调一点，n 个人排成一列的排列数时 \(n!\) 个，而排成一个圆圈则时 \((n-1)!\)</p></div></div></div><div id="outline-container-org0fb4700" class="outline-3"><h3 id="org0fb4700">事件的运算、条件概率与独立性</h3><div class="outline-text-3" id="text-org0fb4700"></div><div id="outline-container-orgbe509b8" class="outline-4"><h4 id="orgbe509b8">事件的蕴含、包含和相等</h4><div class="outline-text-4" id="text-orgbe509b8"><p>在同一试验下的两事件 A 和 B，如果当 A 发生时 B 必发生，则称 A 蕴含 B，或者说 B 包含 A，记作 \(A ⊂ B\) ；若 A，B 互相蕴含，则称 A，B 两事件相等，记为 \(A = B\)</p></div></div><div id="outline-container-orgfe3ac48" class="outline-4"><h4 id="orgfe3ac48">事件的互斥和对立</h4><div class="outline-text-4" id="text-orgfe3ac48"><p>互斥：两事件不在同一次试验中发生，则称它们是互斥的。如果一些事件中的任意两个都互斥，则称这些事件是两两互斥的，简称互斥</p><p>对立：是互斥事件的一种重要情况，若 A 为一事件，则 B={A 不发生}，为 A 的对立事件，记为 \(\bar{A}\)</p></div></div><div id="outline-container-org5276d2b" class="outline-4"><h4 id="org5276d2b">事件的和（并）</h4><div class="outline-text-4" id="text-org5276d2b"><p>定义一个事件：指出它何时发生，何时不发生</p><p>事件的和：设有两事件 A，B，则定义事件 C={A 发生，或 B 发生}={A，B 至少一个发生}为事件 A 和事件 B 的和</p><p>事件和推广到多个事件的情形同上</p></div></div><div id="outline-container-org9f2236c" class="outline-4"><h4 id="org9f2236c">概率的加法定理</h4><div class="outline-text-4" id="text-org9f2236c">\begin{thm}[概率的加法定理]\end{thm}<p>若干个互斥事件之和的概率，等于各事件的概率之和，即</p>\begin{equation}P(A_1 + A_2 + \dots + A_n) = P(A_1) + P(A_2) + \dots + P(A_n)\end{equation}<p>推广：若 \(\bar{A}\) 表示 A 的对立事件，则 \(P(\bar{A}) = 1 - P(A)\)</p></div></div><div id="outline-container-orgc60cc29" class="outline-4"><h4 id="orgc60cc29">事件的积（交）、事件的差</h4><div class="outline-text-4" id="text-orgc60cc29"><p>事件的积：设有两事件 A，B，则定义事件 C={A，B 都发生}为两事件之积</p><p>事件的差：事件 A 和事件 B 的差 A-B = {A 发生，B 不发生}</p><p>事件的积和差服从结合率和分配率</p><p>事件的和、差和积的运算需要用逻辑思维方式验证，与纯数学运算不同，例如对与事件 A， \(A + A = A\) \(AA = A\)</p></div></div><div id="outline-container-orgd593f26" class="outline-4"><h4 id="orgd593f26">条件概率</h4><div class="outline-text-4" id="text-orgd593f26"><p>无条件概率定义：不加入其他条件或假定所计算出的概率</p>\begin{de}[条件概率定义]\end{de}<p>在附加一定条件下所计算的概率。附加条件形式可归结为“已知某时间发生了”。设有两事件 A，B，而 P(B)非 0，则“在给定 B 发生的条件下 A 的条件概率” ，记为\(P(A|B)\)，定义为</p>\begin{equation}P(A|B) = P(AB)/P(B)\end{equation}<p>条件概率的计算：利用定义(<a href="#orgd9b1f85">1</a>)；直接从加入条件后改变了的情况计算</p></div></div><div id="outline-container-org9be84d7" class="outline-4"><h4 id="org9be84d7">事件的独立性，概率乘法定理</h4><div class="outline-text-4" id="text-org9be84d7">\begin{de}[两事件独立性定义]\end{de}<p>两件事情 A，B 若满足\(P(AB) = P(A)P(B)\)，则称 A，B 独立</p>\begin{thm}[概率乘法定理]\end{thm}<p>两独立事件之积的概率等于其各自概率之积，即</p>\begin{equation}P(AB) = P(A)P(B)\end{equation}\begin{de}[多事件独立性定义]\end{de}<p>设 \(A_1, A_2, ...\) 为有限或无限个事件，如果从其中任意取出有限个 \(A_{i_1}, A_{i_2}, \dots , A_{i_m}\) 都成立 \(P(A_{i_1}A_{i_2} \dots A_{i_m}) = P(A_{i_1})P(A_{i_2})\dots P(A_{i_m})\) ，则称事件 \(A_1, A_2, ...\) 相互独立，或简称独立</p>\begin{thm}[多个独立事件概率乘法定理]\end{thm}<p>若干个事件 \(A_1, A_2, \dots , A_n\) 之积的概率，等于各事件概率的乘积，即</p>\begin{equation}P(A_1A_2\dots A_n) = P(A_1)P(A_2)\dots P(A_n)\end{equation}\begin{cor}[独立事件推论-1]\end{cor}<p>独立事件的任一部分也独立</p>\begin{cor}[独立事件推论-2]\end{cor}<p>若一系列事件相互独立，则将其中任一部分改为对立事件时，所得事件列仍为相互独立</p><p>两两独立：一些事件中任意两个事件都独立，则称它们两两独立</p><p>相互独立必推出两两独立，反之不一定对</p></div></div><div id="outline-container-org2c0b34a" class="outline-4"><h4 id="org2c0b34a">全概率公式与贝叶斯公式</h4><div class="outline-text-4" id="text-org2c0b34a">\begin{de}[完备时间群定义]\end{de}<p>设\(B_1, B_2, \dots\) 为有限或无限个事件，他们两辆互斥且每次试验中至少发生一个，可以用下列式子表示 \(B_iB_j = ∅\)，\(B_1 + B_2 + \dots = Ω\) ，把具有这些性质的一组事件称为一个“完备事件群”</p>\begin{de}[全概率公式定义]\end{de}<p>由原因推导结果，考虑一事件 A，因 Ω 是必然事件，有 \(A = AΩ = AB_1 + AB_2 + \dots\) ，再由条件概率的定义，有 \(P(AB_i) = P(B_i)P(A|B_i)\) ，带入上式，得到，</p>\begin{equation}P(A) = P(B_1)P(A|B_1) + P(B_2)P(A|B_2) + \dots\end{equation}<p>全概率公式的理解：</p><ul class="org-ul"><li>在较复杂的情况下，直接计算 \(P(A)\) 不容易，但 A 总伴随某个 \(B_i\) 出现，适当构造一组 \(B_i\) ，可以简化计算；</li><li>从另一个角度理解这个公式，把 \(B_i\) 看成是导致事件 A 发生的一种途径，不同的途径，P(A|B)是不通的。在这种情况下，A 的综合概率 P(A|B)应该在最小的 P(A|B<sub>i</sub>)和最大的之间。</li></ul>\begin{de}[贝叶斯公式定义]\end{de}<p>在全概率公式的假定之下，贝叶斯公式表示如下</p>\begin{equation}\begin{split}P(B_i|A) &= P(B_iA)/P(A) = P(AB_i)/P(AB) \\ &= P(B_i)P(A|B_i)/\sum_jP(B_j)P(A|B_j)\end{split}\end{equation}<p>贝叶斯公式的意义：1) 由结果推导原因；2) 在统计学上，依靠收集收集推断答案，正是贝叶斯公式的用武之地。</p></div></div></div><div id="outline-container-orgdaaabc7" class="outline-3"><h3 id="orgdaaabc7">例题</h3><div class="outline-text-3" id="text-orgdaaabc7">\begin{exus}\end{exus}<p>假定某种病菌在全人口的带菌率为 10%，又在检测时，带菌者呈阳、阴性反应的概率为 0.95 和 0.05，而不带菌者呈阳、阴性反应的概率则为 0.01 和 0.99。今某人独立地检测三次，发现 2 次呈阳性反应、1 次阴性反应。求“该人为带菌者”的概率是多少? </p><p>解答：假设事件 \(A_1\) 为带菌，事件 \(A_2\) 为不带菌，事件 \(B_1\) 为试验测定为阳性，事件 \(B_2\) 为试验测定为阴性，事件 \(C\) 是做三次重复试验，则由题目可知， \(P(A_1) = 0.1\) ， \(P(B_1|A_1) = 0.95\) ， \(P(B_2|A_1) = 0.05\) ， \(P(B_1|A_2) = 0.01\) ， \(P(B_2|A_2) = 0.99\) ，而且 \(A_1\) 和 \(A_2\) ， \(B_1\) 和 \(B_2\) 都分别组成一个完备事件群，于是，根据全概率公式(<a href="#org1fa45dd">1</a>)可知，\[P(B_1) = P(B_1A_1) + P(B_1A_2) = P(A_1)P(B_1|A_1) + P(A_2)P(B_1|A_2) = \\ 0.1*0.95 + 0.9*0.01 = 0.104\]  \[P(C|A_1) = P(B_1B_1B_2|A_1) = \binom{3}{2}*0.95^2*(1-0.95) = 0.135375\]  \[P(C|A_2) = P(B_1B_1B_2|A_2) = \binom{3}{2}*0.01^2*(1-0.01) = 0.000297\]  于是，我们要求的值 \(P(A_1|C)\) 即：\[\begin{split}P(A_1|C) &= P(A_1)P(C|A_1)/(P(A_1)P(C|A_1)+ P(A_2)P(C|A_2)) \\ &= 0.1*0.135375/(0.1*0.135375 + 0.9*0.000297) = 0.981\end{split}\]</p><p>推广：假设改病人只测一次是阳性，求带菌概率，则\[\begin{split}P(A_1|B_1)  &= P(A_1)P(B_1|A_1)/(P(A_1)P(B_1|A_1)+ P(A_2)P(B_1|A_2)) \\ &= 0.1*0.0.95/(0.1*0.95 + 0.9*0.01) = 0.913\end{split}\]  同样，如果病人测定两次都是阳性事件为\(D\)，则带菌概率为\[\begin{split}P(A_1|D)  &= P(A_1)P(D|A_1)/(P(A_1)P(D|A_1) + P(A_2)P(D|A_2)) \\ &= 0.1*0.95^2/(0.1*0.95^2 + 0.9*0.01^2) = 0.9990\end{split}\]  若病人测定两次是一阳一阴为事件\(E\)，则带菌概率为\[\begin{split}P(A_1|E)  &= P(A_1)P(E|A_1)/(P(A_1)P(E|A_1) + P(A_2)P(E|A_2)) \\ &= 0.1*2*0.95*0.05/(0.1*2*0.95*0.01 + 0.9*2*0.01*0.99) = 0.652\end{split}\]  若病人测定三次是一阳两阴为事件\(F\)，则带菌概率为\[\begin{split}P(A_1|F)  &= P(A_1)P(F|A_1)/(P(A_1)P(F|A_1) + P(A_2)P(F|A_2)) \\ &= 0.1*3*0.95*0.05^2/(0.1*3*0.95*0.01^2 + 0.9*3*0.01*0.99^2) = 0.0027\end{split}\]  若病人测定三次是三阳为事件\(G\)，则带菌概率为\[\begin{split}P(A_1|G)  &= P(A_1)P(G|A_1)/(P(A_1)P(G|A_1) + P(A_2)P(G|A_2)) \\ &= 0.1*0.95^3/(0.1*0.95^3 + 0.9*0.01^3) = 0.999895\end{split}\]  若病人测定三次是三阴为事件\(H\)，则带菌概率为\[\begin{split}P(A_1|H)  &= P(A_1)P(H|A_1)/(P(A_1)P(H|A_1) + P(A_2)P(H|A_2)) \\ &= 0.1*0.05^3/(0.1*0.05^3 + 0.9*0.99^3) = 0.000014\end{split}\]</p>\begin{remark}\end{remark}<ol class="org-ol"><li>病菌在全球人口的带菌率越低，则一次检验阳性说明其带菌的概率越小，生物医学中的其他检测类似；</li><li>针对这道题目推广，病人只检测一次是阳性，其带菌概率为 0.913，说服力不够，如果再测一次，也为阳性，那其带菌带菌概率为 0.9990，基本可以确定其带菌，同样，阴性也是测量两次，但如果测量第二次，结果是阴性，其带菌概率为 0.652，可以进行第三次测量，若第三次是阳性，其带菌概率为 0.981，基本可以确定其带菌，若第三次为阴性，其带菌概率为 0.0027，可以认为其不带菌，综上，就本试验，测定三次可以确定病人是否带菌。</li></ol></div></div><div id="outline-container-org7b3ed9c" class="outline-3"><h3 id="org7b3ed9c">参考网页</h3><div class="outline-text-3" id="text-org7b3ed9c"><p><a href="http://blog.csdn.net/zhang22huan/article/details/8457037" target="_blank" rel="noopener">http://blog.csdn.net/zhang22huan/article/details/8457037</a></p></div></div></div>Last Updated 2017-04-15 Sat 22:54 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-orgabd746f&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;orgabd746f&quot;&gt;概述&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-orgabd746f&quot;&gt;
&lt;p&gt;
概率论与数理统计的学习部分用以下书籍
&lt;/p&gt;

&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;陈希儒, (2009). 概率论与数理统计. : 中国科技大学出版社.&lt;/li&gt;
&lt;li&gt;陈希儒, 倪. (2009). 数理统计学教程. : 中国科技大学出版社.&lt;/li&gt;
&lt;li&gt;高惠璇, (2005). 应用多元统计分析. : 北京大学出版社.&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="DATA SCIENTIST" scheme="http://lengyueyang.github.io/categories/DATA-SCIENTIST/"/>
    
    
      <category term="Statistics" scheme="http://lengyueyang.github.io/tags/Statistics/"/>
    
  </entry>
  
  <entry>
    <title>A simple introduction of lengyueyang&#39;s spacemacs configration[个人 spacemacs 配置简介]</title>
    <link href="http://lengyueyang.github.io/2017/03/26/A%20simple%20introduction%20of%20lengyueyang&#39;s%20spacemacs%20configration%5B%E4%B8%AA%E4%BA%BAspacemacs%E9%85%8D%E7%BD%AE%E7%AE%80%E4%BB%8B%5D/"/>
    <id>http://lengyueyang.github.io/2017/03/26/A simple introduction of lengyueyang&#39;s spacemacs configration[个人spacemacs配置简介]/</id>
    <published>2017-03-26T00:00:00.000Z</published>
    <updated>2017-04-08T03:29:11.333Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org3011a00" class="outline-2"><h2 id="org3011a00">Introduction: Emacs Configuration in an Org File</h2><div class="outline-text-2" id="text-org3011a00"><p>I used spacemacs recently, org-mode is my favourite package of emacs, I use org-mode to GTD, write slide and documents, so I want to use org-mode to manager may own configuration of emacs beyond spacemacs.</p><a id="more"></a><p>After searched in google and with my research, I found the way below,I want to manager my own emacs configuration from now (<span class="timestamp-wrapper"><span class="timestamp">[2016-11-07 Mon 21:00]</span></span>).</p><p>You could found my org config file in <a href="https://github.com/lengyueyang/spacemacs-lengyue" target="_blank" rel="noopener">https://github.com/lengyueyang/spacemacs-lengyue</a></p></div><div id="outline-container-orga94c275" class="outline-3"><h3 id="orga94c275">Custom.el setup</h3><div class="outline-text-3" id="text-orga94c275"><p>In order to reduce the size of <code>init.el</code> in <code>.spacemacs</code> folder, create a <code>custom.el</code> filein <code>.spaceamcs</code> folder, then add the flowing code to the end the <code>init.el</code>, and copy thesame location code to <code>custom.el</code> at the same time.</p><p><b><i>Don't export this code, so use example</i></b></p><pre class="example">(setq custom-file (expand-file-name "custom.el" dotspacemacs-directory))(load custom-file 'no-error 'no-message)</pre></div></div><div id="outline-container-org52fb5d1" class="outline-3"><h3 id="org52fb5d1">Org-mode to customize emacs configuration</h3><div class="outline-text-3" id="text-org52fb5d1"><p>Add the follow code to <code>.inti.el</code> part <code>defun dotspacemacs/user-config ()</code></p><p><b><i>Don't export this code, so use example</i></b></p><pre class="example">(require 'ob-tangle)(org-babel-load-file  (expand-file-name "lengyueyang.org"                    dotspacemacs-directory))</pre></div></div><div id="outline-container-orgc27d67f" class="outline-3"><h3 id="orgc27d67f">Req-package</h3><div class="outline-text-3" id="text-orgc27d67f"><p><a href="https://github.com/edvorg/req-package" target="_blank" rel="noopener">req-package</a> is a wrapper on top of <a href="https://github.com/jwiegley/use-package" target="_blank" rel="noopener">use-package</a>, a package dependency managementtool. The documentation for <code>use-package</code> is immensely helpful for figuring outhow to describe package dependencies and settings. <code>req-package</code> adds the<code>:require</code> keyword which allows us to define dependencies between relatedpackages.</p></div><div id="outline-container-orgb001c3e" class="outline-4"><h4 id="orgb001c3e">Initialize req-package</h4><div class="outline-text-4" id="text-orgb001c3e"><p>With the preceding process complete, we just need to add the followingline to our init file to begin using <code>req-package</code>:</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'req-package</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org610956e" class="outline-4"><h4 id="org610956e">Start loading packages in right order</h4><div class="outline-text-4" id="text-org610956e"><p>To start loading packages in right order, we need to added following in the lastof emacs config.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package-finish</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org24b768c" class="outline-2"><h2 id="org24b768c">Keybinding</h2><div class="outline-text-2" id="text-org24b768c"><p>Global keybindings of emacs but for specific customization with keybinding, like someorg related keybindings in Org-mode configuration part.</p></div><div id="outline-container-org5017fc7" class="outline-3"><h3 id="org5017fc7">F2 to open my init file</h3><div class="outline-text-3" id="text-org5017fc7"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> open-my-init-file<span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> <span class="string">"~/.spacemacs.d/lengyueyang.org"</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f2&gt;"</span>)</span> <span class="quoted">'open-my-init-file</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oo"</span> <span class="quoted">'open-my-init-file</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgfe997f7" class="outline-3"><h3 id="orgfe997f7">F3 to open stardict</h3><div class="outline-text-3" id="text-orgfe997f7"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'chinese-yasdcv</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f3&gt;"</span>)</span> <span class="quoted">'youdao-dictionary-search-at-point+</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ok"</span> <span class="string">"Keybindings"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oky"</span> <span class="quoted">'yasdcv-translate-at-point</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oks"</span> <span class="quoted">'youdao-dictionary-search-from-input</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oki"</span> <span class="quoted">'youdao-dictionary-search-at-point+</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org45cb60b" class="outline-3"><h3 id="org45cb60b">F8 to checkout the spelling of words</h3><div class="outline-text-3" id="text-org45cb60b"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f8&gt;"</span>)</span> <span class="quoted">'flyspell-correct-previous-word-generic</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"okf"</span> <span class="quoted">'flyspell-correct-previous-word-generic</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgda00c8d" class="outline-3"><h3 id="orgda00c8d">Org-iswitch</h3><div class="outline-text-3" id="text-orgda00c8d"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oa"</span> <span class="quoted">'org-agenda-list</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c b"</span>)</span> <span class="quoted">'org-iswitchb</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"okb"</span> <span class="quoted">'org-iswitchb</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgfa1a581" class="outline-3"><h3 id="orgfa1a581">Bookmark keybindings reconfiguration</h3><div class="outline-text-3" id="text-orgfa1a581"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"om"</span> <span class="string">"Bookmark"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oms"</span> <span class="quoted">'bookmark-set</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omr"</span> <span class="quoted">'bookmark-rename</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omd"</span> <span class="quoted">'bookmark-delete</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omj"</span> <span class="quoted">'counsel-bookmark</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org1998f31" class="outline-2"><h2 id="org1998f31">Spacemacs better defaults</h2><div class="outline-text-2" id="text-org1998f31"><p>Include the configuration of spacemacs itself layers and better use of its defaults layers.</p></div><div id="outline-container-org5f607e2" class="outline-3"><h3 id="org5f607e2">Markdown mode</h3><div class="outline-text-3" id="text-org5f607e2"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">configuration-layer/layer-usedp</span> <span class="quoted">'markdown</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.text$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.md$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.mdown$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.mdt$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.markdown$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org45344b9" class="outline-3"><h3 id="org45344b9">Spacemacs-layout</h3><div class="outline-text-3" id="text-org45344b9"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> lengyueyang-configuration-path <span class="string">"~/.spacemacs.d/"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/load-my-layout <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">persp-load-state-from-file</span> <span class="list">(<span class="keyword">concat</span> lengyueyang-configuration-path <span class="string">"lengyueyang"</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/save-my-layout <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">persp-save-state-to-file</span> <span class="list">(<span class="keyword">concat</span> lengyueyang-configuration-path <span class="string">"lengyueyang"</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ol"</span> <span class="string">"Layout-lengyueyang"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oll"</span> <span class="quoted">'lengyueyang/load-my-layout</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ols"</span> <span class="quoted">'lengyueyang/save-my-layout</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;(defun lengyueyang-misc/post-init-persp-mode ()</span></span><br><span class="line"><span class="comment">;;  (setq persp-kill-foreign-buffer-action 'kill)</span></span><br><span class="line"><span class="comment">;;  (setq persp-lighter nil)</span></span><br><span class="line"><span class="comment">;;  (when (fboundp 'spacemacs|define-custom-layout)</span></span><br><span class="line"><span class="comment">;;    (spacemacs|define-custom-layout "@Cocos2D-X"</span></span><br><span class="line"><span class="comment">;;      :binding "c"</span></span><br><span class="line"><span class="comment">;;      :body</span></span><br><span class="line"><span class="comment">;;      (find-file "~/cocos2d-x/cocos/ui/UIWidget.cpp")</span></span><br><span class="line"><span class="comment">;;      (split-window-right)</span></span><br><span class="line"><span class="comment">;;      (find-file "~/cocos2d-x/cocos/cocos2d.cpp"))))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgb01a8fe" class="outline-3"><h3 id="orgb01a8fe">Deft</h3><div class="outline-text-3" id="text-orgb01a8fe"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f5&gt;"</span>)</span> <span class="quoted">'deft</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> deft-extensions <span class="quoted">'(<span class="string">"txt"</span> <span class="string">"tex"</span> <span class="string">"org"</span> <span class="string">"mk"</span> <span class="string">"makedown"</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> deft-directory <span class="string">"~/Emacs-lengyue/Wiki-lengyue"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgeac6664" class="outline-3"><h3 id="orgeac6664">Elfeed</h3><div class="outline-text-3" id="text-orgeac6664"><p><a href="https://github.com/lujun9972/emacs-document/blob/master/emacs-common/%E5%9C%A8Emacs%E4%B8%AD%E7%94%A8elfeed%E9%98%85%E8%AF%BB%E4%BD%A0%E7%9A%84RSS-feeds.org" target="_blank" rel="noopener">在 Emacs 中用 elfeed 阅读你的 RSS-feeds</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> elfeed-org</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">elfeed-org</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> rmh-elfeed-org-files <span class="list">(<span class="keyword">list</span> <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Elfeed.org"</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org6ecd8f2" class="outline-3"><h3 id="org6ecd8f2">Gnus</h3><div class="outline-text-3" id="text-org6ecd8f2"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;; Get email, and store in nnml</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-secondary-select-methods</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (nntp <span class="string">"gmane"</span></span><br><span class="line">              (nntp-address <span class="string">"news.gmane.org"</span>))</span><br><span class="line">        (nntp <span class="string">"news.eternal-september.org"</span>)</span><br><span class="line">        (nntp <span class="string">"nntp.aioe.org"</span>)</span><br><span class="line">        (nntp <span class="string">"news.gwene.org"</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-secondary-select-methods</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (nnimap <span class="string">"gmail"</span></span><br><span class="line">                (nnimap-address</span><br><span class="line">                 <span class="string">"imap.gmail.com"</span>)</span><br><span class="line">                (nnimap-server-port <span class="number">993</span>)</span><br><span class="line">                (nnimap-stream ssl))</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Send email via Gmail:</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-send-mail-function <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      smtpmail-default-smtp-server <span class="string">"smtp.gmail.com"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Archive outgoing email in Sent folder on imap.gmail.com:</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-message-archive-method <span class="quoted">'(nnimap <span class="string">"imap.gmail.com"</span>)</span></span><br><span class="line">      gnus-message-archive-group <span class="string">"[Gmail]/Sent Mail"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; set return email address based on incoming email address</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-posting-styles</span><br><span class="line">      <span class="quoted">'(((header <span class="string">"to"</span> <span class="string">"address@outlook.com"</span>)</span><br><span class="line">         (address <span class="string">"address@outlook.com"</span>))</span><br><span class="line">        ((header <span class="string">"to"</span> <span class="string">"address@gmail.com"</span>)</span><br><span class="line">         (address <span class="string">"address@gmail.com"</span>)))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; store email in ~/gmail directory</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> nnml-directory <span class="string">"~/Documents/Gnus"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-directory <span class="string">"~/Documents/Gnus"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga98af49" class="outline-3"><h3 id="orga98af49">Mu4e</h3><div class="outline-text-3" id="text-orga98af49"><ul class="org-ul"><li><a href="https://github.com/larstvei/dot-emacs" target="_blank" rel="noopener">larstvei/dot-emacs: My Emacs configurations written in Org mode</a></li><li><a href="http://wenshanren.org/?p=111" target="_blank" rel="noopener">mu4e: an E-mail Client for Emacs | 肉山博客 (Wenshan's Blog)</a></li><li><a href="http://coldnew.github.io/blog/2016/01-02_mu4e/" target="_blank" rel="noopener">在 emacs 下使用 mu4e 收發郵件 | coldnew's blog</a></li><li><a href="http://blog.csdn.net/csfreebird/article/details/52973188" target="_blank" rel="noopener">spacemacs email layer - 博客频道 - CSDN.NET</a></li><li><a href="https://github.com/howardabrams/dot-files/blob/master/emacs-mail.org" target="_blank" rel="noopener">dot-files/emacs-mail.org at master · howardabrams/dot-files</a></li><li><a href="https://guso.ml/search?q=offlinemap+%E5%A4%9A%E5%B8%90%E6%88%B7&amp;prmd=ivns&amp;ei=pVc8WPPzNsv0vgTT2pn4Cw&amp;start=10&amp;sa=N" target="_blank" rel="noopener">offlinemap 多帐户 - Google 搜索</a></li><li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/mu4e" target="_blank" rel="noopener">spacemacs/layers/+email/mu4e at master · syl20bnr/spacemacs</a></li><li><a href="http://www.djcbsoftware.nl/code/mu/mu4e/index.html" target="_blank" rel="noopener">Mu4e 0.9.16 user manual: Top</a></li><li><a href="https://github.com/lujun9972/emacs-document/blob/master/org-mode/%E7%94%A8org-mime%E5%9C%A8org-mode%E4%B8%AD%E5%8F%91%E9%80%81html%E9%82%AE%E4%BB%B6.org" target="_blank" rel="noopener">emacs-document/用 org-mime 在 org-mode 中发送 html 邮件.org at master · lujun9972/emacs-document</a></li><li><a href="https://emacs.lujianmei.com/03-For-an-editor/init-mu4e.html" target="_blank" rel="noopener">Mu4e 邮件管理 · 谁说 Emacs 不好玩？</a></li><li><a href="http://www.bagualu.net/wordpress/archives/6555" target="_blank" rel="noopener">emacs 中的 email 客户端 mu4e | 猎数博客</a></li><li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/gnus#org-mime-in-org-layer" target="_blank" rel="noopener">spacemacs/layers/+email/gnus at master · syl20bnr/spacemacs</a></li></ul><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/mu4e"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-account-alist</span><br><span class="line">      <span class="quoted">'((<span class="string">"Gmail"</span></span><br><span class="line">         ;; Under each account, set the account-specific variables you want.</span><br><span class="line">         (mu4e-sent-messages-behavior delete)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Gmail/[Gmail].Sent Mail"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Gmail/[Gmail].Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"maoxiaoweihl@gmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">        (<span class="string">"Foxmail"</span></span><br><span class="line">         (mu4e-sent-messages-behavior sent)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Foxmail/Sent Messages"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Foxmail/Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"maoxiaowei1988@foxmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">        ;; (<span class="string">"Lengyue-163"</span></span><br><span class="line">        ;;  (mu4e-sent-messages-behavior sent)</span><br><span class="line">        ;;  (mu4e-sent-folder <span class="string">"/Lengyue-163/Sent Items"</span>)</span><br><span class="line">        ;;  (mu4e-drafts-folder <span class="string">"/Lengyue-163/Drafts"</span>)</span><br><span class="line">        ;;  (user-mail-address <span class="string">"zanghuahong@163.com"</span>)</span><br><span class="line">        ;;  (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">       )</span></span><br><span class="line">)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">mu4e/mail-account-reset</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Set up some common mu4e variables</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir <span class="string">"~/Documents/Mu4e"</span></span><br><span class="line">      mu4e-trash-folder <span class="string">"/Gmail/Trash"</span></span><br><span class="line">      mu4e-refile-folder <span class="string">"/Gmail/Archive"</span></span><br><span class="line">      <span class="comment">;; mu4e-get-mail-command "mbsync -a"</span></span><br><span class="line">      mu4e-update-interval <span class="literal">nil</span></span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">nil</span></span><br><span class="line">      mu4e-view-show-images <span class="literal">t</span></span><br><span class="line">      mu4e-view-show-addresses <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Mail directory shortcuts</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir-shortcuts</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (<span class="string">"/Foxmail/INBOX"</span> . ?f)</span><br><span class="line">        (<span class="string">"/Foxmail/Drafts"</span> . ?d)</span><br><span class="line">        (<span class="string">"/Foxmail/Sent Messages"</span> . ?s)</span><br><span class="line">        (<span class="string">"/Gmail/INBOX"</span> . ?g)</span><br><span class="line">        ;; (<span class="string">"/Gmail/[Gmail].All Mail"</span> . ?a)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Drafts"</span> . ?r)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Sent Mail"</span> . ?e)</span><br><span class="line">        ;;(<span class="string">"/Gmail/[Gmail].Trash"</span> . ?<span class="literal">t</span>)</span><br><span class="line">        ;; (<span class="string">"/Lengyue-163/INBOX"</span> . ?i)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Bookmarks</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-bookmarks</span><br><span class="line">      <span class="quoted">`((<span class="string">"flag:unread AND NOT flag:trashed"</span> <span class="string">"Unread messages"</span> ?u)</span><br><span class="line">        (<span class="string">"date:today..now"</span> <span class="string">"Today's messages"</span> ?<span class="literal">t</span>)</span><br><span class="line">        (<span class="string">"date:7d..now"</span> <span class="string">"Last 7 days"</span> ?w)</span><br><span class="line">        (<span class="string">"mime:image/*"</span> <span class="string">"Messages with images"</span> ?p)</span><br><span class="line">        (,(mapconcat 'identity</span><br><span class="line">                     (mapcar</span><br><span class="line">                      (lambda (maildir)</span><br><span class="line">                        (concat <span class="string">"maildir:"</span> (car maildir)))</span><br><span class="line">                      mu4e-maildir-shortcuts) <span class="string">" OR "</span>)</span><br><span class="line">         <span class="string">"All inboxes"</span> ?i))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">mu4e-alert-set-default-style</span> <span class="quoted">'libnotify</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">alert-add-rule</span> <span class="keyword">:category</span> <span class="string">"mu4e-alert"</span> <span class="keyword">:style</span> <span class="quoted">'fringe</span> <span class="keyword">:predicate</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">_</span>)</span> <span class="list">(<span class="keyword">string-match-p</span> <span class="string">"^mu4e-"</span> <span class="list">(<span class="keyword">symbol-name</span> major-mode)</span>)</span>)</span> <span class="keyword">:continue</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">mu4e-alert-enable-notifications</span>)</span></span><br><span class="line"><span class="comment">;; (setq mu4e-alert-email-notification-types '(count))</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-alert-email-notification-types <span class="quoted">'(subjects)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq mu4e-enable-notifications t)</span></span><br><span class="line"><span class="comment">;; (with-eval-after-load 'mu4e-alert</span></span><br><span class="line">  <span class="comment">;; Enable Desktop notifications</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifications)) ; For linux</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'libnotify))  ; Alternative for linux</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifier))   ; For Mac OSX (through the</span></span><br><span class="line">                                        <span class="comment">; terminal notifier app)</span></span><br><span class="line"><span class="comment">;; (mu4e-alert-set-default-style 'growl))      ; Alternative for Mac OSX</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq mu4e-enable-mode-line t)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-get-mail-command <span class="string">"offlineimap"</span>)</span></span><br><span class="line"><span class="comment">;; Fetch mail in 60 sec interval</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-update-interval <span class="number">1200</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e-contrib</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-html2text-command <span class="quoted">'mu4e-shr2text</span>)</span></span><br><span class="line"><span class="comment">;; try to emulate some of the eww key-bindings</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'mu4e-view-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;tab&gt;"</span>)</span> <span class="quoted">'shr-next-link</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;backtab&gt;"</span>)</span> <span class="quoted">'shr-previous-link</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; something about ourselves</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'smtpmail</span>)</span>  </span><br><span class="line"><span class="list">(<span class="keyword">setq</span> user-mail-address <span class="string">"maoxiaowei1988@foxmail.com"</span>  </span><br><span class="line">      user-full-name <span class="string">"Xiaowei, Mao"</span></span><br><span class="line">      smtpmail-stream-type <span class="quoted">'starttls</span></span><br><span class="line">      starttls-use-gnutls <span class="literal">t</span></span><br><span class="line">      mu4e-compose-signature  </span><br><span class="line">      <span class="list">(<span class="keyword">concat</span>  </span><br><span class="line">       <span class="string">"Xiaowei Mao\n"</span>  </span><br><span class="line">       <span class="string">"Email: maoxiaoweihl@gmail.com\n"</span>  </span><br><span class="line">       <span class="string">"Email: maoxiaowei1988@foxmail.com\n"</span>  </span><br><span class="line">       <span class="string">"Blog: http://lengyueyang.github.io\n"</span>  </span><br><span class="line">       <span class="string">"\n"</span>)</span>  </span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">t</span>  </span><br><span class="line">      )</span>  </span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> send-mail-function            <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      message-send-mail-function    <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      smtpmail-auth-credentials     <span class="list">(<span class="keyword">expand-file-name</span> <span class="string">"~/.authinfo"</span>)</span></span><br><span class="line">      smtpmail-stream-type          <span class="quoted">'tls</span></span><br><span class="line">      smtpmail-smtp-server          <span class="string">"smtp.qq.com"</span></span><br><span class="line">      smtpmail-smtp-service         <span class="number">465</span></span><br><span class="line">      smtpmail-smtp-user <span class="string">"maoxiaowei1988@qq.com"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-kill-buffer-on-exit <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; save attachment to my desktop (this can also be a function)  </span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-attachment-dir <span class="string">"/home/lengyue/Documents/Mu4e/Attachment"</span>)</span>  </span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org779ab8e" class="outline-3"><h3 id="org779ab8e">Magit</h3><div class="outline-text-3" id="text-org779ab8e"></div><div id="outline-container-org69deced" class="outline-4"><h4 id="org69deced">Magit auto complete</h4><div class="outline-text-4" id="text-org69deced"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> my/dabbrev-friend-buffer <span class="list">(<span class="keyword">other-buffer</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">cond</span> <span class="list">( <span class="comment">;; ignore very large files</span></span><br><span class="line">         <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">buffer-size</span> other-buffer)</span> <span class="list">(<span class="keyword">*</span> <span class="number">1024</span> <span class="number">1024</span>)</span>)</span></span><br><span class="line">         <span class="literal">nil</span>)</span></span><br><span class="line">        <span class="list">( <span class="comment">;; doing a magit commit - use the magit status buffer</span></span><br><span class="line">         <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">boundp</span> git-commit-mode)</span> git-commit-mode)</span></span><br><span class="line">         <span class="list">(<span class="keyword">with-current-buffer</span> other-buffer</span><br><span class="line">           <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'magit-status-mode</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">( <span class="comment">;; in projectile project - use projectile buffers</span></span><br><span class="line">         <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">buffer-file-name</span> other-buffer)</span></span><br><span class="line">              <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-remote-p</span> <span class="list">(<span class="keyword">buffer-file-name</span> other-buffer)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">projectile-project-p</span>)</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">string=</span> <span class="list">(<span class="keyword">projectile-project-name</span>)</span></span><br><span class="line">                  <span class="list">(<span class="keyword">with-current-buffer</span> other-buffer</span><br><span class="line">                    <span class="list">(<span class="keyword">projectile-project-name</span>)</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">t</span> <span class="comment">;; fallback - same mod</span></span><br><span class="line">         <span class="list">(<span class="keyword">dabbrev--same-major-mode-p</span> other-buffer)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'company-backends</span>)</span> <span class="quoted">'(company-files company-en-words company-dabbrev)</span>)</span>)</span></span><br><span class="line">          )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org4c035a0" class="outline-2"><h2 id="org4c035a0">Basic setup</h2><div class="outline-text-2" id="text-org4c035a0"><p>Some basic customizaton</p><p>In emacs, we can use <code>M-x</code> to execute interactive commands, Iimplement some of them to make my emacs more easy to use.</p></div><div id="outline-container-orgb0df7a5" class="outline-3"><h3 id="orgb0df7a5">Personal information setup</h3><div class="outline-text-3" id="text-orgb0df7a5"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> user-full-name <span class="string">"lengyuyang"</span></span><br><span class="line">      user-mail-address <span class="string">"maoxiaoweihl@gmail.com"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga19a786" class="outline-3"><h3 id="orga19a786">Don't ask me when kill process buffer</h3><div class="outline-text-3" id="text-orga19a786"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> kill-buffer-query-functions</span><br><span class="line">      <span class="list">(<span class="keyword">remq</span> <span class="quoted">'process-kill-buffer-query-function</span></span><br><span class="line">            kill-buffer-query-functions)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org1710d0e" class="outline-3"><h3 id="org1710d0e">Set the chinese font alignment</h3><div class="outline-text-3" id="text-org1710d0e"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "Inconsolata" "Source Han Sans CN" 16 20)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs//set-monospaced-font</span> <span class="string">"Fira Mono"</span> <span class="string">"Source Han Sans CN"</span> <span class="number">16</span> <span class="number">20</span>)</span></span><br><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "Fira Mono" "Wenquanyi Micro Hei" 16 20)</span></span><br><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "DejaVu Sans Mono" "Source Han Sans CN" 16 20)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org4a65b1d" class="outline-3"><h3 id="org4a65b1d">Add auto format paste code</h3><div class="outline-text-3" id="text-org4a65b1d"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">command</span> <span class="quoted">'(yank yank-pop)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">eval</span></span><br><span class="line">   <span class="quoted">`(defadvice ,command (after indent-region activate)</span><br><span class="line">      (and (not current-prefix-arg)</span><br><span class="line">           (member major-mode</span><br><span class="line">                   '(emacs-lisp-mode</span><br><span class="line">                     lisp-mode</span><br><span class="line">                     clojure-mode</span><br><span class="line">                     scheme-mode</span><br><span class="line">                     haskell-mode</span><br><span class="line">                     ruby-mode</span><br><span class="line">                     rspec-mode</span><br><span class="line">                     python-mode</span><br><span class="line">                     c-mode</span><br><span class="line">                     c++-mode</span><br><span class="line">                     objc-mode</span><br><span class="line">                     latex-mode</span><br><span class="line">                     js-mode</span><br><span class="line">                     plain-tex-mode))</span><br><span class="line">           (let ((mark-even-if-inactive transient-mark-mode))</span><br><span class="line">             (indent-region (region-beginning) (region-end) <span class="literal">nil</span>))))</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgce089c6" class="outline-3"><h3 id="orgce089c6">Simple better defaults</h3><div class="outline-text-3" id="text-orgce089c6"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-prettify-symbols-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq-default</span> fill-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defadvice</span> find-file <span class="list">(<span class="keyword">before</span> make-directory-maybe</span><br><span class="line">                             <span class="list">(<span class="keyword">filename</span> <span class="keyword">&amp;optional</span> wildcards)</span> activate)</span></span><br><span class="line">  <span class="string">"Create parent directory if not exists while visiting file."</span></span><br><span class="line">  <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-exists-p</span> filename)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">dir</span> <span class="list">(<span class="keyword">file-name-directory</span> filename)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> dir</span><br><span class="line">        <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-exists-p</span> dir)</span></span><br><span class="line">          <span class="list">(<span class="keyword">make-directory</span> dir <span class="literal">t</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org68489ec" class="outline-3"><h3 id="org68489ec">Large file handle</h3><div class="outline-text-3" id="text-org68489ec"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> large-file-warning-threshold <span class="number">300000000</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> spacemacs/check-large-file <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">buffer-size</span>)</span> <span class="number">500000</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">progn</span> <span class="list">(<span class="keyword">fundamental-mode</span>)</span></span><br><span class="line">           <span class="list">(<span class="keyword">hl-line-mode</span> <span class="number">-1</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">executable-find</span> <span class="string">"wc"</span>)</span></span><br><span class="line">           <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">string-to-number</span> <span class="list">(<span class="keyword">shell-command-to-string</span> <span class="list">(<span class="keyword">format</span> <span class="string">"wc -l %s"</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span>)</span>)</span></span><br><span class="line">              <span class="number">5000</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">linum-mode</span> <span class="number">-1</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'find-file-hook</span> <span class="quoted">'spacemacs/check-large-file</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgae72e18" class="outline-3"><h3 id="orgae72e18">Buffers&#xa0;&#xa0;&#xa0;<span class="tag"><span class="buffer">buffer</span></span></h3><div class="outline-text-3" id="text-orgae72e18"></div><div id="outline-container-orgdff0ea8" class="outline-4"><h4 id="orgdff0ea8">Indent whole buffer</h4><div class="outline-text-4" id="text-orgdff0ea8"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> indent-whole-buffer <span class="list">()</span></span><br><span class="line">  <span class="string">"Indent whole buffer."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="list">(<span class="keyword">indent-region</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgd5b6765" class="outline-4"><h4 id="orgd5b6765">Quick folding source block</h4><div class="outline-text-4" id="text-orgd5b6765"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> quick-folding-source <span class="list">()</span></span><br><span class="line">  <span class="string">"Use emacs buildin easy to folding code."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">set-selective-display</span></span><br><span class="line">   <span class="list">(<span class="keyword">if</span> selective-display <span class="literal">nil</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orgc4a2732" class="outline-3"><h3 id="orgc4a2732">Edit (Insert/Remove)</h3><div class="outline-text-3" id="text-orgc4a2732"></div><div id="outline-container-orge52ab6e" class="outline-4"><h4 id="orge52ab6e">Insert U200B char</h4><div class="outline-text-4" id="text-orge52ab6e"><p><code>&lt;U200B&gt;</code> character is a <code>zero width space character</code> which is nice touse under org-mode.</p><p>For more info, please see: <a href="https://lists.gnu.org/archive/html/emacs-orgmode/2012-09/msg00155.html" target="_blank" rel="noopener">suggestion for org-emphasis-regexp-components: *U*nited *N*ations</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> insert-U200B-char <span class="list">()</span></span><br><span class="line">  <span class="string">"Insert &lt;U200B&gt; char, this character is nice use in org-mode."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="string">"\ufeff"</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgadcb01b" class="outline-4"><h4 id="orgadcb01b">Insert empty line after current line</h4><div class="outline-text-4" id="text-orgadcb01b"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> insert-empty-line <span class="list">()</span></span><br><span class="line">  <span class="string">"Insert an empty line after current line and position cursor on newline."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">move-end-of-line</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">open-line</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">next-line</span> <span class="number">1</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org75e6c20" class="outline-3"><h3 id="org75e6c20">File Handle</h3><div class="outline-text-3" id="text-org75e6c20"></div><div id="outline-container-orgb6e1cf3" class="outline-4"><h4 id="orgb6e1cf3">Reopen file as root</h4><div class="outline-text-4" id="text-orgb6e1cf3"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> file-reopen-as-root <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> buffer-file-name</span><br><span class="line">    <span class="list">(<span class="keyword">find-alternate-file</span></span><br><span class="line">     <span class="list">(<span class="keyword">concat</span> <span class="string">"/sudo:root@localhost:"</span></span><br><span class="line">             buffer-file-name)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3e78ae6" class="outline-4"><h4 id="org3e78ae6">Delete current buffer file</h4><div class="outline-text-4" id="text-org3e78ae6"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> delete-current-buffer-file <span class="list">()</span></span><br><span class="line">  <span class="string">"Removes file connected to current buffer and kills buffer."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">filename</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">buffer</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">and</span> filename <span class="list">(<span class="keyword">file-exists-p</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">ido-kill-buffer</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">yes-or-no-p</span> <span class="string">"Are you sure you want to remove this file? "</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">delete-file</span> filename)</span></span><br><span class="line">        <span class="list">(<span class="keyword">kill-buffer</span> buffer)</span></span><br><span class="line">        <span class="list">(<span class="keyword">message</span> <span class="string">"File '%s' successfully removed"</span> filename)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge87cac7" class="outline-4"><h4 id="orge87cac7">Rename current Buffer and file</h4><div class="outline-text-4" id="text-orge87cac7"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> rename-current-buffer-file <span class="list">()</span></span><br><span class="line">  <span class="string">"Renames current buffer and file it is visiting."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">filename</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">and</span> filename <span class="list">(<span class="keyword">file-exists-p</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Buffer '%s' is not visiting a file!"</span> name)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">new-name</span> <span class="list">(<span class="keyword">read-file-name</span> <span class="string">"New name: "</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">get-buffer</span> new-name)</span></span><br><span class="line">            <span class="list">(<span class="keyword">error</span> <span class="string">"A buffer named '%s' already exists!"</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">rename-file</span> filename new-name <span class="number">1</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">rename-buffer</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">set-visited-file-name</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">set-buffer-modified-p</span> <span class="literal">nil</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">message</span> <span class="string">"File '%s' successfully renamed to '%s'"</span></span><br><span class="line">                   name <span class="list">(<span class="keyword">file-name-nondirectory</span> new-name)</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org70cd164" class="outline-4"><h4 id="org70cd164">Add executable attribute to file</h4><div class="outline-text-4" id="text-org70cd164"><p>Actually this command is the same as <code>chmod +x</code> but it doesn't use any shellcommand, it use emacs's logior function to change file attribute.</p><p>I only make <code>owener</code> can has executable permission, not change it for gourp orothers user.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> set-file-executable<span class="list">()</span></span><br><span class="line">  <span class="string">"Add executable permissions on current file."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">set-file-modes</span> buffer-file-name</span><br><span class="line">                    <span class="list">(<span class="keyword">logior</span> <span class="list">(<span class="keyword">file-modes</span> buffer-file-name)</span> <span class="number">#o100</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">concat</span> <span class="string">"Made "</span> buffer-file-name <span class="string">" executable"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org9665e63" class="outline-4"><h4 id="org9665e63">Clone current file to new one</h4><div class="outline-text-4" id="text-org9665e63"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> clone-file-and-open <span class="list">(<span class="keyword">filename</span>)</span></span><br><span class="line">  <span class="string">"Clone the current buffer writing it into FILENAME and open it"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"FClone to file: "</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-restriction</span></span><br><span class="line">    <span class="list">(<span class="keyword">widen</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">write-region</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span> filename <span class="literal">nil</span> <span class="literal">nil</span> <span class="literal">nil</span> <span class="quoted">'confirm</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> filename)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org5ef2819" class="outline-3"><h3 id="org5ef2819">Keeping files in sync</h3><div class="outline-text-3" id="text-org5ef2819"><p>By default, Emacs will not update the contents of open buffers when a filechanges on disk. This is inconvenient when switching branches in Git - as you’drisk editing stale buffers.</p><p>This problem can be solved by:</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-auto-revert-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> global-auto-revert-non-file-buffers <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> auto-revert-verbose <span class="literal">nil</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> revert-without-query <span class="quoted">'(<span class="string">".*"</span>)</span>)</span> <span class="comment">;; disable revert query</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org2f85487" class="outline-3"><h3 id="org2f85487">Snippet handle by yasnippet</h3><div class="outline-text-3" id="text-org2f85487"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> yasnippet</span><br><span class="line">  <span class="keyword">:init</span> <span class="list">(<span class="keyword">yas-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="keyword">:mode</span> <span class="list">(<span class="string">"emacs.+/snippets/"</span> . snippet-mode)</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> yas/prompt-functions <span class="quoted">'(yas-dropdown-prompt</span><br><span class="line">                                 yas-completing-prompt</span><br><span class="line">                                 yas-ido-prompt)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> yas/snippet-dirs <span class="list">(<span class="keyword">concat</span> user-emacs-directory <span class="string">"snippets"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div><div id="outline-container-org93613ba" class="outline-4"><h4 id="org93613ba">Implement org-mode's easy-template like function</h4><div class="outline-text-4" id="text-org93613ba"><p>I really like org-mode's <code>easy-template</code> function, so I implement one called<code>major-mode-expand</code> which will let you use easy-template like function in anymajor-mode.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'yasnippet</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (defadvice yas-expand (around major-mode-expand activate)</span><br><span class="line">       <span class="string">"Try to complete a structure template before point like org-mode does.</span><br><span class="line">  This looks for strings like \"&lt;e\" on an otherwise empty line and</span><br><span class="line">  expands them.</span><br><span class="line">  Before use this function, you must setup `major-mode-name'-expand-alist variable.</span><br><span class="line"></span><br><span class="line">  Take emacs-lisp-mode as example, if you wand to use &lt;r to expand your snippet `require'</span><br><span class="line">  in yasnippet, you muse setup the emacs-lisp-mode-expand-alist variable.</span><br><span class="line"></span><br><span class="line">   (setq emacs-lisp-expand-alist '((\"r\" . \"require\")))"</span></span><br><span class="line">       (let* ((l (buffer-substring (point-at-bol) (point)))</span><br><span class="line">              (expand-symbol (intern (concat (symbol-name major-mode) <span class="string">"-expand-alist"</span>)))</span><br><span class="line">              (expand-alist (if (boundp expand-symbol) (symbol-value expand-symbol) <span class="literal">nil</span>))</span><br><span class="line">              a)</span><br><span class="line">         (when (and (looking-at <span class="string">"[ \t]*$"</span>)</span><br><span class="line">                    (string-match <span class="string">"^[ \t]*&lt;\\([a-zA-Z]+\\)$"</span> l)</span><br><span class="line">                    (setq a (assoc (match-string <span class="number">1</span> l) expand-alist)))</span><br><span class="line">           (backward-delete-char (<span class="number">1</span>+ (length (car-safe a))))</span><br><span class="line">           (if (symbolp (cdr-safe a))</span><br><span class="line">               (funcall (cdr-safe a))</span><br><span class="line">             (insert (cdr-safe a)))</span><br><span class="line">           <span class="literal">t</span>)</span><br><span class="line">         ad-do-it))</span><br><span class="line">     )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>Take emacs-lisp-mode as example, if I want to use <code>&lt;r</code> and press <code>TAB</code>then yasnippet will expand the command, just add following code:</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> emacs-lisp-mode-expand-alist <span class="quoted">'((<span class="string">"r"</span> . <span class="string">"require"</span>))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>For c-mode, just do the same but change the relative<b>major-mode-expand-alist</b> like following</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> c-mode-expand-alist <span class="quoted">'((<span class="string">"i"</span> . <span class="string">"include"</span>))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org039de1f" class="outline-3"><h3 id="org039de1f">Debug</h3><div class="outline-text-3" id="text-org039de1f"></div><div id="outline-container-orgc01b456" class="outline-4"><h4 id="orgc01b456">Eval emacs buffer until error</h4><div class="outline-text-4" id="text-orgc01b456"><p>A really nice command help me to find error on elisp buffer.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> eval-buffer-until-error <span class="list">()</span></span><br><span class="line">  <span class="string">"Evaluate emacs buffer until error occured."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">while</span> <span class="literal">t</span> <span class="list">(<span class="keyword">eval</span> <span class="list">(<span class="keyword">read</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org94b5450" class="outline-2"><h2 id="org94b5450">Org-mode configuration</h2><div class="outline-text-2" id="text-org94b5450"><p>This part is the customization to org-mode.</p></div><div id="outline-container-orgf9371da" class="outline-3"><h3 id="orgf9371da">Better defaults to org</h3><div class="outline-text-3" id="text-orgf9371da"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">;; (add-to-list 'auto-mode-alist '("\\.\\(org\\|org_archive\\|txt\\)$" . org-mode))</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-habit</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">setq</span> org-startup-indented <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">defun</span> org-mode-my-init <span class="list">()</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"×"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"*"</span>)</span>)</span></span><br><span class="line">   <span class="comment">;;(define-key org-mode-map (kbd "－") (kbd "-"))</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"（"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"("</span>)</span>)</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"）"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">")"</span>)</span>)</span></span><br><span class="line">   )</span></span><br><span class="line"> <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'org-mode-my-init</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'smartparens-strict-mode</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-startup-with-inline-images <span class="literal">nil</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-image-actual-width <span class="quoted">(<span class="keyword">quote</span> (<span class="number">600</span>))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-format-latex-options <span class="list">(<span class="keyword">plist-put</span> org-format-latex-options <span class="keyword">:scale</span> <span class="number">2.0</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ou"</span> <span class="string">"Org-latex-preview"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ouu"</span> <span class="quoted">'org-toggle-latex-fragment</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ouo"</span> <span class="quoted">'org-preview-latex-fragment</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org23704e6" class="outline-3"><h3 id="org23704e6">Org-mode auto complete</h3><div class="outline-text-3" id="text-org23704e6"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">load</span> <span class="string">"~/.spacemacs.d/package/emacscompanywords/company-words-discn"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'company-backends</span>)</span> <span class="quoted">'(company-files company-en-words company-dabbrev)</span>)</span>)</span></span><br><span class="line">          )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3dae912" class="outline-3"><h3 id="org3dae912">Org-agenda font size</h3><div class="outline-text-3" id="text-org3dae912"><p>Changed the org-agenda font size with the below link methods<a href="https://emacs-china.org/t/agenda-view/1392" target="_blank" rel="noopener">https://emacs-china.org/t/agenda-view/1392</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">custom-set-faces</span></span><br><span class="line"> <span class="quoted">'(org-agenda-done ((<span class="literal">t</span> (:foreground <span class="string">"#86dc2f"</span> :height <span class="number">1.0</span>))))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">custom-set-faces</span></span><br><span class="line"> <span class="quoted">'(org-scheduled-today ((<span class="literal">t</span> (:foreground <span class="string">"#bc6ec5"</span> :height <span class="number">1.0</span>))))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgea13eab" class="outline-3"><h3 id="orgea13eab">Extend org-mode's easy templates</h3><div class="outline-text-3" id="text-orgea13eab"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"el"</span> <span class="string">"#+BEGIN_SRC emacs-lisp\n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"sh"</span> <span class="string">"#+BEGIN_SRC sh\n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"pl"</span> <span class="string">"#+BEGIN_SRC plantuml :file \n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"ipa"</span> <span class="string">"#+BEGIN_SRC ipython :session :exports both :results output \n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"ipb"</span> <span class="string">"#+BEGIN_SRC ipython :session :exports both :file \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    ;; (add-to-list 'org-structure-template-alist</span><br><span class="line">    ;;              '(<span class="string">"p"</span> <span class="string">"#+BEGIN_SRC plantuml :file uml.png \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    ;; (add-to-list 'org-structure-template-alist</span><br><span class="line">    ;;              '(<span class="string">"p"</span> <span class="string">"#+BEGIN_SRC plantuml :file uml.png \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org830966f" class="outline-3"><h3 id="org830966f">Org columns and properties</h3><div class="outline-text-3" id="text-org830966f"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (setq org-columns-default-format <span class="string">"%50ITEM(Task) %CATEGORY %SCHEDULED %5Effort %5CLOCKSUM %PRIORITY"</span>)</span><br><span class="line">     (setq org-global-properties (quote ((<span class="string">"Effort_ALL"</span> . <span class="string">"0:15 0:30 0:45 1:00 2:00 3:00 4:00 5:00 6:00 0:00"</span>)</span><br><span class="line">                                         (<span class="string">"STYLE_ALL"</span> . <span class="string">"habit"</span>))))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga7f7b79" class="outline-3"><h3 id="orga7f7b79">Org-ispell</h3><div class="outline-text-3" id="text-orga7f7b79"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/org-ispell <span class="list">()</span></span><br><span class="line">  <span class="string">"Configure `ispell-skip-region-alist' for `org-mode'."</span></span><br><span class="line">  <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'ispell-skip-region-alist</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(org-property-drawer-re)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"~"</span> <span class="string">"~"</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"="</span> <span class="string">"="</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"^#\\+BEGIN_SRC"</span> . <span class="string">"^#\\+END_SRC"</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">#'lengyueyang/org-ispell</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org9361c40" class="outline-3"><h3 id="org9361c40">Org bullets customization</h3><div class="outline-text-3" id="text-org9361c40"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/post-init-org-bullets <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-bullets-bullet-list <span class="quoted">'(<span class="string">"☰"</span> <span class="string">"☷"</span> <span class="string">"⋗"</span> <span class="string">"⇀"</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">#'lengyueyang/post-init-org-bullets</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge31893a" class="outline-3"><h3 id="orge31893a">Org-notify</h3><div class="outline-text-3" id="text-orge31893a"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-notify</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">org-notify-start</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">org-notify-add</span> <span class="quoted">'appt</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"-1s"</span> <span class="keyword">:period</span> <span class="string">"20s"</span> <span class="keyword">:duration</span> <span class="number">10</span></span><br><span class="line">                        <span class="keyword">:actions</span> (-message -ding))</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"15m"</span> <span class="keyword">:period</span> <span class="string">"2m"</span> <span class="keyword">:duration</span> <span class="number">100</span></span><br><span class="line">                        <span class="keyword">:actions</span> -notify)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"2h"</span> <span class="keyword">:period</span> <span class="string">"10m"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"3d"</span> <span class="keyword">:period</span> <span class="string">"12h"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"7d"</span> <span class="keyword">:period</span> <span class="string">"24h"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"30d"</span> <span class="keyword">:actions</span> -email)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge3b8dfa" class="outline-3"><h3 id="orge3b8dfa">Org-pomodoro</h3><div class="outline-text-3" id="text-orge3b8dfa"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;; [[https://www.reddit.com/r/emacs/comments/5ayjjl/pomodoro_in_emacs/][Pomodoro in Emacs : emacs]]</span></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> org-pomodoro</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:commands</span> <span class="list">(<span class="keyword">org-pomodoro</span>)</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> alert-user-configuration <span class="quoted">(<span class="keyword">quote</span> ((((:category . <span class="string">"org-pomodoro"</span>)) libnotify <span class="literal">nil</span>)))</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-length <span class="number">25</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-short-break-length <span class="number">5</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-long-break-length <span class="number">30</span>)</span></span><br><span class="line">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org083326a" class="outline-3"><h3 id="org083326a">Org-agenda and capture</h3><div class="outline-text-3" id="text-org083326a"></div><div id="outline-container-org88aebba" class="outline-4"><h4 id="org88aebba">Org-agenda</h4><div class="outline-text-4" id="text-org88aebba"><p>The first agenda configuration, which is not complete. </p><p>A complete agenda and capture configuration </p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (setq org-agenda-files (quote (<span class="string">"~/Emacs-lengyue/GTD-lengyue"</span></span><br><span class="line">                                    <span class="string">"~/Emacs-lengyue/Wiki-lengyue"</span>)))</span><br><span class="line"></span><br><span class="line">     (setq org-todo-keywords</span><br><span class="line">           (quote ((sequence <span class="string">"TODO(t)"</span> <span class="string">"STARTED(s)"</span> <span class="string">"|"</span> <span class="string">"CANCELLED(c@/!)"</span> <span class="string">"DONE(d!/!)"</span>)</span><br><span class="line">                   (sequence <span class="string">"SOMEDAY(S)"</span> <span class="string">"|"</span> <span class="string">"WAITING(w@/!)"</span>  <span class="string">"MEETING(m)"</span> <span class="string">"PHONE(p)"</span>)</span><br><span class="line">                   (sequence <span class="string">"REPORT(r)"</span> <span class="string">"BUG(b)"</span> <span class="string">"KNOWNCAUSE(k)"</span> <span class="string">"|"</span> <span class="string">"FIXED(f)"</span>)</span><br><span class="line">                   )))</span><br><span class="line"></span><br><span class="line">     (setq org-todo-keyword-faces</span><br><span class="line">           (quote (</span><br><span class="line">                   (<span class="string">"STARTED"</span> :foreground <span class="string">"magenta"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"NEXT"</span> :foreground <span class="string">"blue"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"DONE"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   (<span class="string">"WAITING"</span> :foreground <span class="string">"red"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"HOLD"</span> :foreground <span class="string">"magenta"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"CANCELLED"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"MEETING"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   ;;               (<span class="string">"PHONE"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   )))</span><br><span class="line"></span><br><span class="line">     (setq org-refile-targets</span><br><span class="line">           '((<span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> :maxlevel . <span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line">     (setq org-log-into-drawer <span class="literal">t</span>)</span><br><span class="line">     (setq org-agenda-custom-commands</span><br><span class="line">        '(</span><br><span class="line">          (<span class="string">"b"</span> <span class="string">"Blog idea"</span> tags-todo <span class="string">"BLOG"</span>)</span><br><span class="line">          (<span class="string">"s"</span> <span class="string">"Someday"</span> todo <span class="string">"SOMEDAY"</span>)</span><br><span class="line">          (<span class="string">"S"</span> <span class="string">"Started"</span> todo <span class="string">"STARTED"</span>)</span><br><span class="line">          (<span class="string">"w"</span> <span class="string">"Waiting"</span> todo <span class="string">"WAITING"</span>)</span><br><span class="line">          (<span class="string">"d"</span> . <span class="string">" 任务安排 "</span>)</span><br><span class="line">          (<span class="string">"da"</span> <span class="string">" 重要且紧急的任务 "</span> tags-todo <span class="string">"+PRIORITY=\"A\""</span>)</span><br><span class="line">          (<span class="string">"db"</span> <span class="string">" 重要且不紧急的任务 "</span> tags-todo <span class="string">"+PRIORITY=\"B\""</span>)</span><br><span class="line">          (<span class="string">"dc"</span> <span class="string">" 不重要且紧急的任务 "</span> tags-todo <span class="string">"+PRIORITY=\"C\""</span>)</span><br><span class="line">          (<span class="string">"p"</span> . <span class="string">" 项目安排 "</span>)</span><br><span class="line">          (<span class="string">"W"</span> <span class="string">"Weekly Review"</span> tags-todo <span class="string">"PROJECT"</span>)</span><br><span class="line">            ))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-summary-todo <span class="list">(<span class="keyword">n-done</span> n-not-done)</span></span><br><span class="line">  <span class="string">"Switch entry to DONE when all subentries are done, to TODO otherwise."</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="keyword">org-log-done</span> org-log-states)</span>  <span class="comment">; turn off logging</span></span><br><span class="line">    <span class="list">(<span class="keyword">org-todo</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">=</span> n-not-done <span class="number">0</span>)</span> <span class="string">"DONE"</span> <span class="string">"TODO"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span><span class="quoted">'org-after-todo-statistics-hook</span> <span class="quoted">'org-summary-todo</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;   ;;used by org-clock-sum-today-by-tags</span></span><br><span class="line"><span class="comment">;; (defun filter-by-tags ()</span></span><br><span class="line"><span class="comment">;;     (let ((head-tags (org-get-tags-at)))</span></span><br><span class="line"><span class="comment">;;       (member current-tag head-tags)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (defun org-clock-sum-today-by-tags (timerange &amp;optional tstart tend noinsert)</span></span><br><span class="line"><span class="comment">;;     (interactive "P")</span></span><br><span class="line"><span class="comment">;;     (let* ((timerange-numeric-value (prefix-numeric-value timerange))</span></span><br><span class="line"><span class="comment">;;            (files (org-add-archive-files (org-agenda-files)))</span></span><br><span class="line"><span class="comment">;;            (include-tags'("PROG" "EMACS" "DREAM" "WRITING" "MEETING" "BLOG" "LIFE" "PROJECT"))</span></span><br><span class="line"><span class="comment">;;            (tags-time-alist (mapcar (lambda (tag) `(,tag . 0)) include-tags))</span></span><br><span class="line"><span class="comment">;;            (output-string "")</span></span><br><span class="line"><span class="comment">;;            (tstart (or tstart</span></span><br><span class="line"><span class="comment">;;                        (and timerange (equal timerange-numeric-value 4) (- (org-time-today) 86400))</span></span><br><span class="line"><span class="comment">;;                        (and timerange (equal timerange-numeric-value 16) (org-read-date nil nil nil "Start Date/Time:"))</span></span><br><span class="line"><span class="comment">;;                        (org-time-today)))</span></span><br><span class="line"><span class="comment">;;            (tend (or tend</span></span><br><span class="line"><span class="comment">;;                      (and timerange (equal timerange-numeric-value 16) (org-read-date nil nil nil "End Date/Time:"))</span></span><br><span class="line"><span class="comment">;;                      (+ tstart 86400)))</span></span><br><span class="line"><span class="comment">;;            h m file item prompt donesomething)</span></span><br><span class="line"><span class="comment">;;       (while (setq file (pop files))</span></span><br><span class="line"><span class="comment">;;         (setq org-agenda-buffer (if (file-exists-p file)</span></span><br><span class="line"><span class="comment">;;                                     (org-get-agenda-file-buffer file)</span></span><br><span class="line"><span class="comment">;;                                   (error "No such file %s" file)))</span></span><br><span class="line"><span class="comment">;;         (with-current-buffer org-agenda-buffer</span></span><br><span class="line"><span class="comment">;;           (dolist (current-tag include-tags)</span></span><br><span class="line"><span class="comment">;;             (org-clock-sum tstart tend'filter-by-tags)</span></span><br><span class="line"><span class="comment">;;             (setcdr (assoc current-tag tags-time-alist)</span></span><br><span class="line"><span class="comment">;;                     (+ org-clock-file-total-minutes (cdr (assoc current-tag tags-time-alist)))))))</span></span><br><span class="line"><span class="comment">;;       (while (setq item (pop tags-time-alist))</span></span><br><span class="line"><span class="comment">;;         (unless (equal (cdr item) 0)</span></span><br><span class="line"><span class="comment">;;           (setq donesomething t)</span></span><br><span class="line"><span class="comment">;;           (setq h (/ (cdr item) 60)</span></span><br><span class="line"><span class="comment">;;                 m (- (cdr item) (* 60 h)))</span></span><br><span class="line"><span class="comment">;;           (setq output-string (concat output-string (format "[-%s-] %.2d:%.2d\n" (car item) h m)))))</span></span><br><span class="line"><span class="comment">;;       (unless donesomething</span></span><br><span class="line"><span class="comment">;;         (setq output-string (concat output-string "[-Nothing-] Done nothing!!!\n")))</span></span><br><span class="line"><span class="comment">;;       (unless noinsert</span></span><br><span class="line"><span class="comment">;;         (insert output-string))</span></span><br><span class="line"><span class="comment">;;       output-string))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org03e7cfc" class="outline-4"><h4 id="org03e7cfc">Org-capture</h4><div class="outline-text-4" id="text-org03e7cfc"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f9&gt;"</span>)</span> <span class="quoted">'org-capture</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oc"</span> <span class="quoted">'org-capture</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-capture-templates</span><br><span class="line">      <span class="quoted">'((<span class="string">"b"</span> <span class="string">"Blog Ideas"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Notes.org"</span> <span class="string">"Blog Ideas"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"s"</span> <span class="string">"Someday/Maybe"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Notes.org"</span> <span class="string">"Someday/Maybe"</span>)</span><br><span class="line">         <span class="string">"* SOMEDAY %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"m"</span> <span class="string">"Myself Tasks"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> <span class="string">"Myself Tasks"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"r"</span> <span class="string">"Work Related Tasks"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> <span class="string">"Work Related Tasks"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"w"</span> <span class="string">"Web site"</span> entry (file <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Bookmark.org"</span>)</span><br><span class="line">         <span class="string">"* %c :website:\n%?\n%U %:initial"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org0337864" class="outline-3"><h3 id="org0337864">Add bookmark to orgmode</h3><div class="outline-text-3" id="text-org0337864"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-protocol-capture-html"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">server-start</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-protocol</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-protocol-capture-html</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgbada7d8" class="outline-3"><h3 id="orgbada7d8">Org-babel customizaton</h3><div class="outline-text-3" id="text-orgbada7d8"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> org-confirm-babel-evaluate <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-plantuml-jar-path</span><br><span class="line">      <span class="list">(<span class="keyword">expand-file-name</span> <span class="string">"/opt/plantuml/plantuml.jar"</span>)</span>)</span></span><br><span class="line"><span class="comment">;; (setq org-ditta-jar-path</span></span><br><span class="line"><span class="comment">;;  (expand-file-name "/usr/share/java/ditaa/ditaa-0_9.jar"))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (defun lengyueyang/org-insert-src-block (src-code-type)</span><br><span class="line">       <span class="string">"Insert a `SRC-CODE-TYPE' type source code block in org-mode."</span></span><br><span class="line">       (interactive</span><br><span class="line">        (let ((src-code-types</span><br><span class="line">               '(<span class="string">"emacs-lisp"</span> <span class="string">"python"</span> <span class="string">"C"</span> <span class="string">"sh"</span> <span class="string">"java"</span> <span class="string">"js"</span> <span class="string">"clojure"</span> <span class="string">"C++"</span> <span class="string">"css"</span></span><br><span class="line">                 <span class="string">"calc"</span> <span class="string">"asymptote"</span> <span class="string">"dot"</span> <span class="string">"gnuplot"</span> <span class="string">"ledger"</span> <span class="string">"lilypond"</span> <span class="string">"mscgen"</span></span><br><span class="line">                 <span class="string">"octave"</span> <span class="string">"oz"</span> <span class="string">"plantuml"</span> <span class="string">"R"</span> <span class="string">"sass"</span> <span class="string">"screen"</span> <span class="string">"sql"</span> <span class="string">"awk"</span> <span class="string">"ditaa"</span></span><br><span class="line">                 <span class="string">"haskell"</span> <span class="string">"latex"</span> <span class="string">"lisp"</span> <span class="string">"matlab"</span> <span class="string">"ocaml"</span> <span class="string">"org"</span> <span class="string">"perl"</span> <span class="string">"ruby"</span></span><br><span class="line">                 <span class="string">"scheme"</span> <span class="string">"sqlite"</span> <span class="string">"ipython"</span>)))</span><br><span class="line">          (list (ido-completing-read <span class="string">"Source code type: "</span> src-code-types))))</span><br><span class="line">       (progn</span><br><span class="line">         (newline-and-indent)</span><br><span class="line">         (insert (format <span class="string">"#+BEGIN_SRC %s\n"</span> src-code-type))</span><br><span class="line">         (newline-and-indent)</span><br><span class="line">         (insert <span class="string">"#+END_SRC\n"</span>)</span><br><span class="line">         (previous-line <span class="number">2</span>)</span><br><span class="line">         (org-edit-src-code)))</span><br><span class="line"></span><br><span class="line">     (add-hook 'org-mode-hook '(lambda ()</span><br><span class="line">                                 ;; keybinding for editing source code blocks</span><br><span class="line">                                 ;; keybinding for inserting code blocks</span><br><span class="line">                                 (local-set-key (kbd <span class="string">"C-c i s"</span>)</span><br><span class="line">                                                'lengyueyang/org-insert-src-block)</span><br><span class="line">                                 ))</span><br><span class="line"></span><br><span class="line">     (org-babel-do-load-languages</span><br><span class="line">      'org-babel-load-languages</span><br><span class="line">      '((perl . <span class="literal">t</span>)</span><br><span class="line">        (ruby . <span class="literal">t</span>)</span><br><span class="line">        (sh . <span class="literal">t</span>)</span><br><span class="line">        (js . <span class="literal">t</span>)</span><br><span class="line">        (python . <span class="literal">t</span>)</span><br><span class="line">        (ipython . <span class="literal">t</span>)</span><br><span class="line">        (emacs-lisp . <span class="literal">t</span>)</span><br><span class="line">        (plantuml . <span class="literal">t</span>)</span><br><span class="line">        (R . <span class="literal">t</span>)</span><br><span class="line">        (dot . <span class="literal">t</span>)</span><br><span class="line">        (gnuplot . <span class="literal">t</span>)</span><br><span class="line">        (latex . <span class="literal">t</span>)</span><br><span class="line">        (C . <span class="literal">t</span>)</span><br><span class="line">        (octave . <span class="literal">t</span>)</span><br><span class="line">        (ditaa . <span class="literal">t</span>)))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Resume clocking task when emacs is restarted</span></span><br><span class="line"><span class="list">(<span class="keyword">org-clock-persistence-insinuate</span>)</span></span><br><span class="line"><span class="comment">;; Save the running clock and all clock history when exiting Emacs, load it on startup</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-clock-persist <span class="literal">t</span>)</span></span><br><span class="line"><span class="comment">;; Do not prompt to resume an active clock</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-clock-persist-query-resume <span class="literal">nil</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org47b5b54" class="outline-3"><h3 id="org47b5b54">Ob-ipython and Jupter notebook</h3><div class="outline-text-3" id="text-org47b5b54"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'ob-ipython</span>)</span></span><br><span class="line"><span class="comment">;; (setq org-babel-python-command "/usr/bin/ipython --pylab --pdb --nosep")</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> python-shell-prompt-detect-failure-warning <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-babel-after-execute-hook</span> <span class="quoted">'org-display-inline-images</span> <span class="quoted">'append</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgaa7c7e1" class="outline-3"><h3 id="orgaa7c7e1">Setup link abbreviations</h3><div class="outline-text-3" id="text-orgaa7c7e1"><p><a href="https://www.gnu.org/software/emacs/manual/html_node/org/Link-abbreviations.html" target="_blank" rel="noopener">Link abbreviations</a></p><p>An abbreviated link looks like</p><pre class="example">[[linkword:tag][description]]</pre><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> org-link-abbrev-alist</span><br><span class="line">      <span class="quoted">'((<span class="string">"google"</span> . <span class="string">"http://www.google.com/search?q="</span>)</span><br><span class="line">        (<span class="string">"google-map"</span> . <span class="string">"http://maps.google.com/maps?q=%s"</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgcc59847" class="outline-3"><h3 id="orgcc59847">Org-subtask and org-checklist</h3><div class="outline-text-3" id="text-orgcc59847"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-subtask-reset"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-subtask-reset</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-checklist"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-checklist</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org741a4d1" class="outline-3"><h3 id="org741a4d1">Org-archive-all-tasks</h3><div class="outline-text-3" id="text-org741a4d1"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang//org-archive-tasks <span class="list">(<span class="keyword">prefix</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">org-map-entries</span></span><br><span class="line">   <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">     <span class="list">(<span class="keyword">org-archive-subtree</span>)</span></span><br><span class="line">     <span class="list">(<span class="keyword">setq</span> org-map-continue-from <span class="list">(<span class="keyword">outline-previous-heading</span>)</span>)</span>)</span></span><br><span class="line">   <span class="list">(<span class="keyword">format</span> <span class="string">"/%s"</span> prefix)</span> <span class="quoted">'file</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/org-archive-all-tasks <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"DONE"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"CANCELLED"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"FIXED"</span>)</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; org-archive-subtree-hierarchical.el</span></span><br><span class="line"><span class="comment">;; modified from https://lists.gnu.org/archive/html/emacs-orgmode/2014-08/msg00109.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; In orgmode</span></span><br><span class="line"><span class="comment">;; * A</span></span><br><span class="line"><span class="comment">;; ** AA</span></span><br><span class="line"><span class="comment">;; *** AAA</span></span><br><span class="line"><span class="comment">;; ** AB</span></span><br><span class="line"><span class="comment">;; *** ABA</span></span><br><span class="line"><span class="comment">;; Archiving AA will remove the subtree from the original file and create</span></span><br><span class="line"><span class="comment">;; it like that in archive target:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; * AA</span></span><br><span class="line"><span class="comment">;; ** AAA</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; And this give you</span></span><br><span class="line"><span class="comment">;; * A</span></span><br><span class="line"><span class="comment">;; ** AA</span></span><br><span class="line"><span class="comment">;; *** AAA</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-archive</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--line-content-as-string <span class="list">()</span></span><br><span class="line">  <span class="string">"Returns the content of the current line as a string"</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="list">(<span class="keyword">beginning-of-line</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">buffer-substring-no-properties</span></span><br><span class="line">     <span class="list">(<span class="keyword">line-beginning-position</span>)</span> <span class="list">(<span class="keyword">line-end-position</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--org-child-list <span class="list">()</span></span><br><span class="line">  <span class="string">"This function returns all children of a heading as a list. "</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="comment">;; this only works with org-version &gt; 8.0, since in previous</span></span><br><span class="line">    <span class="comment">;; org-mode versions the function (org-outline-level) returns</span></span><br><span class="line">    <span class="comment">;; gargabe when the point is not on a heading.</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">=</span> <span class="list">(<span class="keyword">org-outline-level</span>)</span> <span class="number">0</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">outline-next-visible-heading</span> <span class="number">1</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-goto-first-child</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">child-list</span> <span class="list">(<span class="keyword">list</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--line-content-as-string</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">org-goto-sibling</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> child-list <span class="list">(<span class="keyword">cons</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--line-content-as-string</span>)</span> child-list)</span>)</span>)</span></span><br><span class="line">      child-list)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--org-struct-subtree <span class="list">()</span></span><br><span class="line">  <span class="string">"This function returns the tree structure in which a subtree</span><br><span class="line">belongs as a list."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">archive-tree</span> <span class="literal">nil</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">org-up-heading-safe</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">heading</span></span><br><span class="line">               <span class="list">(<span class="keyword">buffer-substring-no-properties</span></span><br><span class="line">                <span class="list">(<span class="keyword">line-beginning-position</span>)</span> <span class="list">(<span class="keyword">line-end-position</span>)</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> archive-tree <span class="literal">nil</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> archive-tree <span class="list">(<span class="keyword">list</span> heading)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">setq</span> archive-tree <span class="list">(<span class="keyword">cons</span> heading archive-tree)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">    archive-tree)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical <span class="list">()</span></span><br><span class="line">  <span class="string">"This function archives a subtree hierarchical"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">org-tree</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--org-struct-subtree</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">this-buffer</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">file</span> <span class="list">(<span class="keyword">abbreviate-file-name</span></span><br><span class="line">               <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">buffer-file-name</span> <span class="list">(<span class="keyword">buffer-base-buffer</span>)</span>)</span></span><br><span class="line">                   <span class="list">(<span class="keyword">error</span> <span class="string">"No file associated to buffer"</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">      <span class="list">(<span class="keyword">setq</span> location <span class="list">(<span class="keyword">org-get-local-archive-location</span>)</span></span><br><span class="line">            afile <span class="list">(<span class="keyword">org-extract-archive-file</span> location)</span></span><br><span class="line">            heading <span class="list">(<span class="keyword">org-extract-archive-heading</span> location)</span></span><br><span class="line">            infile-p <span class="list">(<span class="keyword">equal</span> file <span class="list">(<span class="keyword">abbreviate-file-name</span> <span class="list">(<span class="keyword">or</span> afile <span class="string">""</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">unless</span> afile</span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Invalid `org-archive-location'"</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">length</span> afile)</span> <span class="number">0</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">setq</span> newfile-p <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-exists-p</span> afile)</span>)</span></span><br><span class="line">                visiting <span class="list">(<span class="keyword">find-buffer-visiting</span> afile)</span></span><br><span class="line">                buffer <span class="list">(<span class="keyword">or</span> visiting <span class="list">(<span class="keyword">find-file-noselect</span> afile)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> buffer <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">unless</span> buffer</span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Cannot access file \"%s\""</span> afile)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-cut-subtree</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">set-buffer</span> buffer)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-mode</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">equal</span> org-tree <span class="literal">nil</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">child-list</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--org-child-list</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">member</span> <span class="list">(<span class="keyword">car</span> org-tree)</span> child-list)</span></span><br><span class="line">              <span class="list">(<span class="keyword">progn</span></span><br><span class="line">                <span class="list">(<span class="keyword">search-forward</span> <span class="list">(<span class="keyword">car</span> org-tree)</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">setq</span> org-tree <span class="list">(<span class="keyword">cdr</span> org-tree)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">progn</span></span><br><span class="line">              <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">org-insert-struct</span> org-tree)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> org-tree <span class="literal">nil</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-yank</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">eq</span> this-buffer buffer)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">save-buffer</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">message</span> <span class="string">"Subtree archived %s"</span></span><br><span class="line">               <span class="list">(<span class="keyword">concat</span> <span class="string">"in file: "</span> <span class="list">(<span class="keyword">abbreviate-file-name</span> afile)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-insert-struct <span class="list">(<span class="keyword">struct</span>)</span></span><br><span class="line">  <span class="string">"TODO"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> struct</span><br><span class="line">    <span class="list">(<span class="keyword">insert</span> <span class="list">(<span class="keyword">car</span> struct)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">org-insert-struct</span> <span class="list">(<span class="keyword">cdr</span> struct)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">org-archive-subtree-hierarchical</span>)</span></span><br><span class="line">)</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org18931e4" class="outline-3"><h3 id="org18931e4">Org-ref customize</h3><div class="outline-text-3" id="text-org18931e4"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> reftex-default-bibliography <span class="quoted">'(<span class="string">"~/Emacs-lengyue/Papers/references.bib"</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-ref-default-bibliography <span class="quoted">'(<span class="string">"~/Emacs-lengyue/Papers/references.bib"</span>)</span></span><br><span class="line">      org-ref-pdf-directory <span class="string">"~/Emacs-lengyue/Papers/"</span></span><br><span class="line">      org-ref-bibliography-notes <span class="string">"~/Emacs-lengyue/Papers/notes.org"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-ref-completion-library <span class="quoted">'org-ref-ivy-cite</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orgb83dd36" class="outline-2"><h2 id="orgb83dd36">Programming Languages</h2><div class="outline-text-2" id="text-orgb83dd36"><p>This part is the customization to programming languages.</p></div><div id="outline-container-org9eb5979" class="outline-3"><h3 id="org9eb5979">Yasnippet</h3><div class="outline-text-3" id="text-org9eb5979"><p>Yasnippet allows you to type an abbreviation and then expand it into a template. We can look at yasnippet’s documentation on github.</p><p>Yasnippet by default checks for snippets in two places: a path relative to yasnippet.el (these are the default snippets that come with the package). If I want to make my own, I can put then in .spacemacs.d/snippets and it should find them there as well.</p><p>I downloads some snippets from web like <a href="https://github.com/AndreaCrotti/yasnippet-snippets" target="_blank" rel="noopener">yasnippet-snippets</a> and <a href="https://github.com/howardabrams/dot-files" target="_blank" rel="noopener">dot-file</a> then I defined some snippets of mine.</p><p>You can use the tab key to expand a snippet once you’ve typed in the “key”. It’s pretty smart in that if tab fails for yasnippet, it then checks for whatever tab was originally bound to.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> yas-snippet-dirs</span><br><span class="line">      <span class="quoted">'(<span class="string">"~/.spacemacs.d/snippets/lengyueyang-snippets"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/dot-files-snippets/"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/yasnippet-snippets/"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/lengyueyang-snippets/"</span></span><br><span class="line">        )</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">yas-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y i"</span>)</span> <span class="quoted">'yas-insert-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y n"</span>)</span> <span class="quoted">'yas-new-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y t"</span>)</span> <span class="quoted">'yas-expand-from-trigger-key</span>)</span></span><br><span class="line"><span class="comment">;;(global-set-key (kbd "C-c i e") 'spacemacs/auto-yasnippet-expand)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"oy"</span> <span class="string">"Yasnippet"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyi"</span> <span class="quoted">'yas-insert-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyn"</span> <span class="quoted">'yas-new-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyt"</span> <span class="quoted">'yas-expand-from-trigger-key</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org43e4c3e" class="outline-3"><h3 id="org43e4c3e">Add support for editorconfig</h3><div class="outline-text-3" id="text-org43e4c3e"><p><a href="http://editorconfig.org/" target="_blank" rel="noopener">EditorConfig</a> helps developers define and maintain consistent codingstyles between different editors and IDEs. The EditorConfig projectconsists of a file format for defining coding styles and a collectionof text editor plugins that enable editors to read the file format andadhere to defined styles. EditorConfig files are easily readable andthey work nicely with version control systems.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> editorconfig</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'prog-mode-hook</span> <span class="list">(<span class="keyword">editorconfig-mode</span> <span class="number">1</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span> <span class="list">(<span class="keyword">editorconfig-mode</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org471e188" class="outline-3"><h3 id="org471e188">Ess and R</h3><div class="outline-text-3" id="text-org471e188"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0e14678" class="outline-3"><h3 id="org0e14678">Python</h3><div class="outline-text-3" id="text-org0e14678"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> python-fill-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgd8d7215" class="outline-3"><h3 id="orgd8d7215">JS-2 mode</h3><div class="outline-text-3" id="text-orgd8d7215"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> nodejs-repl</span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="keyword">:defer</span> <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/nodejs-repl-eval"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> nodejs-repl-eval</span><br><span class="line">  <span class="keyword">:commands</span> <span class="list">(<span class="keyword">nodejs-repl-eval-buffer</span> nodejs-repl-eval-dwim nodejs-repl-eval-function)</span></span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">spacemacs/declare-prefix-for-mode</span> <span class="quoted">'js2-mode</span></span><br><span class="line">                                       <span class="string">"mo"</span> <span class="string">"Nodejs-repl"</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">spacemacs/set-leader-keys-for-major-mode</span> <span class="quoted">'js2-mode</span></span><br><span class="line">      <span class="string">"oo"</span> <span class="quoted">'nodejs-repl</span></span><br><span class="line">      <span class="string">"ob"</span> <span class="quoted">'nodejs-repl-eval-buffer</span></span><br><span class="line">      <span class="string">"of"</span> <span class="quoted">'nodejs-repl-eval-function</span></span><br><span class="line">      <span class="string">"od"</span> <span class="quoted">'nodejs-repl-eval-dwim</span>)</span>)</span></span><br><span class="line">  <span class="keyword">:defer</span> <span class="literal">t</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0f625e7" class="outline-3"><h3 id="org0f625e7">Elisp enhanced</h3><div class="outline-text-3" id="text-org0f625e7"></div><div id="outline-container-orgd1e41e5" class="outline-4"><h4 id="orgd1e41e5">Emacs Lisp 自动配对问题</h4><div class="outline-text-4" id="text-orgd1e41e5"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">sp-local-pair</span> <span class="quoted">'(emacs-lisp-mode lisp-interaction-mode)</span> <span class="string">"'"</span> <span class="literal">nil</span> <span class="keyword">:actions</span> <span class="literal">nil</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org566ee0f" class="outline-2"><h2 id="org566ee0f">External package besides spacemacs</h2><div class="outline-text-2" id="text-org566ee0f"></div><div id="outline-container-org1a6d82e" class="outline-3"><h3 id="org1a6d82e">Use emmet-mode to add Zen Coding support</h3><div class="outline-text-3" id="text-org1a6d82e"><p><a href="https://github.com/smihica/emmet-mode" target="_blank" rel="noopener">emmet-mode</a> is a fork of <a href="https://github.com/rooney/zencoding" target="_blank" rel="noopener">zencoding-mode</a> which add minor mode providing supportfor Zen Coding by producing HTML from CSS-like selectors.</p><p>GitHub: <a href="https://github.com/smihica/emmet-mode" target="_blank" rel="noopener">https://github.com/smihica/emmet-mode</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> emmet-mode</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="comment">;; Following mode support emmet-mode</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'html-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'sgml-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'nxml-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'css-mode-hook</span>  <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Move cursor between quotes after expand</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'emmt-mode-hook</span></span><br><span class="line">              <span class="quoted">'(lambda()</span><br><span class="line">                 (setq emmet-move-cursor-between-quotes <span class="literal">t</span>))</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Make tab can also expand emmt instead of use yasnippet directly</span></span><br><span class="line">    <span class="list">(<span class="keyword">define-key</span> emmt-mode-keymap <span class="list">(<span class="keyword">kbd</span> <span class="string">"TAB"</span>)</span> <span class="quoted">'emmt-expand-yas</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">define-key</span> emmt-mode-keymap <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;tab&gt;"</span>)</span> <span class="quoted">'emmt-expand-yas</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga297066" class="outline-3"><h3 id="orga297066">Hungry-delete</h3><div class="outline-text-3" id="text-orga297066"><p><a href="https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-hungry-delete.el" target="_blank" rel="noopener">https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-hungry-delete.el</a></p><p><a href="https://github.com/nflath/hungry-delete" target="_blank" rel="noopener">hungry-delete</a> borrows hungry deletion from <code>cc-mode</code>, which will causes deletionto delete all whitespace in the direction you are deleting.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> hungry-delete</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> hungry-delete-chars-to-skip <span class="string">" \t\r\f\v"</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Mon Nov 21 08:45:42 EST 2016 - kmodi</span></span><br><span class="line">    <span class="comment">;; Override the default definitions of `hungry-delete-skip-ws-forward' and</span></span><br><span class="line">    <span class="comment">;; `hungry-delete-skip-ws-backward'; do not delete back-slashes at EOL.</span></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> hungry-delete-skip-ws-forward <span class="list">()</span></span><br><span class="line">      <span class="string">"Skip over any whitespace following point.</span><br><span class="line">This function skips over horizontal and vertical whitespace."</span></span><br><span class="line">      <span class="list">(<span class="keyword">skip-chars-forward</span> hungry-delete-chars-to-skip)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">get-text-property</span> <span class="list">(<span class="keyword">point</span>)</span> <span class="quoted">'read-only</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">backward-char</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> hungry-delete-skip-ws-backward <span class="list">()</span></span><br><span class="line">      <span class="string">"Skip over any whitespace preceding point.</span><br><span class="line">This function skips over horizontal and vertical whitespace."</span></span><br><span class="line">      <span class="list">(<span class="keyword">skip-chars-backward</span> hungry-delete-chars-to-skip)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">get-text-property</span> <span class="list">(<span class="keyword">point</span>)</span> <span class="quoted">'read-only</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">forward-char</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> modi/turn-off-hungry-delete-mode <span class="list">()</span></span><br><span class="line">      <span class="string">"Turn off hungry delete mode."</span></span><br><span class="line">      <span class="list">(<span class="keyword">hungry-delete-mode</span> <span class="number">-1</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Enable `hungry-delete-mode' everywhere ..</span></span><br><span class="line">    <span class="list">(<span class="keyword">global-hungry-delete-mode</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Except ..</span></span><br><span class="line">    <span class="comment">;; `hungry-delete-mode'-loaded backspace does not work in `wdired-mode',</span></span><br><span class="line">    <span class="comment">;; i.e. when editing file names in the *Dired* buffer.</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'wdired-mode-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span></span><br><span class="line">    <span class="comment">;; and in python-mode-hook</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span></span><br><span class="line">    <span class="comment">;; and in minibuffer</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'minibuffer-setup-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0560aa9" class="outline-3"><h3 id="org0560aa9">Pangu-spacing</h3><div class="outline-text-3" id="text-org0560aa9"><p><code>pangu-spcing</code> is an minor-mode to auto add space between Chinese and English characters. Note that these white-space characters are not really added to the contents, it just like to do so.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> pangu-spacing</span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="comment">;; start pangu-spacing globally</span></span><br><span class="line">    <span class="list">(<span class="keyword">global-pangu-spacing-mode</span> <span class="number">1</span>)</span></span><br><span class="line">    <span class="comment">;; Always insert `real' space in org-mode.</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span></span><br><span class="line">              <span class="quoted">'(lambda ()</span><br><span class="line">                 (set (make-local-variable 'pangu-spacing-real-insert-separtor) <span class="literal">t</span>))</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org7d0d68f" class="outline-3"><h3 id="org7d0d68f">Bold-admin</h3><div class="outline-text-3" id="text-org7d0d68f"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;; (add-to-load-path "~/.spacemacs.d/package/blog-admin")</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'blog-admin</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-type 'org-page)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-path "~/Emacs-lengyue/Blog-lengyue/source")</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-new-post-in-drafts t)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-new-post-with-same-name-dir t)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-org-page-drafts "_drafts")</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;  (setq op/repository-directory "~/Emacs-lengyue/Blog-lengyue/source")</span></span><br><span class="line"><span class="comment">;;  (setq op/site-domain "http://lengyueyang.github.io") </span></span><br><span class="line"><span class="comment">;;  (setq op/personal-disqus-shortname "lengyueyang")</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-type <span class="quoted">'hexo</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-path <span class="string">"~/Emacs-lengyue/Blog-lengyue/"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-new-post-in-drafts <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-new-post-with-same-name-dir <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ob"</span> <span class="quoted">'blog-admin-start</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgd463cf2" class="outline-3"><h3 id="orgd463cf2">Hexo configuration</h3><div class="outline-text-3" id="text-orgd463cf2"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span><span class="quoted">'cl</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> hexo-dir <span class="string">"~/Emacs-lengyue/Blog-lengyue"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-publish <span class="list">(<span class="keyword">commit-msg</span>)</span></span><br><span class="line">  <span class="string">"git add . &amp; git commit &amp; git push &amp; hexo d"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"sInput commit message:"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">async-shell-command</span> <span class="list">(<span class="keyword">format</span> <span class="string">"cd %s ;git add . ;git commit -m \"%s\" ;git push ;hexo clean; hexo g; hexo d -g"</span></span><br><span class="line">                               hexo-dir</span><br><span class="line">                               commit-msg)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-add-read-more <span class="list">()</span></span><br><span class="line">  <span class="string">"add &lt;!--more--&gt;"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="string">"#+BEGIN_HTML\n&lt;!--more--&gt;\n#+END_HTML"</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-new-open-post <span class="list">(<span class="keyword">post-name</span>)</span></span><br><span class="line">  <span class="string">"create a hexo org post"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"sInput post name:"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s/source/_posts/%s.org"</span> hexo-dir post-name)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="list">(<span class="keyword">format</span> <span class="string">"#+TITLE: %s</span><br><span class="line">#+DATE: %s</span><br><span class="line">#+LAYOUT: post</span><br><span class="line">#+TAGS:</span><br><span class="line">#+CATEGORIES:</span><br><span class="line">"</span>  post-name <span class="list">(<span class="keyword">format-time-string</span> <span class="string">"&lt;%Y-%m-%d %a %H:%M&gt;"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-source <span class="list">()</span></span><br><span class="line">  <span class="string">"use dired open hexo source dir"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">ido-find-file-in-dir</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s/source/"</span> hexo-dir)</span>)</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-move-article <span class="list">()</span></span><br><span class="line">  <span class="string">"Move current file between _post and _draft;</span><br><span class="line">You can run this function in dired or a hexo article."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">string-match</span> <span class="string">"/\\(_posts/\\|_drafts/\\)$"</span> default-directory)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">parent-dir</span> <span class="list">(<span class="keyword">file-truename</span> <span class="list">(<span class="keyword">concat</span> default-directory <span class="string">"../"</span>)</span>)</span>)</span></span><br><span class="line">             <span class="list">(<span class="keyword">dest-dir</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">string-match</span> <span class="string">"_drafts/$"</span> default-directory)</span> <span class="string">"_posts/"</span> <span class="string">"_drafts/"</span>)</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">cond</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'markdown-mode</span>)</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'org-mode</span>)</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">cur-file</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span></span><br><span class="line">                      <span class="list">(<span class="keyword">new-file</span> <span class="list">(<span class="keyword">concat</span> parent-dir dest-dir <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span>)</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">save-buffer</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">kill-buffer</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">rename-file</span> cur-file new-file)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">find-file</span> new-file)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">format</span> <span class="string">"Now in %s"</span> dest-dir)</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'dired-mode</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">dired-rename-file</span> <span class="list">(<span class="keyword">dired-get-filename</span> <span class="literal">nil</span>)</span></span><br><span class="line">                                  <span class="list">(<span class="keyword">concat</span> parent-dir dest-dir <span class="list">(<span class="keyword">dired-get-filename</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">                                  <span class="literal">nil</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">format</span> <span class="string">"The article has been moved to %s"</span> dest-dir)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span> <span class="string">"You have to run this in a hexo article buffer or dired"</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org29f924e" class="outline-3"><h3 id="org29f924e">Use emms to play music</h3><div class="outline-text-3" id="text-org29f924e"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;; https://github.com/tumashu/emacs-helper/blob/master/eh-emms.el</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> emms</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> emms-setup</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> emms-info-libtag</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> dired</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="comment">;; (use-package chinese-pyim)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">emms-devel</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-default-players</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">fboundp</span> <span class="quoted">'emms-cache</span>)</span> <span class="list">(<span class="keyword">emms-cache</span> <span class="number">1</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">emms-history-load</span>)</span></span><br><span class="line">  <span class="comment">;; EMMS 目录</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-source-file-default-directory <span class="string">"~/Music/Lengyueyang-music"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-directory-p</span> emms-source-file-default-directory)</span></span><br><span class="line">    <span class="list">(<span class="keyword">make-directory</span> <span class="list">(<span class="keyword">file-name-as-directory</span> emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-directory <span class="string">"~/Music/.emms/"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-history-file <span class="string">"~/Music/.emms/history"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-cache-file <span class="string">"~/Music/.emms/cache"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-stream-bookmarks-file <span class="string">"~/Music/.emms/streams"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-score-file <span class="string">"~/Music/.emms/scores"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设定 EMMS 主模式为 Playlist 模式</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playlist-default-major-mode <span class="quoted">'emms-playlist-mode</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 修复播放完后的 BUG</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-player-next-function <span class="quoted">'emms-next</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设定音轨初始化信息</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'emms-track-initialize-functions</span> <span class="quoted">'emms-info-initialize-track</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 关闭 EMMS 信息异步模式</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-info-asynchronously <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设定 EMMS 启动列表循环播放</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-repeat-playlist <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 排序方法: 艺术家 -&gt; 专辑 -&gt; 序号</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playlist-sort-function</span><br><span class="line">        <span class="quoted">'emms-playlist-sort-by-natural-order</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 使用 Gnu find 查找文件</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-source-file-directory-tree-function</span><br><span class="line">        <span class="quoted">'emms-source-file-directory-tree-find</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 在 minibuffer 中显示播放信息(emms-show)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'emms-player-started-hook</span> <span class="quoted">'emms-show</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-show-format <span class="string">"正在播放: [%s]"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;;设置 Mode-line 的显示方式</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-mode-line-format <span class="string">"%s"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playing-time-display-format <span class="string">"%s ]"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> global-mode-string</span><br><span class="line">        <span class="quoted">'(<span class="string">" "</span> emms-mode-line-string <span class="string">" "</span> emms-playing-time-string <span class="string">" "</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-mode-line-mode-line-function</span><br><span class="line">        <span class="quoted">'eh-emms-mode-line-playlist-current</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-mode-line-playlist-current <span class="list">()</span></span><br><span class="line">    <span class="string">"Format the currently playing."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">track</span> <span class="list">(<span class="keyword">emms-playlist-current-selected-track</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span></span><br><span class="line">                   <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">art</span>  <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span>)</span></span><br><span class="line">                    <span class="list">(<span class="keyword">tit</span>  <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">format</span> <span class="string">"[ %s -- %s"</span> art tit)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">format</span> <span class="string">"[ %s"</span></span><br><span class="line">                    <span class="list">(<span class="keyword">file-relative-name</span> <span class="list">(<span class="keyword">emms-track-name</span> track)</span></span><br><span class="line">                                        emms-source-file-default-directory)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 显示歌词</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-lyrics</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-lyrics-display-on-modeline <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; Function used to format track</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-track-description-function</span><br><span class="line">        #<span class="quoted">'(lambda (track)</span><br><span class="line">            (concat <span class="string">" "</span> (eh-emms-make-track-description track)))</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设置 Playlist 的显示方式</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-last-played-format-alist</span><br><span class="line">        <span class="quoted">'(((emms-last-played-seconds-today) . <span class="string">"%H:%M"</span>)</span><br><span class="line">          (<span class="number">604800</span>                           . <span class="string">"%H:%M"</span>)</span><br><span class="line">          ((emms-last-played-seconds-month) . <span class="string">"%d"</span>)</span><br><span class="line">          ((emms-last-played-seconds-year)  . <span class="string">"%m-%d"</span>)</span><br><span class="line">          (<span class="literal">t</span>                                . <span class="string">"%Y"</span>))</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-make-track-description <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="string">"Return a description of the current track."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">track-type</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">play-count</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'play-count</span>)</span> <span class="number">0</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">last-played</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'last-played</span>)</span> <span class="quoted">'(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">pmin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time-min</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">psec</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time-sec</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">ptot</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">title</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">artist</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">album</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-album</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> track-type)</span></span><br><span class="line">          <span class="list">(<span class="keyword">format</span> <span class="string">"%5s %3s |-&gt; %-s"</span></span><br><span class="line">                  <span class="list">(<span class="keyword">emms-last-played-format-date</span> last-played)</span></span><br><span class="line">                  play-count</span><br><span class="line">                  <span class="list">(<span class="keyword">cond</span> <span class="list">(<span class="list">(<span class="keyword">and</span> pmin psec)</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s %s -- %s [%02d:%02d]"</span> artist album title pmin psec)</span>)</span></span><br><span class="line">                        <span class="list">(<span class="keyword">ptot</span> <span class="list">(<span class="keyword">format</span>  <span class="string">"%s %s -- %s [%02d:%02d]"</span> artist album title <span class="list">(<span class="keyword">/</span> ptot <span class="number">60</span>)</span> <span class="list">(% ptot <span class="number">60</span>)</span>)</span>)</span></span><br><span class="line">                        <span class="list">(<span class="keyword">t</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s %s -- %s"</span> artist album  title)</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; Function used to get music tags, for example IDv2.3!</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-info-functions <span class="quoted">'(eh-emms-info-libtag eh-emms-info-add-pinyin-alias)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-info-libtag <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">string-match</span></span><br><span class="line">                <span class="string">"\\.\\([Mm][Pp]3\\|[oO][gG][gG]\\|[fF][lL][aA][cC]\\|[sS][pP][xX]\\)\\'"</span></span><br><span class="line">                <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">info-list</span></span><br><span class="line">             <span class="list">(<span class="keyword">split-string</span> <span class="list">(<span class="keyword">file-relative-name</span></span><br><span class="line">                            <span class="list">(<span class="keyword">emms-track-name</span> track)</span></span><br><span class="line">                            emms-source-file-default-directory)</span> <span class="string">"/"</span> <span class="literal">t</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-artist</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">length</span> info-list)</span> <span class="number">1</span>)</span> <span class="list">(<span class="keyword">nth</span> <span class="number">0</span> info-list)</span> <span class="string">"未知艺术家"</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-album</span>  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">length</span> info-list)</span> <span class="number">2</span>)</span> <span class="list">(<span class="keyword">nth</span> <span class="number">1</span> info-list)</span> <span class="string">"杂项"</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-title</span> <span class="list">(<span class="keyword">car</span> <span class="list">(<span class="keyword">reverse</span> info-list)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">with-temp-buffer</span></span><br><span class="line">        <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">string=</span> <span class="string">"0"</span></span><br><span class="line">                       <span class="list">(<span class="keyword">format</span> <span class="string">"%s"</span> <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">coding-system-for-read</span> <span class="quoted">'utf-8</span>)</span>)</span></span><br><span class="line">                                      <span class="list">(<span class="keyword">call-process</span> emms-info-libtag-program-name</span><br><span class="line">                                                    <span class="literal">nil</span> <span class="quoted">'(t nil)</span> <span class="literal">nil</span></span><br><span class="line">                                                    <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">          <span class="comment">;; Crush the trailing whitespace</span></span><br><span class="line">          <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> <span class="string">"[[:space:]]+$"</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">replace-match</span> <span class="string">""</span> <span class="literal">nil</span> <span class="literal">nil</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">looking-at</span> <span class="string">"^\\([^=\n]+\\)=\\(.*\\)$"</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">intern-soft</span> <span class="list">(<span class="keyword">match-string</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line">                  <span class="list">(<span class="keyword">value</span> <span class="list">(<span class="keyword">match-string</span> <span class="number">2</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">&gt;</span> <span class="list">(<span class="keyword">length</span> value)</span></span><br><span class="line">                       <span class="number">0</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">emms-track-set</span> track</span><br><span class="line">                                name</span><br><span class="line">                                <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> name <span class="quoted">'info-playing-time</span>)</span></span><br><span class="line">                                    <span class="list">(<span class="keyword">string-to-number</span> value)</span></span><br><span class="line">                                  value)</span>)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">forward-line</span> <span class="number">1</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-info-add-pinyin-alias <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="string">"Add pinyin alias to the track"</span></span><br><span class="line">    <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">featurep</span> <span class="quoted">'chinese-pyim</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-artist-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-album-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-album</span>)</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-title-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span> <span class="literal">t</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设置 EMMS 浏览器, 默认显示方式为: 显示所有</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-set-filter</span> <span class="list">(<span class="keyword">assoc</span> <span class="string">"EVERYTHING"</span> emms-browser-filters)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: 显示所有</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"EVERYTHING"</span> <span class="quoted">'ignore</span>)</span></span><br><span class="line">  <span class="comment">;; filter: 只显示文件</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"ALL-FILES"</span> <span class="list">(<span class="keyword">emms-browser-filter-only-type</span> <span class="quoted">'file</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: 最近一个星期播放的</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"LAST-WEEK"</span> <span class="list">(<span class="keyword">emms-browser-filter-only-recent</span> <span class="number">7</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: 最近一个月都没有播放的</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"LAST-MONTH-NOT-PLAYED"</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">track</span>)</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">funcall</span> <span class="list">(<span class="keyword">emms-browser-filter-only-recent</span> <span class="number">30</span>)</span> track)</span>)</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; EMMS 浏览器, 删除文件不提醒</span></span><br><span class="line">  <span class="list">(<span class="keyword">put</span> <span class="quoted">'emms-browser-delete-files</span> <span class="quoted">'disabled</span> <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 设置 emms buffer 显示格式</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-artist-format <span class="string">"* %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-album-format  <span class="string">"  - %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-title-format  <span class="string">"    ♪. %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-playlist-info-title-format <span class="string">"%n"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 自定义 emms-browser-add-tracks, 禁止在 playlist 文件中添加</span></span><br><span class="line">  <span class="comment">;; artist 行 和 album 行，同时使 emacs-browser-playlist-*-*-format</span></span><br><span class="line">  <span class="comment">;; 中 "%i"位置符失效</span></span><br><span class="line">  <span class="comment">;;</span></span><br><span class="line">  <span class="comment">;; 注: emms-browser-playlist-info-artist-format</span></span><br><span class="line">  <span class="comment">;;     emms-browser-playlist-info-album-format</span></span><br><span class="line">  <span class="comment">;;     两个变量设置在这里不起作用</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-add-tracks <span class="list">()</span></span><br><span class="line">    <span class="string">"Add all tracks at point.</span><br><span class="line">Return the previous point-max before adding."</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">first-new-track</span> <span class="list">(<span class="keyword">with-current-emms-playlist</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">bdata</span> <span class="list">(<span class="keyword">emms-browser-bdata-at-point</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">eh-emms-browser-playlist-insert-bdata</span> bdata)</span></span><br><span class="line">      <span class="list">(<span class="keyword">run-hook-with-args</span> <span class="quoted">'emms-browser-tracks-added-hook</span></span><br><span class="line">                          first-new-track)</span></span><br><span class="line">      first-new-track)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-playlist-insert-bdata <span class="list">(<span class="keyword">bdata</span>)</span></span><br><span class="line">    <span class="string">"Add all tracks in BDATA to the playlist."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">type</span> <span class="list">(<span class="keyword">emms-browser-bdata-type</span> bdata)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; recurse or add tracks</span></span><br><span class="line">      <span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">item</span> <span class="list">(<span class="keyword">emms-browser-bdata-data</span> bdata)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">eq</span> type <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">eh-emms-browser-playlist-insert-bdata</span> item)</span></span><br><span class="line">          <span class="list">(<span class="keyword">emms-browser-playlist-insert-track</span> bdata)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-make-name <span class="list">(<span class="keyword">entry</span> type)</span></span><br><span class="line">    <span class="string">"Override `emms-browser-make-name'. Return a name for ENTRY, used for making a bdata object."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">key</span> <span class="list">(<span class="keyword">car</span> entry)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">track</span> <span class="list">(<span class="keyword">cadr</span> entry)</span>)</span></span><br><span class="line">          artist title)</span> <span class="comment">;; only the first track</span></span><br><span class="line">      <span class="list">(<span class="keyword">cond</span></span><br><span class="line">       <span class="list">(<span class="list">(<span class="keyword">eq</span> type <span class="quoted">'info-title</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">eh-emms-make-track-description</span> track)</span>)</span></span><br><span class="line">       <span class="list">(<span class="keyword">t</span> key)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">advice-add</span> <span class="quoted">'emms-browser-make-name</span> <span class="keyword">:override</span> <span class="quoted">#'eh-emms-browser-make-name</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; 快捷函数</span></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-toggle-playing <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> emms-player-playing-p</span><br><span class="line">        <span class="list">(<span class="keyword">emms-pause</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-start</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-search <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">call-interactively</span> <span class="quoted">'isearch-forward</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">null</span> emms-playlist-buffer)</span></span><br><span class="line">            <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">buffer-live-p</span> emms-playlist-buffer)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">playlist</span> <span class="list">(<span class="keyword">concat</span></span><br><span class="line">                         <span class="list">(<span class="keyword">file-name-as-directory</span> emms-source-file-default-directory)</span></span><br><span class="line">                         <span class="string">"default.playlist"</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-readable-p</span> playlist)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">eh-emms-add-directory-tree</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">emms-add-playlist</span> playlist)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-playlist-mode-go</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-add-directory-tree <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-add-directory-tree</span></span><br><span class="line">     <span class="list">(<span class="keyword">ido-read-directory-name</span></span><br><span class="line">      <span class="string">"Add directory tree:"</span></span><br><span class="line">      emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-add-file <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">file</span> <span class="list">(<span class="keyword">ido-read-file-name</span></span><br><span class="line">                 <span class="string">"Add directory tree:"</span></span><br><span class="line">                 emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">cond</span></span><br><span class="line">       <span class="list">(<span class="list">(<span class="keyword">string-match</span> <span class="string">"\\.\\(m3u\\|pls\\)\\'"</span> file)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-add-playlist</span> file)</span>)</span></span><br><span class="line">       <span class="list">(<span class="keyword">t</span> <span class="list">(<span class="keyword">emms-add-file</span> file)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-names <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-artist info-artist-alias info-title info-title-alias info-album info-album-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-artist <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-artist info-artist-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-title <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-title info-title-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'emms-info-functions</span> <span class="quoted">'emms-info-cueinfo</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">evil-add-hjkl-bindings</span> emms-playlist-mode-map <span class="quoted">'emacs</span>)</span></span><br><span class="line">  <span class="comment">;; Global keybinding for emms</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-unset-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e"</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e e"</span>)</span> <span class="quoted">'eh-emms</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e d"</span>)</span> <span class="quoted">'eh-emms-add-directory-tree</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e f"</span>)</span> <span class="quoted">'eh-emms-add-file</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e SPC"</span>)</span> <span class="quoted">'eh-emms-toggle-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e q"</span>)</span> <span class="quoted">'emms-stop</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e n"</span>)</span> <span class="quoted">'emms-next</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e p"</span>)</span> <span class="quoted">'emms-previous</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e o"</span>)</span> <span class="quoted">'emms-show</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e h"</span>)</span> <span class="quoted">'emms-shuffle</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e H"</span>)</span> <span class="quoted">'emms-sort</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e r"</span>)</span>   <span class="quoted">'emms-toggle-repeat-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e R"</span>)</span>   <span class="quoted">'emms-toggle-repeat-playlist</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s u"</span>)</span> <span class="quoted">'emms-score-up-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s d"</span>)</span> <span class="quoted">'emms-score-down-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s o"</span>)</span> <span class="quoted">'emms-score-show-playing</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; browser mode map</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"SPC"</span>)</span> <span class="quoted">'emms-browser-next-non-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;return&gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">eh-emms-browser-add-tracks</span>)</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">message</span> <span class="string">"Add current track to playlist"</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-SPC"</span>)</span> <span class="quoted">'emms-browser-next-non-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;tab&gt;"</span>)</span> <span class="quoted">'emms-browser-toggle-subitems</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"o"</span>)</span> <span class="quoted">'emms-playlist-mode-go</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"w"</span>)</span> <span class="quoted">'emms-browser-show-LAST-WEEK</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"a"</span>)</span> <span class="quoted">'emms-browser-show-EVERYTHING</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"m"</span>)</span> <span class="quoted">'emms-browser-show-LAST-MONTH-NOT-PLAYED</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s s"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-names</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s a"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-artist</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s t"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-title</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; playlist-mode-map</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"o"</span>)</span> <span class="quoted">'emms-browser-show-LAST-WEEK</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"SPC"</span>)</span> <span class="quoted">'emms-pause</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"/"</span>)</span> <span class="quoted">'eh-emms-search</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"+"</span>)</span> <span class="quoted">'emms-volume-raise</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"-"</span>)</span> <span class="quoted">'emms-volume-lower</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&lt;right&gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">+10</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&lt;left&gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">-10</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&lt;right&gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">+60</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&lt;left&gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">-60</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S u"</span>)</span> <span class="quoted">'emms-score-up-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S d"</span>)</span> <span class="quoted">'emms-score-down-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S o"</span>)</span> <span class="quoted">'emms-score-show-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S l"</span>)</span> <span class="quoted">'emms-score-less-tolerant</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S m"</span>)</span> <span class="quoted">'emms-score-more-tolerant</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S t"</span>)</span> <span class="quoted">'emms-score-set-tolerance</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S s"</span>)</span> <span class="quoted">'emms-score-show-playing</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; https://www.gnu.org/software/emms/manual/#Introduction</span></span><br><span class="line"><span class="comment">;; (require 'emms-setup)</span></span><br><span class="line"><span class="comment">;; (emms-all)</span></span><br><span class="line"><span class="comment">;; (emms-default-players)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq emms-directory "~/Music/.emms")</span></span><br><span class="line"><span class="comment">;; (setq emms-cache-file "~/Music/.emms/cache")</span></span><br><span class="line"><span class="comment">;; (setq emms-score-file "~/Music/.emms/scores")</span></span><br><span class="line"><span class="comment">;; (setq emms-history-file "~/Music/.emms/history")</span></span><br><span class="line"><span class="comment">;; (setq emms-source-file-default-directory "~/Music/")</span></span><br><span class="line"><span class="comment">;; (emms-history-load)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"oe"</span> <span class="string">"Emms-Music"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oee"</span> <span class="quoted">'emms</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oea"</span> <span class="quoted">'emms-add-directory-tree</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oef"</span> <span class="quoted">'emms-play-file</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oes"</span> <span class="quoted">'emms-stop</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oen"</span> <span class="quoted">'emms-next</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oep"</span> <span class="quoted">'emms-previous</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org2a00bf7" class="outline-2"><h2 id="org2a00bf7">Other customization</h2><div class="outline-text-2" id="text-org2a00bf7"><p>This part is some customization not belong to the anterior part.</p></div><div id="outline-container-orgcb9eee2" class="outline-3"><h3 id="orgcb9eee2">Column indicator</h3><div class="outline-text-3" id="text-orgcb9eee2"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'fill-column-indicator</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> fci-rule-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'prog-mode-hook</span> <span class="quoted">'fci-mode</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'git-commit-mode-hook</span> <span class="quoted">'fci-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org40f2d9a" class="outline-3"><h3 id="org40f2d9a">Disable auto paste from clipboard</h3><div class="outline-text-3" id="text-org40f2d9a"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'spacemacs-buffer-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line"><span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'mouse-1-click-follows-link</span>)</span> <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org858580d" class="outline-3"><h3 id="org858580d">Truncate lines automatically</h3><div class="outline-text-3" id="text-org858580d"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'magit-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga07922c" class="outline-3"><h3 id="orga07922c">Hotspots</h3><div class="outline-text-3" id="text-orga07922c"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hotspots <span class="list">()</span></span><br><span class="line">  <span class="string">"helm interface to my hotspots, which includes my locations,</span><br><span class="line">org-files and bookmarks"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">helm</span> <span class="keyword">:buffer</span> <span class="string">"*helm: utities*"</span></span><br><span class="line">        <span class="keyword">:sources</span> <span class="quoted">`(,(lengyueyang//hotspots-sources))</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang//hotspots-sources <span class="list">()</span></span><br><span class="line">  <span class="string">"Construct the helm sources for my hotspots"</span></span><br><span class="line">  <span class="quoted">`((name . <span class="string">"lengyueyang's center"</span>)</span><br><span class="line">    (candidates . (</span><br><span class="line">                   (<span class="string">"Agenda List"</span> . (lambda () (org-agenda <span class="string">""</span> <span class="string">"a"</span>)))</span><br><span class="line">                   (<span class="string">"Agenda Menu"</span> . (lambda () (org-agenda)))</span><br><span class="line">                   (<span class="string">"Blog"</span> . (lambda() (blog-admin-start)))</span><br><span class="line">                   (<span class="string">"Elfeed"</span> . (lambda () (elfeed)))</span><br><span class="line">                   ;; (<span class="string">"Agenda Next TODO"</span> . (lambda () (org-agenda <span class="string">""</span> <span class="string">"t"</span>)))</span><br><span class="line">                   (<span class="string">"Open Github"</span> . (lambda() (browse-url <span class="string">"https://github.com/lengyueyang"</span>)))</span><br><span class="line">                   (<span class="string">"Open Blog"</span> . (lambda() (browse-url <span class="string">"http://lengyueyang.github.io"</span>)))))</span><br><span class="line">    (candidate-number-limit)</span><br><span class="line">    (action . ((<span class="string">"Open"</span> . (lambda (x) (funcall x))))))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;f1&gt;"</span>)</span> <span class="quoted">'lengyueyang/hotspots</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oh"</span> <span class="quoted">'lengyueyang/hotspots</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgeff7633" class="outline-3"><h3 id="orgeff7633">Count chinese word</h3><div class="outline-text-3" id="text-orgeff7633"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-chinese-char-and-punc</span><br><span class="line">  <span class="list">(<span class="keyword">rx</span> <span class="list">(<span class="keyword">category</span> chinese)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-chinese-punc</span><br><span class="line">  <span class="string">"[。，！？；：「」『』（）、【】《》〈〉※—]"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-english-word</span><br><span class="line">  <span class="string">"[a-zA-Z0-9-]+"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/word-count-for-chinese <span class="list">()</span></span><br><span class="line">  <span class="string">"「較精確地」統計中 / 日 / 英文字數。</span><br><span class="line">- 文章中的註解不算在字數內。</span><br><span class="line">- 平假名與片假名亦包含在「中日文字數」內，每個平 / 片假名都算單獨一個字（但片假</span><br><span class="line">  名不含連音「ー」）。</span><br><span class="line">- 英文只計算「單字數」，不含標點。</span><br><span class="line">- 韓文不包含在內。</span><br><span class="line">※計算標準太多種了，例如英文標點是否算入、以及可能有不太常用的標點符號沒算入等</span><br><span class="line">。且中日文標點的計算標準要看 Emacs 如何定義特殊標點符號如ヴァランタン・アルカン</span><br><span class="line">中間的點也被 Emacs 算為一個字而不是標點符號。"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">v-buffer-string</span></span><br><span class="line">          <span class="list">(<span class="keyword">progn</span></span><br><span class="line">            <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'org-mode</span>)</span> <span class="comment">; 去掉 org 文件的 OPTIONS（以 #+ 開頭）</span></span><br><span class="line">                <span class="list">(<span class="keyword">setq</span> v-buffer-string <span class="list">(<span class="keyword">replace-regexp-in-string</span> <span class="string">"^#\\+.+"</span> <span class="string">""</span></span><br><span class="line">                                                                <span class="list">(<span class="keyword">buffer-substring-no-properties</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> v-buffer-string <span class="list">(<span class="keyword">buffer-substring-no-properties</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">replace-regexp-in-string</span> <span class="list">(<span class="keyword">format</span> <span class="string">"^ *%s *.+"</span> comment-start)</span> <span class="string">""</span> v-buffer-string)</span>)</span>)</span></span><br><span class="line">                                        <span class="comment">; 把註解行刪掉（不把註解算進字數）。</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-char-and-punc</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-punc</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">english-word</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-char</span> <span class="number">0</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">with-temp-buffer</span></span><br><span class="line">      <span class="list">(<span class="keyword">insert</span> v-buffer-string)</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; 中文（含標點、片假名）</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-chinese-char-and-punc <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> chinese-char-and-punc <span class="list">(<span class="number">1</span>+ chinese-char-and-punc)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; 中文標點符號</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-chinese-punc <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> chinese-punc <span class="list">(<span class="number">1</span>+ chinese-punc)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; 英文字數（不含標點）</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-english-word <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> english-word <span class="list">(<span class="number">1</span>+ english-word)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> chinese-char <span class="list">(<span class="keyword">-</span> chinese-char-and-punc chinese-punc)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span></span><br><span class="line">     <span class="list">(<span class="keyword">format</span> <span class="string">" 中日文字數（不含標點）：%s</span><br><span class="line"> 中日文字數（包含標點）：%s</span><br><span class="line"> 英文字數（不含標點）：%s</span><br><span class="line">=======================</span><br><span class="line"> 中英文合計（不含標點）：%s"</span></span><br><span class="line">             chinese-char chinese-char-and-punc english-word</span><br><span class="line">             <span class="list">(<span class="keyword">+</span> chinese-char english-word)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0a0097b" class="outline-3"><h3 id="org0a0097b">Display Calendar numbers in calendar-mode</h3><div class="outline-text-3" id="text-org0a0097b"><p>Define a function to display week numbers in <code>calender-mode</code>. The snippetis from <a href="http://www.emacswiki.org/emacs/CalendarWeekNumbers" target="_blank" rel="noopener">EmacsWiki</a>.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> calendar-show-week <span class="list">(<span class="keyword">arg</span>)</span></span><br><span class="line">  <span class="string">"Displaying week number in calendar-mode."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"P"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">copy-face</span> font-lock-constant-face <span class="quoted">'calendar-iso-week-face</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">set-face-attribute</span></span><br><span class="line">   <span class="quoted">'calendar-iso-week-face</span> <span class="literal">nil</span> <span class="keyword">:height</span> <span class="number">0.7</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> calendar-intermonth-text</span><br><span class="line">        <span class="list">(<span class="keyword">and</span> arg</span><br><span class="line">             <span class="quoted">'(propertize</span><br><span class="line">               (format</span><br><span class="line">                <span class="string">"%2d"</span></span><br><span class="line">                (car (calendar-iso-from-absolute</span><br><span class="line">                      (calendar-absolute-from-gregorian</span><br><span class="line">                       (list month day year)))))</span><br><span class="line">               'font-lock-face 'calendar-iso-week-face)</span>)</span>)</span>)</span></span><br></pre></td></tr></table></figure></div><p>Evaluate the <code>calendar-show-week</code> function.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">calendar-show-week</span> <span class="literal">t</span>)</span></span><br></pre></td></tr></table></figure></div><p>Set Monday as the first day of the week, and set my location.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> calendar-week-start-day <span class="number">1</span></span><br><span class="line">      calendar-latitude <span class="number">39.92</span></span><br><span class="line">      calendar-longitude <span class="number">116.46</span></span><br><span class="line">      calendar-location-name <span class="string">"Beijing, China"</span>)</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org10427fb" class="outline-3"><h3 id="org10427fb">End of configuration</h3><div class="outline-text-3" id="text-org10427fb"><p>Oh YA!! We finish loading emacs configuration :)</p><p>However, since we use <code>req-package</code> for loading and installing packages, be sureto execute following line to send <code>req-package</code> on its merry way.</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package-finish</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org9c0ef92" class="outline-2"><h2 id="org9c0ef92">Reference</h2><div class="outline-text-2" id="text-org9c0ef92"><p>Following link is refrence for my emac config.</p><p><code>[1]</code> <a href="https://github.com/r0man/.emacs.d/blob/master/init.el.org" target="_blank" rel="noopener">https://github.com/r0man/.emacs.d/blob/master/init.el.org</a></p><p><code>[2]</code> <a href="https://github.com/bodil/emacs.d" target="_blank" rel="noopener">https://github.com/bodil/emacs.d</a></p><p><code>[3]</code> <a href="https://github.com/mgalgs/.emacs.d" target="_blank" rel="noopener">https://github.com/mgalgs/.emacs.d</a></p><p><code>[4]</code> <a href="https://raw.githubusercontent.com/sbisaacson/literate-emacs/master/README.org" target="_blank" rel="noopener">https://raw.githubusercontent.com/sbisaacson/literate-emacs/master/README.org</a></p><p><code>[5]</code> <a href="https://github.com/jhenahan/emacs.d/blob/master/emacs-init.org" target="_blank" rel="noopener">https://github.com/jhenahan/emacs.d/blob/master/emacs-init.org</a></p><p><code>[6]</code> <a href="https://ryuslash.org/dotfiles/emacs/init.html" target="_blank" rel="noopener">https://ryuslash.org/dotfiles/emacs/init.html</a></p><p><code>[7]</code> <a href="http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.org_.txt" target="_blank" rel="noopener">http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.org_.txt</a></p><p><code>[8]</code> <a href="https://github.com/howardabrams/dot-files" target="_blank" rel="noopener">https://github.com/howardabrams/dot-files</a></p><p><code>[9]</code> <a href="https://github.com/coldnew/coldnew-spacemacs" target="_blank" rel="noopener">https://github.com/coldnew/coldnew-spacemacs</a></p></div></div>Last Updated 2017-04-08 Sat 11:29 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org3011a00&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org3011a00&quot;&gt;Introduction: Emacs Configuration in an Org File&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org3011a00&quot;&gt;
&lt;p&gt;
I used spacemacs recently, org-mode is my favourite package of emacs, 
I use org-mode to GTD, write slide and documents, so I want to use org-mode to 
manager may own configuration of emacs beyond spacemacs.
&lt;/p&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Spaceacs" scheme="http://lengyueyang.github.io/tags/Spaceacs/"/>
    
      <category term="lengyueyang" scheme="http://lengyueyang.github.io/tags/lengyueyang/"/>
    
      <category term="Configuration" scheme="http://lengyueyang.github.io/tags/Configuration/"/>
    
  </entry>
  
  <entry>
    <title>房子，北京</title>
    <link href="http://lengyueyang.github.io/2017/03/15/%E6%88%BF%E5%AD%90%EF%BC%8C%E5%8C%97%E4%BA%AC/"/>
    <id>http://lengyueyang.github.io/2017/03/15/房子，北京/</id>
    <published>2017-03-15T00:00:00.000Z</published>
    <updated>2017-04-08T03:28:51.479Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org2c674ea" class="outline-2"><h2 id="org2c674ea">缘起</h2><div class="outline-text-2" id="text-org2c674ea"><p>今天早上看了一篇同学分享的文章--<a href="http://mp.weixin.qq.com/s?__biz=MjM5OTQ0MjM4MA==&amp;mid=2651896417&amp;idx=2&amp;sn=3f956b783256b99e925c1c062b50a773&amp;chksm=bcdf78c28ba8f1d416901eae3e4cea7230f176c975007d4af61c153303ecc75a498ce7711a31&amp;mpshare=1&amp;scene=1&amp;srcid=0313S3DzfdNKeRHFAUfjBRoZ#rd" target="_blank" rel="noopener">《清华硕士集体逃离北京！一枚中科院科研人员的自白： 我为什么选择离开》</a></p><p>又一次被现实刺痛，思绪满天飞，于是写下这篇博客</p><a id="more"></a></div></div><div id="outline-container-org0ab5da2" class="outline-2"><h2 id="org0ab5da2">男怕入错行</h2><div class="outline-text-2" id="text-org0ab5da2"><p>细细想来，在北京已经待了十年有余，八年的求学生涯加近两年的工作，占去了我人生黄金年龄的 1/3，对未来的规划越来越清晰，失去了很多东西，也收获了很多东西。</p><p>“男怕入错行”，四五年前，还不以为然，年少轻狂的我坚持认为，只要我想做，我想坚持，“行行出状元”，然而，现实给了我一个大大的火锅。</p><p>我博士是做基础研究的，上学第二三年，当时就想想一辈子就去做基础研究，感觉挺适合我的，可以让我静下心来，做自己感兴趣的事情。前年毕业时，我最终选择了去公司，一部分原因是在实验室的生活太苦闷，研究课题都是老板定的，自己的想法没有一个实现的，当然了，发的文章分也不高，好的科研院所比较难进(基本只招北京本地人了)，博后也不想去；另一个方面原因就是因为 money，科研赚的太少了，男人，还是要养家糊口的，现在，我的目标越来越清晰，以后就是医学数据科学家这个方向，不会有大的改动。</p><p>科研不像现在 IT 互联网方向的，动不动本科硕士毕业就二三十万，我们博士毕业两三年也到不了这个数。所以，我需要做出改变，不过，改变的难度也是比较大的，但是，不改变，未来会一直苦下去。</p><p>现在，才算真正理解了“男怕入错行”这句话。</p></div></div><div id="outline-container-orga4cc0f6" class="outline-2"><h2 id="orga4cc0f6">努力前行</h2><div class="outline-text-2" id="text-orga4cc0f6"><p>在北京生活，房子是一个绕不开的话题，像我这种家在农村比较贫穷的情况，很难买的起房，学区房，算了吧，能在北京周边买一个小房子已经谢天谢地了，不过，还好，我有爱人陪伴，不离不弃，这是我来北京最大的收获。</p><p>为了未来的生活，为了未来有一套我们的爱巢，我要努力前行。</p></div></div>Last Updated 2017-04-08 Sat 11:28 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org2c674ea&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org2c674ea&quot;&gt;缘起&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org2c674ea&quot;&gt;
&lt;p&gt;
今天早上看了一篇同学分享的文章--&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5OTQ0MjM4MA==&amp;amp;mid=2651896417&amp;amp;idx=2&amp;amp;sn=3f956b783256b99e925c1c062b50a773&amp;amp;chksm=bcdf78c28ba8f1d416901eae3e4cea7230f176c975007d4af61c153303ecc75a498ce7711a31&amp;amp;mpshare=1&amp;amp;scene=1&amp;amp;srcid=0313S3DzfdNKeRHFAUfjBRoZ#rd&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;《清华硕士集体逃离北京！一枚中科院科研人员的自白： 我为什么选择离开》&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;
又一次被现实刺痛，思绪满天飞，于是写下这篇博客
&lt;/p&gt;
    
    </summary>
    
      <category term="LIFE" scheme="http://lengyueyang.github.io/categories/LIFE/"/>
    
    
      <category term="House" scheme="http://lengyueyang.github.io/tags/House/"/>
    
      <category term="Life" scheme="http://lengyueyang.github.io/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Use Mu4e to manage email [用 mu4e 管理邮件]</title>
    <link href="http://lengyueyang.github.io/2017/02/26/Use%20Mu4e%20to%20manage%20email/"/>
    <id>http://lengyueyang.github.io/2017/02/26/Use Mu4e to manage email/</id>
    <published>2017-02-26T00:00:00.000Z</published>
    <updated>2017-04-08T03:28:37.966Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org0116e8c" class="outline-2"><h2 id="org0116e8c">概述</h2><div class="outline-text-2" id="text-org0116e8c"><p>用 offlineimap 收取邮件，用 mu4e 在 emacs 中管理邮件，本教程配置多账户。</p><a id="more"></a></div></div><div id="outline-container-orgca978a3" class="outline-2"><h2 id="orgca978a3">offlineimap 设置</h2><div class="outline-text-2" id="text-orgca978a3"></div><div id="outline-container-org499c448" class="outline-3"><h3 id="org499c448">安装 offlineimap</h3><div class="outline-text-3" id="text-org499c448"><p>本人用 archlinux，直接 <code>sudo pacman -S offlineimap</code> 即可</p></div></div><div id="outline-container-orgc371bc2" class="outline-3"><h3 id="orgc371bc2">配置 offlineimap</h3><div class="outline-text-3" id="text-orgc371bc2"><p>在 home 目录下建立 .offlineimaprc 文件，加入以下代码</p><div class="org-src-container"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- mode: python2 -*-</span></span><br><span class="line">[general]</span><br><span class="line"><span class="comment"># accounts = Gmail, Foxmail, Lengyue-163</span></span><br><span class="line">accounts = Gmail, Foxmail</span><br><span class="line">maxsyncaccounts = <span class="number">2</span></span><br><span class="line">pythonfile = ~/.offlineimap.py</span><br><span class="line"></span><br><span class="line">[Account Gmail]</span><br><span class="line">localrepository = Gmail-Local</span><br><span class="line">remoterepository = Gmail-Remote</span><br><span class="line"></span><br><span class="line">[Repository Gmail-Local]</span><br><span class="line">type = Maildir</span><br><span class="line">localfolders = ~/Documents/Mu4e/Gmail</span><br><span class="line"></span><br><span class="line">[Repository Gmail-Remote]</span><br><span class="line">type = Gmail</span><br><span class="line">auth_mechanisms = LOGIN</span><br><span class="line">remotehost = imap.gmail.com</span><br><span class="line">remoteuser = xxxxx@gmail.com</span><br><span class="line">remotepass = xxxxx</span><br><span class="line">ssl = true</span><br><span class="line">sslcacertfile = /etc/ssl/certs/ca-certificates.crt</span><br><span class="line">nametrans = <span class="keyword">lambda</span> foldername: foldername.decode(<span class="string">'imap4-utf-7'</span>).encode(<span class="string">'utf-8'</span>)</span><br><span class="line">folderfilter = <span class="keyword">lambda</span> folder: <span class="keyword">not</span> re.search(<span class="string">'(^Spam$|All)'</span>, folder)</span><br><span class="line">maxconnections = <span class="number">2</span></span><br><span class="line">realdelete = yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Account Foxmail]</span><br><span class="line">localrepository = Foxmail-Local</span><br><span class="line">remoterepository = Foxmail-Remote</span><br><span class="line"></span><br><span class="line">[Repository Foxmail-Local]</span><br><span class="line">type = Maildir</span><br><span class="line">localfolders = ~/Documents/Mu4e/Foxmail</span><br><span class="line"></span><br><span class="line">[Repository Foxmail-Remote]</span><br><span class="line">type = IMAP</span><br><span class="line">remotehost = imap.qq.com</span><br><span class="line">remoteuser = xxxxx@qq.com</span><br><span class="line">remotepass = xxxxx</span><br><span class="line">ssl = true</span><br><span class="line">sslcacertfile = /etc/ssl/certs/ca-certificates.crt</span><br><span class="line">nametrans = <span class="keyword">lambda</span> foldername: foldername.decode(<span class="string">'imap4-utf-7'</span>).encode(<span class="string">'utf-8'</span>)</span><br><span class="line">folderfilter = <span class="keyword">lambda</span> foldername: foldername <span class="keyword">in</span> [<span class="string">'INBOX'</span>,<span class="string">'Drafts'</span>, <span class="string">'Sent Messages'</span>, <span class="string">'Deleted Messages'</span>]</span><br><span class="line">maxconnections = <span class="number">2</span></span><br><span class="line">realdelete = no</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>设置 gmail 和 qq 两个账户，按照上面配置，邮箱和密码改成自己的(首先开通 gmail 和 qq 邮箱的 imap 功能，设置授权码，可参照后面参考资料)。其中，比较重要的有以下几项:</p><p><code>localfolders</code> 是下载邮件的位置</p><p><code>nametrans = lambda foldername: foldername.decode('imap4-utf-7').encode('utf-8')</code> 防止中文乱码</p><p><code>folderfilter = lambda foldername: foldername in ['INBOX','Drafts', 'Sent Messages', 'Deleted Messages']</code> 选择自己同步的文件夹</p><p><code>folderfilter = lambda folder: not re.search('(^Spam$|All)', folder)</code> 不选择 Spam 和有 All 字样的文件夹同步 2</p><p>同时，在 home 目录下家里 <code>.offlineimap.py</code> 文件，加入以下内容，防止乱码</p><div class="org-src-container"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"><span class="keyword">import</span> codecs</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">"utf-8"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modified_base64</span><span class="params">(s)</span>:</span></span><br><span class="line">    s = s.encode(<span class="string">'utf-16be'</span>)</span><br><span class="line">    <span class="keyword">return</span> binascii.b2a_base64(s).rstrip(<span class="string">'\n='</span>).replace(<span class="string">'/'</span>, <span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doB64</span><span class="params">(_in, r)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> _in:</span><br><span class="line">        r.append(<span class="string">'&amp;%s-'</span> % modified_base64(<span class="string">''</span>.join(_in)))</span><br><span class="line">        <span class="keyword">del</span> _in[:]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encoder</span><span class="params">(s)</span>:</span></span><br><span class="line">    r = []</span><br><span class="line">    _in = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        ordC = ord(c)</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0x20</span> &lt;= ordC &lt;= <span class="number">0x25</span> <span class="keyword">or</span> <span class="number">0x27</span> &lt;= ordC &lt;= <span class="number">0x7e</span>:</span><br><span class="line">            doB64(_in, r)</span><br><span class="line">            r.append(c)</span><br><span class="line">        <span class="keyword">elif</span> c == <span class="string">'&amp;'</span>:</span><br><span class="line">            doB64(_in, r)</span><br><span class="line">            r.append(<span class="string">'&amp;-'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            _in.append(c)</span><br><span class="line">    doB64(_in, r)</span><br><span class="line">    <span class="keyword">return</span> (str(<span class="string">''</span>.join(r)), len(s))</span><br><span class="line"></span><br><span class="line"><span class="comment"># decoding</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modified_unbase64</span><span class="params">(s)</span>:</span></span><br><span class="line">    b = binascii.a2b_base64(s.replace(<span class="string">','</span>, <span class="string">'/'</span>) + <span class="string">'==='</span>)</span><br><span class="line">    <span class="keyword">return</span> unicode(b, <span class="string">'utf-16be'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decoder</span><span class="params">(s)</span>:</span></span><br><span class="line">    r = []</span><br><span class="line">    decode = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> c == <span class="string">'&amp;'</span> <span class="keyword">and</span> <span class="keyword">not</span> decode:</span><br><span class="line">            decode.append(<span class="string">'&amp;'</span>)</span><br><span class="line">        <span class="keyword">elif</span> c == <span class="string">'-'</span> <span class="keyword">and</span> decode:</span><br><span class="line">            <span class="keyword">if</span> len(decode) == <span class="number">1</span>:</span><br><span class="line">                r.append(<span class="string">'&amp;'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r.append(modified_unbase64(<span class="string">''</span>.join(decode[<span class="number">1</span>:])))</span><br><span class="line">            decode = []</span><br><span class="line">        <span class="keyword">elif</span> decode:</span><br><span class="line">            decode.append(c)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            r.append(c)</span><br><span class="line">    <span class="keyword">if</span> decode:</span><br><span class="line">        r.append(modified_unbase64(<span class="string">''</span>.join(decode[<span class="number">1</span>:])))</span><br><span class="line">    bin_str = <span class="string">''</span>.join(r)</span><br><span class="line">    <span class="keyword">return</span> (bin_str, len(s))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamReader</span><span class="params">(codecs.StreamReader)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decode</span><span class="params">(self, s, errors=<span class="string">'strict'</span>)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> decoder(s)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamWriter</span><span class="params">(codecs.StreamWriter)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decode</span><span class="params">(self, s, errors=<span class="string">'strict'</span>)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> encoder(s)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">imap4_utf_7</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> name == <span class="string">'imap4-utf-7'</span>:</span><br><span class="line">        <span class="keyword">return</span> (encoder, decoder, StreamReader, StreamWriter)</span><br><span class="line">codecs.register(imap4_utf_7)</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org7d3eee0" class="outline-3"><h3 id="org7d3eee0">用 offlineimap 下载邮件</h3><div class="outline-text-3" id="text-org7d3eee0"><p>在终端用运行命令 <code>offlineimap</code> ，下载邮件</p></div></div></div><div id="outline-container-orgcf7b037" class="outline-2"><h2 id="orgcf7b037">Mu4e 设置</h2><div class="outline-text-2" id="text-orgcf7b037"><p>我用 spacemacs，先将 mu4e layer 加入 spaemacs 配置文件中，启用 mu4e layer。</p><p>安装 mu4e 是 mu 软件的一部分，因此安装 mu 软件(yaourt mu)。</p><p>安装完成之后，建立索引，在终端运行 <code>mu index --rebuild --maildir=~/Documents/Mu4e</code> ，文件夹的位置根据自己的更改。</p><p>在 spacemacs 的配置文件中加入以下代码，注意：根据自己的邮箱个数等更改相应位置即可。</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/mu4e"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-account-alist</span><br><span class="line">      <span class="quoted">'((<span class="string">"Gmail"</span></span><br><span class="line">         ;; Under each account, set the account-specific variables you want.</span><br><span class="line">         (mu4e-sent-messages-behavior delete)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Gmail/[Gmail].Sent Mail"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Gmail/[Gmail].Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"xxxxx@gmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"xxxxx"</span>))</span><br><span class="line">        (<span class="string">"Foxmail"</span></span><br><span class="line">         (mu4e-sent-messages-behavior sent)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Foxmail/Sent Messages"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Foxmail/Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"xxxxx@foxmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"xxxxx"</span>))</span><br><span class="line">        ;; (<span class="string">"Lengyue-163"</span></span><br><span class="line">        ;;  (mu4e-sent-messages-behavior sent)</span><br><span class="line">        ;;  (mu4e-sent-folder <span class="string">"/Lengyue-163/Sent Items"</span>)</span><br><span class="line">        ;;  (mu4e-drafts-folder <span class="string">"/Lengyue-163/Drafts"</span>)</span><br><span class="line">        ;;  (user-mail-address <span class="string">"zanghuahong@163.com"</span>)</span><br><span class="line">        ;;  (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">       )</span></span><br><span class="line">)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">mu4e/mail-account-reset</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Set up some common mu4e variables</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir <span class="string">"~/Documents/Mu4e"</span></span><br><span class="line">      mu4e-trash-folder <span class="string">"/Gmail/Trash"</span></span><br><span class="line">      mu4e-refile-folder <span class="string">"/Gmail/Archive"</span></span><br><span class="line">      <span class="comment">;; mu4e-get-mail-command "mbsync -a"</span></span><br><span class="line">      mu4e-update-interval <span class="literal">nil</span></span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">nil</span></span><br><span class="line">      mu4e-view-show-images <span class="literal">t</span></span><br><span class="line">      mu4e-view-show-addresses <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Mail directory shortcuts</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir-shortcuts</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (<span class="string">"/Foxmail/INBOX"</span> . ?f)</span><br><span class="line">        (<span class="string">"/Foxmail/Drafts"</span> . ?d)</span><br><span class="line">        (<span class="string">"/Foxmail/Sent Messages"</span> . ?s)</span><br><span class="line">        (<span class="string">"/Gmail/INBOX"</span> . ?g)</span><br><span class="line">        ;; (<span class="string">"/Gmail/[Gmail].All Mail"</span> . ?a)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Drafts"</span> . ?r)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Sent Mail"</span> . ?m)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Trash"</span> . ?<span class="literal">t</span>)</span><br><span class="line">        ;; (<span class="string">"/Lengyue-163/INBOX"</span> . ?i)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Bookmarks</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-bookmarks</span><br><span class="line">      <span class="quoted">`((<span class="string">"flag:unread AND NOT flag:trashed"</span> <span class="string">"Unread messages"</span> ?u)</span><br><span class="line">        (<span class="string">"date:today..now"</span> <span class="string">"Today's messages"</span> ?<span class="literal">t</span>)</span><br><span class="line">        (<span class="string">"date:7d..now"</span> <span class="string">"Last 7 days"</span> ?w)</span><br><span class="line">        (<span class="string">"mime:image/*"</span> <span class="string">"Messages with images"</span> ?p)</span><br><span class="line">        (,(mapconcat 'identity</span><br><span class="line">                     (mapcar</span><br><span class="line">                      (lambda (maildir)</span><br><span class="line">                        (concat <span class="string">"maildir:"</span> (car maildir)))</span><br><span class="line">                      mu4e-maildir-shortcuts) <span class="string">" OR "</span>)</span><br><span class="line">         <span class="string">"All inboxes"</span> ?i))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-enable-notifications <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">with-eval-after-load</span> <span class="quoted">'mu4e-alert</span></span><br><span class="line">  <span class="comment">;; Enable Desktop notifications</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifications)) ; For linux</span></span><br><span class="line">  <span class="list">(<span class="keyword">mu4e-alert-set-default-style</span> <span class="quoted">'libnotify</span>)</span>)</span>  <span class="comment">; Alternative for linux</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifier))   ; For Mac OSX (through the</span></span><br><span class="line">                                        <span class="comment">; terminal notifier app)</span></span><br><span class="line"><span class="comment">;; (mu4e-alert-set-default-style 'growl))      ; Alternative for Mac OSX</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-enable-mode-line <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-get-mail-command <span class="string">"offlineimap"</span>)</span></span><br><span class="line"><span class="comment">;; Fetch mail in 60 sec interval</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-update-interval <span class="number">60</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e-contrib</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-html2text-command <span class="quoted">'mu4e-shr2text</span>)</span></span><br><span class="line"><span class="comment">;; try to emulate some of the eww key-bindings</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'mu4e-view-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;tab&gt;"</span>)</span> <span class="quoted">'shr-next-link</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&lt;backtab&gt;"</span>)</span> <span class="quoted">'shr-previous-link</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; something about ourselves</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'smtpmail</span>)</span>  </span><br><span class="line"><span class="list">(<span class="keyword">setq</span> user-mail-address <span class="string">"xxxxx@foxmail.com"</span>  </span><br><span class="line">      user-full-name <span class="string">"xxxxx"</span></span><br><span class="line">      smtpmail-stream-type <span class="quoted">'starttls</span></span><br><span class="line">      starttls-use-gnutls <span class="literal">t</span></span><br><span class="line">      mu4e-compose-signature  </span><br><span class="line">      <span class="list">(<span class="keyword">concat</span>  </span><br><span class="line">       <span class="string">"xxxx\n"</span>  </span><br><span class="line">       <span class="string">"Blog: http://lengyueyang.github.io\n"</span>  </span><br><span class="line">       <span class="string">"\n"</span>)</span>  </span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">t</span>  </span><br><span class="line">      )</span>  </span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> send-mail-function            <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      message-send-mail-function    <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      smtpmail-auth-credentials     <span class="list">(<span class="keyword">expand-file-name</span> <span class="string">"~/.authinfo"</span>)</span></span><br><span class="line">      smtpmail-stream-type          <span class="quoted">'tls</span></span><br><span class="line">      smtpmail-smtp-server          <span class="string">"smtp.qq.com"</span></span><br><span class="line">      smtpmail-smtp-service         <span class="number">465</span></span><br><span class="line">      smtpmail-smtp-user <span class="string">"xxxxx@qq.com"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-kill-buffer-on-exit <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; save attachment to my desktop (this can also be a function)  </span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-attachment-dir <span class="string">"/home/lengyue/Documents/Mu4e/Attachment"</span>)</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div><div id="outline-container-org000ad10" class="outline-3"><h3 id="org000ad10">几点说明：</h3><div class="outline-text-3" id="text-org000ad10"><p>mu 更新后，发现系统不能自己找到 mu4e 文件夹，因此手动链接<code>(add-to-load-path "~/.spacemacs.d/package/mu4e")</code></p><p>contact 内容是自己的邮件签名</p></div></div></div><div id="outline-container-orgafbe062" class="outline-2"><h2 id="orgafbe062">Mu4e 简单使用小结</h2><div class="outline-text-2" id="text-orgafbe062"></div><div id="outline-container-org9476b4a" class="outline-3"><h3 id="org9476b4a">Keybindings to remember of Mu4e</h3><div class="outline-text-3" id="text-org9476b4a"></div><div id="outline-container-org297c0b1" class="outline-4"><h4 id="org297c0b1"><code>offlineimap</code> and <code>mu index --maildir=~/Documents/Mu4e</code></h4></div><div id="outline-container-org1966f06" class="outline-4"><h4 id="org1966f06">Main view-Default bindings</h4><div class="outline-text-4" id="text-org1966f06"><p>R: Reply      s: search            .: raw view (toggle)</p><p>F: Forward    j: jump-to-maildir   q: quitC: Compose    b: bookmark-search</p><p>E: Edit       B: edit bookmark-search</p></div></div><div id="outline-container-org1238ef1" class="outline-4"><h4 id="org1238ef1">Headers menu in the emacs menu bar</h4><div class="outline-text-4" id="text-org1238ef1"><p>key          description</p><p>n,p          view the next, previous message</p><p>],[          move to the next, previous unread message</p><p>y            select the message view (if it's visible)</p><p>RET          open the message at point in the message view</p><p>searching</p><p>s            search</p><p>S            edit last query</p><p>/            narrow the search</p><p>b            search bookmark</p><p>B            edit bookmark before search</p><p>j            jump to maildir</p><p>M-left,\     previous query</p><p>M-right      next query</p><p>O            change sort order</p><p>P            toggle threading</p><p>Q            toggle full-search</p><p>V            toggle skip-duplicates</p><p>W            toggle include-related</p><p>marking</p><p>d            mark for moving to the trash folder</p><p>=            mark for removing trash flag ('untrash')</p><p>DEL,D        mark for complete deletion</p><p>m            mark for moving to another maildir folder</p><p>r            mark for refiling</p><p>+,-          mark for flagging/unflagging</p><p>?,!          mark message as unread, read</p><p>u            unmark message at point</p><p>U            unmark <b>all</b> messages</p><p>%            mark based on a regular expression</p><p>T,t          mark whole thread, subthread</p><p>&lt;insert&gt;,*   mark for 'something' (decide later)</p><p>x            execute actions for the marked messages</p><p>composition</p><p>R,F,C        reply/forward/compose</p><p>E            edit (only allowed for draft messages)</p><p>misc</p><p>;            switch focus</p><p>a            execute some custom action on a header</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left"></colgroup><tbody><tr><td class="org-left">pipe message through shell command</td></tr></tbody></table><p>C-+,C&#x2013;      increase / decrease the number of headers shown</p><p>H            get help</p><p>C-S-u        update mail &amp; reindex</p><p>q            leave the headers buffer</p></div></div><div id="outline-container-orgf9fbc88" class="outline-4"><h4 id="orgf9fbc88">Message View</h4><div class="outline-text-4" id="text-orgf9fbc88"><p>key          description</p><p>n,p          view the next, previous message</p><p>],[          move to the next, previous unread message</p><p>y            select the headers view (if it's visible)</p><p>RET          scroll down</p><p>M-RET        open URL at point / attachment at point</p><p>SPC          scroll down, if at end, move to next message</p><p>S-SPC        scroll up</p><p>searching</p><p>s            search</p><p>e            edit last query</p><p>/            narrow the search</p><p>b            search bookmark</p><p>B            edit bookmark before search</p><p>j            jump to maildir</p><p>M-left       previous query</p><p>M-right      next query</p><p>marking</p><p>d            mark for moving to the trash folder</p><p>=            mark for removing trash flag ('untrash')</p><p>DEL,D        mark for complete deletion</p><p>m            mark for moving to another maildir folder</p><p>r            mark for refiling</p><p>+,-          mark for flagging/unflagging</p><p>u            unmark message at point</p><p>U            unmark <b>all</b> messages</p><p>%            mark based on a regular expression</p><p>T,t          mark whole thread, subthread</p><p>&lt;insert&gt;,*   mark for 'something' (decide later)</p><p>x            execute actions for the marked messages</p><p>composition</p><p>R,F,C        reply/forward/compose</p><p>E            edit (only allowed for draft messages)</p><p>actions</p><p>g            go to (visit) numbered URL (using `browse-url')</p><p>(or: &lt;mouse-1&gt; or M-RET with point on url)</p><p>C-u g visits multiple URLs</p><p>f            fetch (download )the numbered URL.</p><p>C-u f fetches multiple URLs</p><p>k            save the numbered URL in the kill-ring.</p><p>C-u k saves multiple URLs</p><p>e            extract (save) attachment (asks for number)</p><p>(or: &lt;mouse-2&gt; or S-RET with point on attachment)</p><p>C-u e extracts multiple attachments</p><p>o            open attachment (asks for number)</p><p>(or: &lt;mouse-1&gt; or M-RET with point on attachment)</p><p>a            execute some custom action on the message</p><p>A            execute some custom action on an attachment</p><p>misc</p><p>;            switch focus</p><p>c            copy address at point (with C-u copy long version)</p><p>h            toggle between html/text (if available)</p><p>w            toggle line wrapping</p><p>v            show details about the cryptographic signature</p><p>.            show the raw message view. 'q' takes you back.</p><p>C-+,C&#x2013;      increase / decrease the number of headers shown</p><p>H            get help</p><p>C-S-u        update mail &amp; reindex</p><p>q            leave the message view</p></div></div><div id="outline-container-orgc031c3b" class="outline-4"><h4 id="orgc031c3b">Attachment actions</h4><div class="outline-text-4" id="text-orgc031c3b"><p>Similarly, there is mu4e-view-attachment-action (A) for actions on attachments, which you can specify with mu4e-view-attachment-actions.</p><p>mu4e predefines a number of attachment-actions:</p><p>open-with (w): open the attachment with some arbitrary program. For example, suppose you have received a message with a picture attachment; then, A w 1 RET gimp RET opens that attachment in The Gimppipe (|: process the attachment with some Unix shell-pipe and see the results. Suppose you receive a patch file, and would like to get an overview of the changes, using the diffstat program. You can use something like: A | 1 RET diffstat -b RET.emacs (e): open the attachment in your running emacs. For example, if you receive some text file you’d like to open in emacs: A e 1 RET.</p></div></div><div id="outline-container-org7ef8451" class="outline-4"><h4 id="org7ef8451">Editor view</h4><div class="outline-text-4" id="text-org7ef8451"><p>key          description</p><p>C-c C-c      send message</p><p>C-c C-d      save to drafts and leave</p><p>C-c C-k      kill the message buffer (the message remains in the draft folder)</p><p>C-c C-a      attach a file (pro-tip: drag &amp; drop works as well)</p><p>(mu4e-specific)</p><p>C-S-u        update mail &amp; reindex</p></div></div><div id="outline-container-org71fcfc0" class="outline-4"><h4 id="org71fcfc0">What to mark for</h4><div class="outline-text-4" id="text-org71fcfc0"><p>mu4e supports a number of marks:</p><p>mark for/as   keybinding  | description</p><p>'something'  *, &lt;insert&gt; | mark now, decide later</p><p>delete        D, &lt;delete&gt; | delete</p><p>flag          +           | mark as 'flagged' ('starred')</p><p>move          m           | move to some maildir</p><p>read          !           | mark as read</p><p>refile        r           | mark for refiling</p><p>trash         d           | move to the trash folder</p><p>untrash       =           | remove 'trash' flag</p><p>unflag        -           | remove 'flagged' mark</p><p>unmark        u           | remove mark at point</p><p>unmark all    U           | remove all marks</p><p>unread        ?           | marks as unread</p><p>action        a           | apply some action</p></div></div></div><div id="outline-container-orgad3b653" class="outline-3"><h3 id="orgad3b653">其他</h3><div class="outline-text-3" id="text-orgad3b653"><p>若参考配置有问题，请移步官网或后面参考资料，或邮件联系我，随时欢迎 😍。</p></div></div></div><div id="outline-container-orgc22cb7e" class="outline-2"><h2 id="orgc22cb7e">参考资料</h2><div class="outline-text-2" id="text-orgc22cb7e"><ul class="org-ul"><li><a href="https://github.com/larstvei/dot-emacs" target="_blank" rel="noopener">larstvei/dot-emacs: My Emacs configurations written in Org mode</a></li><li><a href="http://wenshanren.org/?p=111" target="_blank" rel="noopener">mu4e: an E-mail Client for Emacs | 肉山博客 (Wenshan's Blog)</a></li><li><a href="http://coldnew.github.io/blog/2016/01-02_mu4e/" target="_blank" rel="noopener">在 emacs 下使用 mu4e 收發郵件 | coldnew's blog</a></li><li><a href="http://blog.csdn.net/csfreebird/article/details/52973188" target="_blank" rel="noopener">spacemacs email layer - 博客频道 - CSDN.NET</a></li><li><a href="https://github.com/howardabrams/dot-files/blob/master/emacs-mail.org" target="_blank" rel="noopener">dot-files/emacs-mail.org at master · howardabrams/dot-files</a></li><li><a href="https://guso.ml/search?q=offlinemap+%E5%A4%9A%E5%B8%90%E6%88%B7&amp;prmd=ivns&amp;ei=pVc8WPPzNsv0vgTT2pn4Cw&amp;start=10&amp;sa=N" target="_blank" rel="noopener">offlinemap 多帐户 - Google 搜索</a></li><li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/mu4e" target="_blank" rel="noopener">spacemacs/layers/+email/mu4e at master · syl20bnr/spacemacs</a></li><li><a href="http://www.djcbsoftware.nl/code/mu/mu4e/index.html" target="_blank" rel="noopener">Mu4e 0.9.16 user manual: Top</a></li><li><a href="https://github.com/lujun9972/emacs-document/blob/master/org-mode/%E7%94%A8org-mime%E5%9C%A8org-mode%E4%B8%AD%E5%8F%91%E9%80%81html%E9%82%AE%E4%BB%B6.org" target="_blank" rel="noopener">emacs-document/用 org-mime 在 org-mode 中发送 html 邮件.org at master · lujun9972/emacs-document</a></li><li><a href="https://emacs.lujianmei.com/03-For-an-editor/init-mu4e.html" target="_blank" rel="noopener">Mu4e 邮件管理 · 谁说 Emacs 不好玩？</a></li><li><a href="http://www.bagualu.net/wordpress/archives/6555" target="_blank" rel="noopener">emacs 中的 email 客户端 mu4e | 猎数博客</a></li><li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/gnus#org-mime-in-org-layer" target="_blank" rel="noopener">spacemacs/layers/+email/gnus at master · syl20bnr/spacemacs</a></li></ul></div></div>Last Updated 2017-04-08 Sat 11:28 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org0116e8c&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org0116e8c&quot;&gt;概述&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org0116e8c&quot;&gt;
&lt;p&gt;
用 offlineimap 收取邮件，用 mu4e 在 emacs 中管理邮件，本教程配置多账户。
&lt;/p&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Mu4e" scheme="http://lengyueyang.github.io/tags/Mu4e/"/>
    
      <category term="Offlineimap" scheme="http://lengyueyang.github.io/tags/Offlineimap/"/>
    
  </entry>
  
  <entry>
    <title>Statistics in research article: Part 1, Univariate analysis [科研文章中的统计：第一部分，单因素分析]</title>
    <link href="http://lengyueyang.github.io/2016/04/23/Statistics%20in%20research%20article:%20Part%201,%20Univariate%20analysis/"/>
    <id>http://lengyueyang.github.io/2016/04/23/Statistics in research article: Part 1, Univariate analysis/</id>
    <published>2016-04-23T00:00:00.000Z</published>
    <updated>2017-04-08T03:28:08.798Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org59291bb" class="outline-2"><h2 id="org59291bb">写作原因</h2><div class="outline-text-2" id="text-org59291bb"><ul class="org-ul"><li>最近学习 R 语言，这篇博客是学习 R 语言一个简单成果展示，这是第一部分，单因素分析</li><li>科研论文中的统计方法很重要，关系到结果的可信度，然而中国发表的很多文章，统计过关的不多</li><li>本文以 R 语言为切入点，以我自己文章中的数据为原型，简单阐述单因素分析的方法原理及过程</li><li>有关 R 语言介绍及安装方法，请移步 R 语言官方网<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>站</li></ul><a id="more"></a></div></div><div id="outline-container-org8d9e728" class="outline-2"><h2 id="org8d9e728">R 分析基本流程</h2><div class="outline-text-2" id="text-org8d9e728"></div><div id="outline-container-orga99f76d" class="outline-3"><h3 id="orga99f76d">数据导入，在 R 语言中导入数据框用 read.table，再显示数据</h3><div class="outline-text-3" id="text-orga99f76d"><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F2TTC &lt;- read.table(<span class="string">"file/F2TTC.csv"</span>, header=<span class="literal">TRUE</span>, sep=<span class="string">","</span>, na.strings=<span class="string">"NA"</span>, dec=<span class="string">"."</span>, strip.white=<span class="literal">TRUE</span>, check.names = <span class="literal">FALSE</span>)</span><br><span class="line">F2TTC</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;   Sham THP 40  + Sham     IR THP 10  + IR THP 20  + IR THP 40  + IR&#10;1     0              0 52.860       44.503       39.304       31.750&#10;2     0              0 46.746       26.012       26.299       33.871&#10;3     0              0 54.279       36.196       35.175       32.801&#10;4     0              0 46.767       43.956       38.761       34.568&#10;5     0              0 47.651       42.660       38.844       32.157&#10;6     0              0 55.392       36.196       41.210       34.302&#10;7     0              0 51.055       43.956       19.734       23.853&#10;8    NA             NA 45.789       42.660       23.413       16.602&#10;9    NA             NA 28.584           NA           NA       18.508&#10;10   NA             NA 36.514           NA           NA       13.746&#10;11   NA             NA 38.700           NA           NA       15.606&#10;12   NA             NA 47.441           NA           NA        0.000&#10;13   NA             NA 40.071           NA           NA        0.000</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org28ffff3" class="outline-3"><h3 id="org28ffff3">检测数据是否有离群点及数据正态性判断</h3><div class="outline-text-3" id="text-org28ffff3"><ul class="org-ul"><li>用 reshape2 变换数据</li></ul><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(reshape2)</span><br><span class="line">F2TTCR &lt;- melt(F2TTC)</span><br><span class="line">names(F2TTCR)[<span class="number">1</span>:<span class="number">2</span>] &lt;- c(<span class="string">"group"</span>, <span class="string">"value"</span>)</span><br><span class="line">F2TTCR</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;            group  value&#10;1            Sham  0.000&#10;2            Sham  0.000&#10;3            Sham  0.000&#10;4            Sham  0.000&#10;5            Sham  0.000&#10;6            Sham  0.000&#10;7            Sham  0.000&#10;8            Sham     NA&#10;9            Sham     NA&#10;10           Sham     NA&#10;11           Sham     NA&#10;12           Sham     NA&#10;13           Sham     NA&#10;14 THP 40  + Sham  0.000&#10;15 THP 40  + Sham  0.000&#10;16 THP 40  + Sham  0.000&#10;17 THP 40  + Sham  0.000&#10;18 THP 40  + Sham  0.000&#10;19 THP 40  + Sham  0.000&#10;20 THP 40  + Sham  0.000&#10;21 THP 40  + Sham     NA&#10;22 THP 40  + Sham     NA&#10;23 THP 40  + Sham     NA&#10;24 THP 40  + Sham     NA&#10;25 THP 40  + Sham     NA&#10;26 THP 40  + Sham     NA&#10;27             IR 52.860&#10;28             IR 46.746&#10;29             IR 54.279&#10;30             IR 46.767&#10;31             IR 47.651&#10;32             IR 55.392&#10;33             IR 51.055&#10;34             IR 45.789&#10;35             IR 28.584&#10;36             IR 36.514&#10;37             IR 38.700&#10;38             IR 47.441&#10;39             IR 40.071&#10;40   THP 10  + IR 44.503&#10;41   THP 10  + IR 26.012&#10;42   THP 10  + IR 36.196&#10;43   THP 10  + IR 43.956&#10;44   THP 10  + IR 42.660&#10;45   THP 10  + IR 36.196&#10;46   THP 10  + IR 43.956&#10;47   THP 10  + IR 42.660&#10;48   THP 10  + IR     NA&#10;49   THP 10  + IR     NA&#10;50   THP 10  + IR     NA&#10;51   THP 10  + IR     NA&#10;52   THP 10  + IR     NA&#10;53   THP 20  + IR 39.304&#10;54   THP 20  + IR 26.299&#10;55   THP 20  + IR 35.175&#10;56   THP 20  + IR 38.761&#10;57   THP 20  + IR 38.844&#10;58   THP 20  + IR 41.210&#10;59   THP 20  + IR 19.734&#10;60   THP 20  + IR 23.413&#10;61   THP 20  + IR     NA&#10;62   THP 20  + IR     NA&#10;63   THP 20  + IR     NA&#10;64   THP 20  + IR     NA&#10;65   THP 20  + IR     NA&#10;66   THP 40  + IR 31.750&#10;67   THP 40  + IR 33.871&#10;68   THP 40  + IR 32.801&#10;69   THP 40  + IR 34.568&#10;70   THP 40  + IR 32.157&#10;71   THP 40  + IR 34.302&#10;72   THP 40  + IR 23.853&#10;73   THP 40  + IR 16.602&#10;74   THP 40  + IR 18.508&#10;75   THP 40  + IR 13.746&#10;76   THP 40  + IR 15.606&#10;77   THP 40  + IR  0.000&#10;78   THP 40  + IR  0.000</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>检测数据是否有离群点，用 car 包中的 outlierTest 检测，下面数据 P &gt; 0.05，说明有离群点</li></ul><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(car)</span><br><span class="line">F2TTCout &lt;- outlierTest(lm(value ~ group, data = F2TTCR))</span><br><span class="line">F2TTCout</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;No Studentized residuals with Bonferonni p &#60; 0.05&#10;Largest |rstudent|:&#10;    rstudent unadjusted p-value Bonferonni p&#10;77 -3.020835          0.0039982       0.2239</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>用 Q-Q 图检验正态性假设，数据是非正态的</li></ul><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tiff(filename = <span class="string">"qqpF2T.tif"</span>,width = <span class="number">15</span>,height = <span class="number">18</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">600</span>)</span><br><span class="line">qqPlot(lm(value ~ group, data=F2TTCR), simulate=<span class="literal">TRUE</span>, main=<span class="string">"Q-Q Plot"</span>, labels=<span class="literal">TRUE</span>)</span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure></div><div class="figure"><p><img src="http://7xrrxa.com1.z0.glb.clouddn.com/blogqqpF2T.png" alt="blogqqpF2T.png"></p><p><span class="figure-number">Figure 1: </span>Q-Q 图</p></div></div></div><div id="outline-container-org7922167" class="outline-3"><h3 id="org7922167">接下来应该进行方差齐性检验，常用方差齐性检验有 leveneTest 和 bartlett.test 两种</h3><div class="outline-text-3" id="text-org7922167"><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bartlett.test(value ~ group, data = F2TTCR)</span><br><span class="line">leveneTest(F2TTCR$value, F2TTCR$group)</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;        Bartlett test of homogeneity of variances&#10;data:  value by group&#10;Bartlett&#39;s K-squared = Inf, df = 5, p-value &#60; 2.2e-16&#10;&#10;Levene&#39;s Test for Homogeneity of Variance (center = median)&#10;      Df F value    Pr(&#62;F)&#10;group  5  5.5917 0.0003619&#10;      50</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8bc9239" class="outline-3"><h3 id="org8bc9239">由于我上面数据非正态，所以用非参数检验方法检验各组差异，分两部分，一是各组之间的差异，用 kruskal.test，二是两两比较，用 posthoc.kruskal.nemenyi.test，由下面结果知道，IR 组和 Sham 组相比，有统计学意义(P &lt; 0.01)，用“**”表示差异，THP 10 + IR 组与 Sham 组，THP 40 + IR 与 IR 组相比，有统计学意义(P &lt; 0.05)，用“*”表示差异</h3><div class="outline-text-3" id="text-org8bc9239"><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kruskal.test(value ~ group, data = F2TTCR)</span><br><span class="line"><span class="keyword">library</span>(PMCMR)</span><br><span class="line">F2TTCSEM &lt;- posthoc.kruskal.nemenyi.test(value ~ group, data=F2TTCR, dist=<span class="string">"Chisquare"</span>)</span><br><span class="line">F2TTCSEM</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;Kruskal-Wallis rank sum test&#10;&#10;data:  value by group&#10;Kruskal-Wallis chi-squared = 44.519, df = 5, p-value = 1.817e-08&#10;&#10;Pairwise comparisons using Nemenyi-test with Chi-squared        &#10;                       approximation for independent samples &#10;data:  value by group &#10;&#10;               Sham   THP 40  + Sham IR     THP 10  + IR THP 20  + IR&#10;THP 40  + Sham 1.0000 -              -      -            -           &#10;IR             0.0001 0.0001         -      -            -           &#10;THP 10  + IR   0.0154 0.0154         0.9673 -            -           &#10;THP 20  + IR   0.1416 0.1416         0.5666 0.9764       -           &#10;THP 40  + IR   0.6422 0.6422         0.0109 0.3315       0.8559      &#10;P value adjustment method: none</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org49390dd" class="outline-3"><h3 id="org49390dd">做图</h3><div class="outline-text-3" id="text-org49390dd"><ul class="org-ul"><li>数据处理，为做图做准备，用 dplyr 包进行数据整合</li></ul><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(plotrix)</span><br><span class="line"><span class="keyword">library</span>(dplyr)</span><br><span class="line">F2T &lt;- summarise(group_by(F2TTCR, group), mean=mean(value, na.rm = <span class="literal">TRUE</span>), sem=std.error(value, na.rm=<span class="literal">TRUE</span>))</span><br><span class="line">F2T &lt;- mutate(F2T, sign1=c(<span class="literal">NA</span>,<span class="literal">NA</span>,<span class="string">"**"</span>,<span class="string">"*"</span>,<span class="literal">NA</span>,<span class="literal">NA</span>), sign2=c(<span class="literal">NA</span>,<span class="literal">NA</span>,<span class="literal">NA</span>,<span class="literal">NA</span>,<span class="literal">NA</span>,<span class="string">"*"</span>))</span><br><span class="line">F2T</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+RESULTS:&#10;Source: local data frame [6 x 5]&#10;&#10;           group     mean      sem sign1 sign2&#10;          (fctr)    (dbl)    (dbl) (chr) (chr)&#10;1           Sham  0.00000 0.000000    NA    NA&#10;2 THP 40  + Sham  0.00000 0.000000    NA    NA&#10;3             IR 45.52685 2.139659    **    NA&#10;4   THP 10  + IR 39.51738 2.269635     *    NA&#10;5   THP 20  + IR 32.84250 2.963525    NA    NA&#10;6   THP 40  + IR 22.13569 3.477622    NA     *</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>做图</li></ul><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(ggplot2)</span><br><span class="line"><span class="keyword">library</span>(grid)</span><br><span class="line">levels(F2T$group) &lt;- gsub(<span class="string">"  "</span>, <span class="string">"\n"</span>, levels(F2T$group))</span><br><span class="line">tiff(filename = <span class="string">"F2TTC.tif"</span>,width = <span class="number">16</span>,height = <span class="number">10</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">1200</span>)</span><br><span class="line">ggplot(data=F2T,aes(x=group,y=mean,fill=group, group=<span class="number">1</span>)) +</span><br><span class="line">  geom_errorbar(aes(ymin=mean,ymax=mean+sem, width = <span class="number">0.2</span>),size=<span class="number">0.8</span>) +</span><br><span class="line">  geom_bar(position=<span class="string">"stack"</span>,stat = <span class="string">"identity"</span>,width=<span class="number">0.6</span>,size=<span class="number">0.8</span>, colour=<span class="string">"black"</span>) +</span><br><span class="line">  scale_fill_manual(values=c(<span class="string">"grey100"</span>, <span class="string">"grey75"</span>,<span class="string">"grey0"</span>, <span class="string">"grey90"</span>,<span class="string">"grey50"</span>, <span class="string">"grey30"</span>)) +</span><br><span class="line">  theme_classic(base_family=<span class="string">"Times New Roman"</span>) + scale_x_discrete(<span class="string">""</span>) +</span><br><span class="line">  scale_y_continuous(<span class="string">"Infarct Size (%)"</span>, expand=c(<span class="number">0</span>,<span class="number">0</span>),limits = c(<span class="number">0</span>, <span class="number">70.2</span>), breaks=seq(<span class="number">0</span>,<span class="number">70</span>, by=<span class="number">10</span>)) +</span><br><span class="line">  theme(axis.text.x = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>), axis.text.y = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>),axis.title.y = element_text(family=<span class="string">"Times New Roman"</span>, face=<span class="string">"bold"</span>, size=<span class="number">15</span>, margin=margin(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>)),axis.line = element_line(size = <span class="number">0.8</span>),axis.ticks = element_line(size = <span class="number">0.8</span>),axis.ticks.length=unit(<span class="number">0.2</span>,<span class="string">"cm"</span>), plot.margin=unit(c(<span class="number">5</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),<span class="string">"mm"</span>), legend.position=<span class="string">"none"</span>) +</span><br><span class="line">  geom_path(x=c(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>),y=c(<span class="number">50</span>,<span class="number">52</span>,<span class="number">52</span>,<span class="number">52</span>,<span class="number">52</span>,<span class="number">50</span>),size = <span class="number">0.6</span>) +</span><br><span class="line">  geom_path(x=c(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>),y=c(<span class="number">54</span>,<span class="number">56</span>,<span class="number">56</span>,<span class="number">56</span>,<span class="number">56</span>,<span class="number">54</span>),size = <span class="number">0.6</span>) +</span><br><span class="line">  geom_path(x=c(<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>),y=c(<span class="number">60</span>,<span class="number">62</span>,<span class="number">62</span>,<span class="number">62</span>,<span class="number">62</span>,<span class="number">60</span>),size = <span class="number">0.6</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x = <span class="number">2</span>, y = <span class="number">53</span>, label = <span class="string">"**"</span>,size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x = <span class="number">2.5</span>, y=<span class="number">57</span>, label = <span class="string">"*"</span>,size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x = <span class="number">4.5</span>, y = <span class="number">63</span>, label = <span class="string">"*"</span>,size=<span class="number">5</span>)</span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure></div><div class="figure"><p><img src="http://7xrrxa.com1.z0.glb.clouddn.com/blogF2TTC.png" alt="blogF2TTC.png"></p><p><span class="figure-number">Figure 2: </span>TTC 统计图</p></div></div></div></div><div id="outline-container-org2ad47c9" class="outline-2"><h2 id="org2ad47c9">另外两个例子</h2><div class="outline-text-2" id="text-org2ad47c9"></div><div id="outline-container-orgb4e039b" class="outline-3"><h3 id="orgb4e039b">非参数检验，多组作图</h3><div class="outline-text-3" id="text-orgb4e039b"><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">F2N3 &lt;- read.table(<span class="string">"F2N3.csv"</span>, header=<span class="literal">TRUE</span>, sep=<span class="string">","</span>, na.strings=<span class="string">"NA"</span>, dec=<span class="string">"."</span>, strip.white=<span class="literal">TRUE</span>, check.names = <span class="literal">FALSE</span>)</span><br><span class="line">F2N24 &lt;- read.table(<span class="string">"F2N24.csv"</span>, header=<span class="literal">TRUE</span>, sep=<span class="string">","</span>, na.strings=<span class="string">"NA"</span>, dec=<span class="string">"."</span>, strip.white=<span class="literal">TRUE</span>, check.names = <span class="literal">FALSE</span>)</span><br><span class="line">F2N3R &lt;- melt(F2N3)</span><br><span class="line">names(F2N3R)[<span class="number">1</span>:<span class="number">2</span>] &lt;- c(<span class="string">"group"</span>, <span class="string">"value"</span>)</span><br><span class="line">F2N24R &lt;- melt(F2N24)</span><br><span class="line">names(F2N24R)[<span class="number">1</span>:<span class="number">2</span>] &lt;- c(<span class="string">"group"</span>, <span class="string">"value"</span>)</span><br><span class="line">F2N3R$time &lt;- rep(<span class="string">"3 h"</span>,<span class="number">96</span>)</span><br><span class="line">F2N24R$time &lt;- rep(<span class="string">"24 h"</span>,<span class="number">96</span>)</span><br><span class="line">F2NR &lt;- rbind(F2N3R, F2N24R)</span><br><span class="line">outlierTest(lm(value ~ group, data = F2NR))</span><br><span class="line">tiff(filename = <span class="string">"qqpF2N.tif"</span>,width = <span class="number">15</span>,height = <span class="number">18</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">600</span>)</span><br><span class="line">qqPlot(lm(value ~ group, data=F2NR), simulate=<span class="literal">TRUE</span>, main=<span class="string">"Q-Q Plot"</span>, labels=<span class="literal">TRUE</span>)</span><br><span class="line">dev.off()</span><br><span class="line">bartlett.test(value ~ group, data = F2NR)</span><br><span class="line">leveneTest(F2NR$value, F2NR$group)</span><br><span class="line">kruskal.test(value ~ group, data = F2NR)</span><br><span class="line">F2N3SEM &lt;- posthoc.kruskal.nemenyi.test(value ~ group, data=F2N3R, dist=<span class="string">"Chisquare"</span>)</span><br><span class="line">F2N24SEM &lt;- posthoc.kruskal.nemenyi.test(value ~ group, data=F2N24R, dist=<span class="string">"Chisquare"</span>)</span><br><span class="line">F2N &lt;- summarise(group_by(F2NR, group, time), mean=mean(value, na.rm = <span class="literal">TRUE</span>), sem=std.error(value, na.rm=<span class="literal">TRUE</span>))</span><br><span class="line">F2N &lt;- F2N[order(desc(F2N$time)), ]</span><br><span class="line">F2N$time &lt;- factor(F2N$time,levels=unique(F2N$time))</span><br><span class="line">tiff(filename = <span class="string">"F2NSS.tif"</span>,width = <span class="number">20</span>, height = <span class="number">10</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">1200</span>)</span><br><span class="line">ggplot(data=F2N,aes(x=time,y=mean,fill=group, width=<span class="number">0.7</span>)) +</span><br><span class="line">  geom_bar(position=position_dodge(width=<span class="number">0.8</span>),stat = <span class="string">"identity"</span>,width=<span class="number">0.6</span>,size=<span class="number">0.8</span>) +</span><br><span class="line">  geom_errorbar(aes(ymin=mean,ymax=mean+sem, width = <span class="number">0.2</span>),position=position_dodge(width=<span class="number">0.8</span>),size=<span class="number">0.8</span>) +</span><br><span class="line">  geom_bar(position=position_dodge(width=<span class="number">0.8</span>), colour=<span class="string">"black"</span>,stat =<span class="string">"identity"</span>,width=<span class="number">0.6</span>,size=<span class="number">0.8</span>) +</span><br><span class="line">  scale_fill_manual(values=c(<span class="string">"grey100"</span>, <span class="string">"grey75"</span>,<span class="string">"grey0"</span>, <span class="string">"grey90"</span>,<span class="string">"grey50"</span>, <span class="string">"grey30"</span>)) +</span><br><span class="line">  theme_classic(base_family=<span class="string">"Times New Roman"</span>) + scale_x_discrete(<span class="string">""</span>) +</span><br><span class="line">  scale_y_continuous(<span class="string">"Neurological Score"</span>, expand=c(<span class="number">0</span>,<span class="number">0</span>),limits = c(<span class="number">0</span>, <span class="number">20.05</span>), breaks=seq(<span class="number">0</span>,<span class="number">20</span>, by=<span class="number">5</span>)) +</span><br><span class="line">  theme(axis.text.x = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>), axis.text.y = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>),axis.title.y = element_text(family=<span class="string">"Times New Roman"</span>, face=<span class="string">"bold"</span>, size=<span class="number">15</span>, margin=margin(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>)),axis.line = element_line(size = <span class="number">0.8</span>),axis.ticks = element_line(size = <span class="number">0.8</span>),axis.ticks.length=unit(<span class="number">0.2</span>,<span class="string">"cm"</span>), plot.margin=unit(c(<span class="number">5</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),<span class="string">"mm"</span>), legend.title=element_blank(),legend.text = element_text(size = <span class="number">12</span>, face = <span class="string">"bold"</span>),legend.key.width = unit(<span class="number">0.8</span>, <span class="string">"cm"</span>),legend.key.height = unit(<span class="number">0.5</span>, <span class="string">"cm"</span>),legend.position=<span class="string">"right"</span>) +</span><br><span class="line">  geom_segment(aes(x=<span class="number">0.67</span>, y=<span class="number">16</span>, xend=<span class="number">0.67</span>, yend=<span class="number">16.5</span>)) +</span><br><span class="line">  geom_segment(aes(x=<span class="number">0.67</span>, y=<span class="number">16.5</span>, xend=<span class="number">1.33</span>, yend=<span class="number">16.5</span>)) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">0.93</span>, y=<span class="number">17</span>, label=<span class="string">"*"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">1.07</span>, y=<span class="number">17</span>, label=<span class="string">"**"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">1.2</span>, y=<span class="number">17</span>, label=<span class="string">"**"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">1.33</span>, y=<span class="number">17</span>, label=<span class="string">"*"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  geom_segment(aes(x=<span class="number">1.67</span>, y=<span class="number">16</span>, xend=<span class="number">1.67</span>, yend=<span class="number">16.5</span>)) +</span><br><span class="line">  geom_segment(aes(x=<span class="number">1.67</span>, y=<span class="number">16.5</span>, xend=<span class="number">2.20</span>, yend=<span class="number">16.5</span>)) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">1.93</span>, y=<span class="number">17</span>, label=<span class="string">"**"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">2.07</span>, y=<span class="number">17</span>, label=<span class="string">"**"</span>, size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x=<span class="number">2.2</span>, y=<span class="number">17</span>, label=<span class="string">"**"</span>, size=<span class="number">5</span>)</span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure></div><div class="figure"><p><img src="http://7xrrxa.com1.z0.glb.clouddn.com/blogF2NSS.png" alt="blogF2NSS.png"></p><p><span class="figure-number">Figure 3: </span>神经学评分统计图</p></div></div></div><div id="outline-container-org22bea82" class="outline-3"><h3 id="org22bea82">参数检验，一组作图</h3><div class="outline-text-3" id="text-org22bea82"><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">F3Ev &lt;- read.table(<span class="string">"F3Ev.csv"</span>, header=<span class="literal">FALSE</span>, sep=<span class="string">","</span>, na.strings=<span class="string">"NA"</span>, dec=<span class="string">"."</span>, strip.white=<span class="literal">TRUE</span>)</span><br><span class="line">F3Ev &lt;- as.data.frame(t(F3Ev))</span><br><span class="line">names(F3Ev)[<span class="number">1</span>:<span class="number">4</span>] &lt;- c(<span class="string">"Sham"</span>, <span class="string">"THP 40  + Sham"</span>, <span class="string">"IR"</span>, <span class="string">"THP 40  + IR"</span>)</span><br><span class="line"><span class="keyword">library</span>(reshape2)</span><br><span class="line">F3EvR &lt;- melt(F3Ev)</span><br><span class="line">names(F3EvR)[<span class="number">1</span>:<span class="number">2</span>] &lt;- c(<span class="string">"group"</span>, <span class="string">"value"</span>)</span><br><span class="line"><span class="keyword">library</span>(car)</span><br><span class="line">outlierTest(lm(value ~ group, data = F3EvR))</span><br><span class="line">tiff(filename = <span class="string">"qqpF3E.tif"</span>,width = <span class="number">15</span>,height = <span class="number">18</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">600</span>)</span><br><span class="line">qqPlot(lm(value ~ group, data=F3EvR), simulate=<span class="literal">TRUE</span>, main=<span class="string">"Q-Q Plot"</span>, labels=<span class="literal">TRUE</span>)</span><br><span class="line">dev.off()</span><br><span class="line">leveneTest(F3EvR$value, F3EvR$group)</span><br><span class="line">bartlett.test(value ~ group, data = F3EvR)</span><br><span class="line"><span class="keyword">library</span>(multcomp)</span><br><span class="line">F3EvOA &lt;- aov(value ~ group, data=F3EvR)</span><br><span class="line">summary(F3EvOA)</span><br><span class="line">F3EvSEM &lt;- summary(glht(F3EvOA, linfct = mcp(group = <span class="string">"Tukey"</span>)))</span><br><span class="line"><span class="keyword">library</span>(plotrix)</span><br><span class="line"><span class="keyword">library</span>(dplyr)</span><br><span class="line">F3E &lt;- summarise(group_by(F3EvR, group), mean=mean(value, na.rm = <span class="literal">TRUE</span>), sem=std.error(value, na.rm=<span class="literal">TRUE</span>))</span><br><span class="line"><span class="keyword">library</span>(ggplot2)</span><br><span class="line"><span class="keyword">library</span>(grid)</span><br><span class="line">levels(F3E$group) &lt;- gsub(<span class="string">"  "</span>, <span class="string">"\n"</span>, levels(F3E$group))</span><br><span class="line">tiff(filename = <span class="string">"F3Evans Blue.tif"</span>,width = <span class="number">11</span>,height = <span class="number">10</span>,units =<span class="string">"cm"</span>,compression=<span class="string">"lzw"</span>,bg=<span class="string">"white"</span>,res=<span class="number">1200</span>)</span><br><span class="line">ggplot(data=F3E,aes(x=group,y=mean,fill=group, group=<span class="number">1</span>)) +</span><br><span class="line">  geom_errorbar(aes(ymin=mean,ymax=mean+sem, width = <span class="number">0.2</span>),size=<span class="number">0.8</span>) +</span><br><span class="line">  geom_bar(position=<span class="string">"stack"</span>,stat = <span class="string">"identity"</span>,width=<span class="number">0.6</span>,size=<span class="number">0.8</span>, colour=<span class="string">"black"</span>) +</span><br><span class="line">  scale_fill_manual(values=c(<span class="string">"grey100"</span>, <span class="string">"grey75"</span>,<span class="string">"grey0"</span>, <span class="string">"grey30"</span>)) +</span><br><span class="line">  theme_classic(base_family=<span class="string">"Times New Roman"</span>) + scale_x_discrete(<span class="string">""</span>) +</span><br><span class="line">  scale_y_continuous(<span class="string">"Evans Blue (ug/g)"</span>, expand=c(<span class="number">0</span>,<span class="number">0</span>),limits = c(<span class="number">0</span>, <span class="number">20.05</span>), breaks=seq(<span class="number">0</span>,<span class="number">20</span>, by=<span class="number">5</span>)) +</span><br><span class="line">  theme(axis.text.x = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>), axis.text.y = element_text(family=<span class="string">"Times New Roman"</span>,face=<span class="string">"bold"</span>, size=<span class="number">12</span>),axis.title.y = element_text(family=<span class="string">"Times New Roman"</span>, face=<span class="string">"bold"</span>, size=<span class="number">15</span>, margin=margin(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>)),axis.line = element_line(size = <span class="number">0.8</span>),axis.ticks = element_line(size = <span class="number">0.8</span>),axis.ticks.length=unit(<span class="number">0.2</span>,<span class="string">"cm"</span>), plot.margin=unit(c(<span class="number">5</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),<span class="string">"mm"</span>), legend.position=<span class="string">"none"</span>) +</span><br><span class="line">  geom_path(x=c(<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>),y=c(<span class="number">16</span>, <span class="number">16.5</span>, <span class="number">16.5</span>, <span class="number">16</span>),size = <span class="number">0.6</span>) +</span><br><span class="line">  geom_path(x=c(<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>),y=c(<span class="number">17.5</span>,<span class="number">18</span>,<span class="number">18</span>,<span class="number">17.5</span>),size = <span class="number">0.6</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x = <span class="number">2</span>, y = <span class="number">17</span>, label = <span class="string">"**"</span>,size=<span class="number">5</span>) +</span><br><span class="line">  annotate(<span class="string">"text"</span>,family=<span class="string">"Times New Roman"</span>, x = <span class="number">3.5</span>, y=<span class="number">18.5</span>, label = <span class="string">"**"</span>,size=<span class="number">5</span>)</span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure></div><div class="figure"><p><img src="http://7xrrxa.com1.z0.glb.clouddn.com/blogF3Evans%20Blue.png" alt="blogF3Evans%20Blue.png"></p><p><span class="figure-number">Figure 4: </span>Evans Blue 统计图</p></div></div></div></div><div id="outline-container-org22451a1" class="outline-2"><h2 id="org22451a1">注意事项</h2></div><div id="footnotes"><h2 class="footnotes">Footnotes: </h2><div id="text-footnotes"><div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara"><a href="https://www.r-project.org/" target="_blank" rel="noopener">https://www.r-project.org/</a></p></div></div></div></div>Last Updated 2017-04-08 Sat 11:28 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org59291bb&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org59291bb&quot;&gt;写作原因&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org59291bb&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;最近学习 R 语言，这篇博客是学习 R 语言一个简单成果展示，这是第一部分，单因素分析&lt;/li&gt;
&lt;li&gt;科研论文中的统计方法很重要，关系到结果的可信度，然而中国发表的很多文章，统计过关的不多&lt;/li&gt;
&lt;li&gt;本文以 R 语言为切入点，以我自己文章中的数据为原型，简单阐述单因素分析的方法原理及过程&lt;/li&gt;
&lt;li&gt;有关 R 语言介绍及安装方法，请移步 R 语言官方网&lt;sup&gt;&lt;a id=&quot;fnr.1&quot; class=&quot;footref&quot; href=&quot;#fn.1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;站&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="RESEARCH" scheme="http://lengyueyang.github.io/categories/RESEARCH/"/>
    
    
      <category term="Statistics" scheme="http://lengyueyang.github.io/tags/Statistics/"/>
    
      <category term="Research" scheme="http://lengyueyang.github.io/tags/Research/"/>
    
      <category term="R" scheme="http://lengyueyang.github.io/tags/R/"/>
    
  </entry>
  
  <entry>
    <title>Blog with org-mode and github [用 Org-mdoe 和 github 搭建博客]</title>
    <link href="http://lengyueyang.github.io/2016/03/11/Blog%20with%20org-mode%20and%20github/"/>
    <id>http://lengyueyang.github.io/2016/03/11/Blog with org-mode and github/</id>
    <published>2016-03-11T00:00:00.000Z</published>
    <updated>2017-04-08T03:27:50.004Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org03eec16" class="outline-2"><h2 id="org03eec16">写在前面</h2><div class="outline-text-2" id="text-org03eec16"><ul class="org-ul"><li>长久以来，一直想建立自己的博客，今年开始学习 Emacs，偶遇几位大神用 Hexo 建立博客，于是也动手搭建自己的博客，记录学习过程，记录向数据科学转型学习点滴</li><li>本文简述用 Org-mode 写博客，通过 Hexo 搭建博客的过程，我的博客见<a href="http://lengyueyang.github.io/">一家之言</a></li></ul><a id="more"></a></div></div><div id="outline-container-org8daf6b1" class="outline-2"><h2 id="org8daf6b1">用 Hexo 搭建博客</h2><div class="outline-text-2" id="text-org8daf6b1"><p>主要参照 CKJOKER<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>和岁月如歌<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>及漠然<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>的博客</p><ul class="org-ul"><li><p>我本人用 Archlinux，先安装 npm，再通过 npm 安装 hexo</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S npm</span><br><span class="line">mkdir hexo</span><br><span class="line">npm install -g hexo</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br><span class="line">hexo install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></div></li></ul><p>这时候在浏览器中打开 <a href="http://0.0.0.0:4000/" target="_blank" rel="noopener">http://0.0.0.0:4000/</a> 应该能看到效果如图所示<img src="http://7xrrxa.com1.z0.glb.clouddn.com/hexo_start.png" alt="hexo_start.png"></p><ul class="org-ul"><li><p>安装 hexo 的一些插件</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line">npm install hexo-generator-category --save</span><br><span class="line">npm install hexo-generator-tag --save</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-deployer-heroku --save</span><br><span class="line">npm install hexo-deployer-rsync --save</span><br><span class="line">npm install hexo-deployer-openshift --save</span><br><span class="line">npm install hexo-renderer-marked@<span class="number">0.2</span> --save</span><br><span class="line">npm install hexo-renderer-stylus@<span class="number">0.2</span> --save</span><br><span class="line">npm install hexo-generator-feed@<span class="number">1</span> --save</span><br><span class="line">npm install hexo-generator-sitemap@<span class="number">1</span> --save</span><br></pre></td></tr></table></figure></div></li></ul></div></div><div id="outline-container-org0979bfb" class="outline-2"><h2 id="org0979bfb">博客源代码托管到 Github 上</h2><div class="outline-text-2" id="text-org0979bfb"><ul class="org-ul"><li>建立 Github 账号，设置本地 SSH，与 Github 连接</li><li><p>修改 _config.yml，增加</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line"><span class="built_in">type</span>: git</span><br><span class="line">repo: git@github.com:xxx/xxx.github.io.git</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure></div></li></ul><p>及根据参考修改其他配置</p><ul class="org-ul"><li><p>使用 Next 主题，根据配置文件说明配置自己的博客</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></div></li><li><p>打开自己的博客，修改美化相应选项</p><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></div></li></ul></div></div><div id="outline-container-org0c043cd" class="outline-2"><h2 id="org0c043cd">用 Org-mode 写博客</h2><div class="outline-text-2" id="text-org0c043cd"><p>主要参照 CodeFalling<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>和 zilongshanren<sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup></p><ul class="org-ul"><li>用<a href="https://github.com/CodeFalling/blog-admin" target="_blank" rel="noopener">blog-admin</a> 做前端，参照文件说明配置</li><li>用<a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> 将写好的.org 文件转化成 hexo 识别的 md 文件并发布</li><li>参照 CodeFalling 和 zilongshanren 的 github 的 Spacemacs 私人配置更改自己的配置</li></ul></div></div><div id="outline-container-org4ee2b9e" class="outline-2"><h2 id="org4ee2b9e">一些问题</h2><div class="outline-text-2" id="text-org4ee2b9e"></div><div id="outline-container-org0331119" class="outline-3"><h3 id="org0331119">Org-mode 图片插入</h3><div class="outline-text-3" id="text-org0331119"><ul class="org-ul"><li>安装<a href="https://github.com/CodeFalling/hexo-asset-image" target="_blank" rel="noopener">hexo-asset-image</a>， 安装后在.md 文件中插入图片没有问题，在 org 中插入有问题</li><li>Org 中插入图片或者链接格式如下</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">file:filedir/file OR html adress</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>改变图片大小，位置，加入图片说明可增加以下代码</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+CAPTION: title with figure number&#10;#+ATTR_HTML: :width 200px :align left :title The tile of picture without figure number</span><br></pre></td></tr></table></figure></div></div></div></div><div id="footnotes"><h2 class="footnotes">Footnotes: </h2><div id="text-footnotes"><div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara"><a href="https://ckjoker.github.io/2015/01/27/Linux-github-hexo-blog/" target="_blank" rel="noopener">https://ckjoker.github.io/2015/01/27/Linux-github-hexo-blog/</a></p></div></div><div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara"><a href="http://lovenight.github.io/2015/11/10/Hexo-3-1-1-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/" target="_blank" rel="noopener">http://lovenight.github.io/2015/11/10/Hexo-3-1-1-静态博客搭建指南/</a></p></div></div><div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara"><a href="http://mritd.me/2015/12/31/Github-%E6%90%AD%E5%BB%BA-Hexo-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">http://mritd.me/2015/12/31/Github-搭建-Hexo-静态博客/</a></p></div></div><div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara"><a href="https://github.com/CodeFalling" target="_blank" rel="noopener">https://github.com/CodeFalling</a></p></div></div><div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara"><p class="footpara"><a href="https://github.com/zilongshanren" target="_blank" rel="noopener">https://github.com/zilongshanren</a></p></div></div></div></div>Last Updated 2017-04-08 Sat 11:27 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org03eec16&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org03eec16&quot;&gt;写在前面&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org03eec16&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;长久以来，一直想建立自己的博客，今年开始学习 Emacs，偶遇几位大神用 Hexo 建立博客，于是也动手搭建自己的博客，记录学习过程，记录向数据科学转型学习点滴&lt;/li&gt;
&lt;li&gt;本文简述用 Org-mode 写博客，通过 Hexo 搭建博客的过程，我的博客见&lt;a href=&quot;http://lengyueyang.github.io/&quot;&gt;一家之言&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Org-mode" scheme="http://lengyueyang.github.io/tags/Org-mode/"/>
    
      <category term="Blog" scheme="http://lengyueyang.github.io/tags/Blog/"/>
    
      <category term="Github" scheme="http://lengyueyang.github.io/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>Use org-mode to make slide [用 org-mode 做幻灯]</title>
    <link href="http://lengyueyang.github.io/2016/03/04/Use%20org-mode%20to%20make%20presentation/"/>
    <id>http://lengyueyang.github.io/2016/03/04/Use org-mode to make presentation/</id>
    <published>2016-03-04T00:00:00.000Z</published>
    <updated>2017-04-08T03:27:12.574Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org20c1a18" class="outline-2"><h2 id="org20c1a18">缘由：</h2><div class="outline-text-2" id="text-org20c1a18"><ul class="org-ul"><li>之前做幻灯一直用 powerpoint，受限于各种格式调整，之后接触到了 latex，开始用 beamer 做幻灯</li><li>最近迷恋上了 Reproducible Research，用 org-mode 进行时间管理、写 blog，恰巧最近需要做幻灯，本文记录用 org-mode 进行写做幻灯的过程以及注意事项,本文示例见<a href="https://github.com/lengyueyang/org-beamer" target="_blank" rel="noopener">org-beamer</a></li></ul><a id="more"></a></div></div><div id="outline-container-orgab6a251" class="outline-2"><h2 id="orgab6a251">配置</h2><div class="outline-text-2" id="text-orgab6a251"><ul class="org-ul"><li>Org-mode 做幻灯实际上是用 org-mode 写做，转换成 latex 的 beamer，鉴于以后可能会用到中文，因此用 xelatex 编译 tex 文件</li><li>导出快捷键：SPC e l P，更改 tex 默认编译引擎，我安装的是 Tex live 版本，安装详情见<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>，更改引擎可参照<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup> (我的应该是更改 latexmk.pl 文件中的 pdflatex 为 xelatex，这一步记不清楚了)</li></ul></div></div><div id="outline-container-orgd19963c" class="outline-2"><h2 id="orgd19963c">Org-mode 做幻灯过程简介</h2><div class="outline-text-2" id="text-orgd19963c"></div><div id="outline-container-orgd2abd53" class="outline-3"><h3 id="orgd2abd53">Org-mode Beamer 模式设置</h3><div class="outline-text-3" id="text-orgd2abd53"><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+TITLE:  Multiple therapeutic effects of progranulin on experimental acute ischaemic stroke&#10;#+AUTHOR: Xiaowei Mao&#10;#+EMAIL:  maoweirm@126.com&#10;#+BEAMER_HEADER: \date[March 4$^{th}$, 2016]{March 4$^{th}$, 2016 \\ \vskip 0.5cm \scriptsize{Brain. 2015 Jul;138(Pt 7):1932-48.}}&#10;#+BEAMER_HEADER: \title[Progranulin on ischemic stroke]{Multiple therapeutic effects of progranulin on experimental acute ischaemic stroke}&#10;#+BEAMER_HEADER: \institute[Pharmaron]{Pharmacology, Pharmaron} &#10;#+OPTIONS: H:2 num:t toc:1 \n:nil @:t ::t |:t ^:t -:t f:t *:t &#60;:t&#10;#+OPTIONS: TeX:t LaTeX:nil skip:nil d:nil todo:t pri:nil tags:not-in-toc&#10;#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0 path:http://orgmode.org/org-info.js&#10;#+EXPORT_SELECT_TAGS: export&#10;#+EXPORT_EXCLUDE_TAGS: noexport&#10;#+startup: beamer&#10;#+LaTeX_CLASS: beamer&#10;#+LaTeX_CLASS_OPTIONS: [bigger]&#10;#+COLUMNS: %40ITEM %10BEAMER_env(Env) %9BEAMER_envargs(Env Args) %4BEAMER_col(Col) %10BEAMER_extra(Extra)&#10;#+BEAMER_FRAME_LEVEL: 2&#10;#+LaTeX_HEADER: \usetheme{CambridgeUS}&#10;#+LaTeX_HEADER: \AtBeginSection{\begin{frame}{Outline}   \tableofcontents[currentsection] \end{frame} }&#10;#+LaTeX_HEADER: \setbeamertemplate{navigation symbols}{}&#10;#+LaTeX_HEADER: \renewcommand\maketitle{\frame[plain]{\titlepage}}&#10;#+LaTeX_HEADER: \usepackage{fontspec}&#10;#+LaTeX_HEADER: \usepackage{xeCJK}&#10;#+LaTeX_HEADER: \setmainfont{Times New Roman}&#10;#+LaTeX_HEADER: \setsansfont{Arial}&#10;#+LaTeX_HEADER: \setmonofont{Courier Std}&#10;#+LaTeX_HEADER: \setCJKmainfont[BoldFont={ },ItalicFont={ }]{WenQuanYi Micro Hei}&#10;#+LaTeX_HEADER: \setCJKsansfont{WenQuanYi Micro Hei}&#10;#+LaTeX_HEADER: \setCJKmonofont{WenQuanYi Micro Hei Mono} &#10;#+LaTeX_HEADER: \graphicspath{pic file folder}&#10;#+BEAMER_HEADER: %\logo{\includegraphics[height=5mm]{logo.png}}&#10;#+LaTeX_HEADER: \usepackage[backend = biber, natbib=true, style = science, sorting = none]{biblatex}&#10;#+LaTeX_HEADER: \addbibresource{Pharmaron.bib}&#10;#+LaTeX_HEADER: \AtBeginBibliography{\footnotesize}&#10;#+LaTeX_HEADER: \setbeamertemplate{bibliography item}[text]&#10;#+LaTeX_HEADER: \usepackage[none]{hyphenat}&#10;#+LaTeX_HEADER: \usepackage[abs]{overpic}</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>在幻灯首页及页脚短标题、时间以及系所</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+BEAMER_HEADER: \date[March 4$^{th}$, 2016]{March 4$^{th}$, 2016 \\ \vskip 0.5cm \scriptsize{Brain. 2015 Jul;138(Pt 7):1932-48.}}&#10;#+BEAMER_HEADER: \title[Progranulin on ischemic stroke]{Multiple therapeutic effects of progranulin on experimental acute ischaemic stroke}&#10;#+BEAMER_HEADER: \institute[Pharmaron]{Pharmacology, Pharmaron} &#10;</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>常规设置，注意 H：2 表示目录两层</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+OPTIONS: H:2 num:t toc:1 \n:nil @:t ::t |:t ^:t -:t f:t *:t &#60;:t&#10;#+OPTIONS: TeX:t LaTeX:nil skip:nil d:nil todo:t pri:nil tags:not-in-toc&#10;#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0 path:http://orgmode.org/org-info.js&#10;#+EXPORT_SELECT_TAGS: export&#10;#+EXPORT_EXCLUDE_TAGS: noexport&#10;#+startup: beamer&#10;#+LaTeX_CLASS: beamer&#10;#+LaTeX_CLASS_OPTIONS: [bigger]</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Beamer 主题选择，在每个 section 之前加入这个 section 的目录，标题页去掉页眉和页脚</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+LaTeX_HEADER: \usetheme{CambridgeUS}&#10;#+LaTeX_HEADER: \AtBeginSection{\begin{frame}{Outline}   \tableofcontents[currentsection] \end{frame} }&#10;#+LaTeX_HEADER: \setbeamertemplate{navigation symbols}{}&#10;#+LaTeX_HEADER: \renewcommand\maketitle{\frame[plain]{\titlepage}}</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>设置字体，用 fontspec 和 xeCJK 包</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+LaTeX_HEADER: \usepackage{fontspec}&#10;#+LaTeX_HEADER: \usepackage{xeCJK}&#10;#+LaTeX_HEADER: \setmainfont{Times New Roman}&#10;#+LaTeX_HEADER: \setsansfont{Arial}&#10;#+LaTeX_HEADER: \setmonofont{Courier Std}&#10;#+LaTeX_HEADER: \setCJKmainfont[BoldFont={ },ItalicFont={ }]{WenQuanYi Micro Hei}&#10;#+LaTeX_HEADER: \setCJKsansfont{WenQuanYi Micro Hei}&#10;#+LaTeX_HEADER: \setCJKmonofont{WenQuanYi Micro Hei Mono} </span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>默认插入图片位置:</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+LaTeX_HEADER: \graphicspath{pic file folder}</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>参考文献</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+BEAMER_HEADER: %\logo{\includegraphics[height=5mm]{logo.png}}&#10;#+LaTeX_HEADER: \usepackage[backend = biber, natbib=true, style = science, sorting = none]{biblatex}&#10;#+LaTeX_HEADER: \addbibresource{Pharmaron.bib}&#10;#+LaTeX_HEADER: \AtBeginBibliography{\footnotesize}&#10;#+LaTeX_HEADER: \setbeamertemplate{bibliography item}[text]</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>取消断词，overpic 包</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#+LaTeX_HEADER: \usepackage[none]{hyphenat}&#10;#+LaTeX_HEADER: \usepackage[abs]{overpic}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org4c24475" class="outline-3"><h3 id="org4c24475">插入小标题及分页</h3><div class="outline-text-3" id="text-org4c24475"><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">*** A block                                                           :BMCOL:&#10;:PROPERTIES:&#10;:BEAMER_col: 0.6&#10;:END:&#10;- A stroke is a medical emergency in which the blood supply to any portion of the brain is interrupted or reduced.&#10;\vspace{0.5cm}&#10;- Alternative names: Cerebrovascular accident/ disease (CVA), Cerebral infarction, Cerebral hemorrhage.&#10;*** picture                                                         :BMCOL:&#10;:PROPERTIES:&#10;:BEAMER_col: 0.4&#10;:END:&#10;\includegraphics[width=4.5cm]{b1} \newline&#10;\centering \scriptsize{The Circle of Willis Anatomy}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgaa512cf" class="outline-3"><h3 id="orgaa512cf">插入多张图片</h3><div class="outline-text-3" id="text-orgaa512cf"><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">\begin{overpic}[height=6cm, width=12cm]{b2}&#10;\put(20,0){\visible&#60;2&#62;{\includegraphics[height=6cm, width=5.5cm]{b6}}}&#10;\put(200,0){\visible&#60;2&#62;{\includegraphics[height=6cm, width=4.5cm]{b3}}}&#10;\put(0,0){\visible&#60;4&#62;{\includegraphics[height=6cm, width=6.5cm]{b4}}}&#10;\put(172,0){\visible&#60;4&#62;{\includegraphics[height=6cm, width=6cm]{b5}}}&#10;\end{overpic}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org55c2415" class="outline-3"><h3 id="org55c2415">插入 block</h3><div class="outline-text-3" id="text-org55c2415"><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">***                                                                 :BMCOL:&#10;:PROPERTIES:&#10;:BEAMER_col: 0.6&#10;:END:&#10;\includegraphics[height=5cm,width=\textwidth]{b10}&#10;*** \pause \small Stroke therapeutic strategy                 :B_block:BMCOL:&#10;:PROPERTIES:&#10;:BEAMER_col: 0.4&#10;:BEAMER_env: block&#10;:END:&#10;\begin{itemize}&#10;\item \footnotesize Broaden the therapeutic time window&#10;\begin{itemize}&#10; \item \scriptsize The new thrombolytics&#10; \item \scriptsize Neuroprotection agents-\emph{\textbf{progranulin}}&#10;\end{itemize}&#10;\item \footnotesize Therapy is recovery stage&#10;\begin{itemize}&#10; \item \scriptsize Neuroprotection agents&#10; \item \scriptsize Stem cell therapy&#10; \item \scriptsize Chinese traditional medicine&#10; \item \scriptsize Acupuncture&#10; \item \scriptsize ......&#10;\end{itemize}&#10;\end{itemize}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8b2d955" class="outline-3"><h3 id="org8b2d955">插入参考文献</h3><div class="outline-text-3" id="text-org8b2d955"><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">** References&#10;\tiny&#10;\cite{moretti2015neuroprotection} \cite{george2015novel} \cite{butcher2010acute} \cite{hacke2008thrombolysis} \cite{kanazawa2011biochemical} \cite{kanazawa2011inhibition} \cite{nguyen2013progranulin} \cite{o20061}&#10;\printbibliography[heading = none]</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orgf02efe0" class="outline-2"><h2 id="orgf02efe0">一些问题</h2><div class="outline-text-2" id="text-orgf02efe0"></div><div id="outline-container-org888d7b8" class="outline-3"><h3 id="org888d7b8">参考文献</h3><div class="outline-text-3" id="text-org888d7b8"><ul class="org-ul"><li>默认编译快捷键不能编译参考文献，在配置文件中加入一下代码即可</li></ul><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> org-latex-pdf-process</span><br><span class="line">      <span class="quoted">'(<span class="string">"xelatex -interaction nonstopmode -output-directory %o %f"</span> <span class="string">"biber %b"</span> <span class="string">"xelatex -interaction nonstopmode -output-directory %o %f"</span> <span class="string">"xelatex -interaction nonstopmode -output-directory %o %f"</span>)</span>)</span></span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li><p>改变参考文献字体大小,加入一下代码</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">\AtBeginBibliography{\tiny}</span><br></pre></td></tr></table></figure></div></li></ul></div></div><div id="outline-container-orgb2358ed" class="outline-3"><h3 id="orgb2358ed">脚注</h3><div class="outline-text-3" id="text-orgb2358ed"><ul class="org-ul"><li>如果文章某一页有脚注，插入\footfullcite{脚注内容}即可</li><li>如果脚注连续，即插入参考文献 4-6，或 2,3，并且同一页插入两个相同脚注,可参考代码见<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>, 也可在我的 github 下载<a href="https://github.com/lengyueyang/org-beamer/blob/master/footnoteref.sty" target="_blank" rel="noopener">footnoteref</a>，</li></ul><p>用\usepackage{footnoteref}</p><ul class="org-ul"><li><p>改变脚注字体大小，加入一下代码</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">\renewcommand{\footnotesize}{\tiny}</span><br></pre></td></tr></table></figure></div></li></ul></div></div></div><div id="footnotes"><h2 class="footnotes">Footnotes: </h2><div id="text-footnotes"><div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara"><a href="http://attach3.bdwm.net/attach/boards/MathTools/M.1435670549.A/pkuthss-bootstrap-0.1.4.pdf" target="_blank" rel="noopener">http://attach3.bdwm.net/attach/boards/MathTools/M.1435670549.A/pkuthss-bootstrap-0.1.4.pdf</a></p></div></div><div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara"><a href="http://kieranhealy.org/blog/archives/2011/01/21/exporting-org-mode-to-pdf-via-xelatex/" target="_blank" rel="noopener">http://kieranhealy.org/blog/archives/2011/01/21/exporting-org-mode-to-pdf-via-xelatex/</a></p></div></div><div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara"><a href="http://tex.stackexchange.com/questions/35673/biblatex-is-there-a-command-analogous-to-ifciteseen-but-within-one-page" target="_blank" rel="noopener">http://tex.stackexchange.com/questions/35673/biblatex-is-there-a-command-analogous-to-ifciteseen-but-within-one-page</a></p></div></div></div></div>Last Updated 2017-04-08 Sat 11:27 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org20c1a18&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org20c1a18&quot;&gt;缘由：&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org20c1a18&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;之前做幻灯一直用 powerpoint，受限于各种格式调整，之后接触到了 latex，开始用 beamer 做幻灯&lt;/li&gt;
&lt;li&gt;最近迷恋上了 Reproducible Research，用 org-mode 进行时间管理、写 blog，恰巧最近需要做幻灯，本文记录用 org-mode 进行写做幻灯的过程以及注意事项,本文示例见&lt;a href=&quot;https://github.com/lengyueyang/org-beamer&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;org-beamer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Org-mode" scheme="http://lengyueyang.github.io/tags/Org-mode/"/>
    
      <category term="Beamer" scheme="http://lengyueyang.github.io/tags/Beamer/"/>
    
  </entry>
  
  <entry>
    <title>Use org-mode to GTD [用 org-mode 做时间管理 ]</title>
    <link href="http://lengyueyang.github.io/2016/02/28/Use%20org-mode%20to%20GTD/"/>
    <id>http://lengyueyang.github.io/2016/02/28/Use org-mode to GTD/</id>
    <published>2016-02-28T00:00:00.000Z</published>
    <updated>2017-04-08T03:27:25.824Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org5a22850" class="outline-2"><h2 id="org5a22850">写在前面</h2><div class="outline-text-2" id="text-org5a22850"><ul class="org-ul"><li>最近准备学习 R 和 Python 语言，比较了很多编辑器，最终选择了 Emacs，看到知乎上很多大神推荐 Spacemacs，准备用 Spacemacs 编写程序, 同时建立博客，记录学习过程。</li><li>首先接触了 Org-mode，用 org-mode 做时间管理，本文简述我用 org-mode 做时间管理的流程以及配置。</li><li>在用 org-mode 之前，应该有一些 Spacemacs 及 Org-mode 的使用经验（参见<a href="https://github.com/syl20bnr/spacemacs/blob/master/layers/org/README.org#element-insertion" target="_blank" rel="noopener">pacemacs Keybinding</a>和<a href="http://www.gnu.org/software/emacs/manual/html_mono/org.html#Outlines" target="_blank" rel="noopener">Org Mode Manual</a>)。</li></ul><a id="more"></a></div></div><div id="outline-container-orgd8d90a7" class="outline-2"><h2 id="orgd8d90a7">我的 org-mode 工作流程</h2><div class="outline-text-2" id="text-orgd8d90a7"></div><div id="outline-container-org4dd0994" class="outline-3"><h3 id="org4dd0994">建立自己的 GTD 文件</h3><div class="outline-text-3" id="text-org4dd0994"><p>可以参照<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup><sup>, </sup><sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>,我自己的 org 大纲如下：</p><div class="org-src-container"><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#+STARTUP: overview</span></span><br><span class="line"><span class="comment">#+TAGS: INFORMATICS(i) STATISTICS(s) COMPUTER(c) READING(r) PRIVATE(p) EMACS(e) MEETING(m) BLOG(g) LIFE(l)</span></span><br><span class="line"><span class="comment">#+STARTUP: hidestars</span></span><br><span class="line">* TASKS</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Tasks</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># For one tasks</span></span><br><span class="line">** Spacemacs                                                          :EMACS:</span><br><span class="line">** Org-mode                                                           :EMACS:</span><br><span class="line">** Python                                                       :INFORMATICS:</span><br><span class="line">** R language                                                    :STATISTICS:</span><br><span class="line">** Reading                                                          :READING:</span><br><span class="line">* Calendar</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Calendar</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># For appointments</span></span><br><span class="line">** Daily Tasks</span><br><span class="line">** Inbox</span><br><span class="line">** Quick Notes</span><br><span class="line">** Blog Ideas                                                         :BLOG:</span><br><span class="line">** <span class="number">2016</span>                                                            :PRIVATE:</span><br><span class="line">* Projects</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Projects</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># With each project under it-each having their tasks (and subtasks) benath</span></span><br><span class="line">* Someday/Maybe</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Someday/Maybe</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># For tasks that may be doon at some point</span></span><br><span class="line">** Computer System                                                :COMPUTER:</span><br><span class="line">*** Tiling window manager</span><br><span class="line">Awesome-Lua/Qtile-Python/i3-C written</span><br><span class="line">* Financial</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Financial</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># For all tasks related to money, bills, salart, band and so on.</span></span><br><span class="line">* Habits</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:CATEGORY: Habits</span><br><span class="line">:ARCHIVE_TIME: <span class="number">2016</span>-<span class="number">01</span>-<span class="number">06</span> Wed <span class="number">00</span>:<span class="number">11</span></span><br><span class="line">:ARCHIVE_FILE: ~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org</span><br><span class="line">:ARCHIVE_CATEGORY: Habits</span><br><span class="line">:END:</span><br><span class="line"><span class="comment"># For all the recurring tasks I want to keep to doing, and track with org-habit model.</span></span><br><span class="line">, ** Myself habits                                                   :PRIVATE:</span><br><span class="line">, *** Exercise                                                                </span><br><span class="line">**** TODO First <span class="keyword">for</span> six-pack abs</span><br><span class="line">** GTD refile                                                      :PRIVATE:</span><br><span class="line">*** TODO The Schedule of Monthly</span><br><span class="line">SCHEDULED: &lt;<span class="number">2016</span>-<span class="number">03</span>-<span class="number">01</span> Tue <span class="number">22</span>:<span class="number">00</span> +1m&gt;</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:LAST_REPEAT: [<span class="number">2016</span>-<span class="number">02</span>-<span class="number">16</span> Tue <span class="number">00</span>:<span class="number">13</span>]</span><br><span class="line">:END:</span><br><span class="line">:LOGBOOK:</span><br><span class="line">- State <span class="string">"DONE"</span>       from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">02</span>-<span class="number">16</span> Tue <span class="number">00</span>:<span class="number">13</span>]</span><br><span class="line">:END:</span><br><span class="line">*** TODO Review Monthly </span><br><span class="line">SCHEDULED: &lt;<span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span> Wed <span class="number">22</span>:<span class="number">10</span> +1m&gt;</span><br><span class="line">:PROPERTIES:</span><br><span class="line">:LAST_REPEAT: [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">31</span> Sun <span class="number">23</span>:<span class="number">40</span>]</span><br><span class="line">:END:</span><br><span class="line">:LOGBOOK:</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">31</span> Sun <span class="number">23</span>:<span class="number">40</span>]</span><br><span class="line">:END:</span><br><span class="line">*** TODO Review Weekly</span><br><span class="line">:LOGBOOK:</span><br><span class="line">- State <span class="string">"DONE"</span>       from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">02</span>-<span class="number">21</span> Sun <span class="number">21</span>:<span class="number">56</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">02</span>-<span class="number">14</span> Sun <span class="number">20</span>:<span class="number">42</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">02</span>-<span class="number">11</span> Thu <span class="number">09</span>:<span class="number">59</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">31</span> Sun <span class="number">23</span>:<span class="number">40</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">25</span> Mon <span class="number">22</span>:<span class="number">20</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">13</span> Wed <span class="number">20</span>:<span class="number">34</span>]</span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">13</span> Wed <span class="number">20</span>:<span class="number">34</span>]</span><br><span class="line">CLOCK: [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">04</span> Mon <span class="number">23</span>:<span class="number">03</span>]--[<span class="number">2016</span>-<span class="number">01</span>-<span class="number">05</span> Tue <span class="number">20</span>:<span class="number">34</span>] =&gt; <span class="number">21</span>:<span class="number">31</span></span><br><span class="line">- State <span class="string">"CANCELLED"</span>  from <span class="string">"TODO"</span>       [<span class="number">2016</span>-<span class="number">01</span>-<span class="number">04</span> Mon <span class="number">22</span>:<span class="number">41</span>]</span><br><span class="line">:END:</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>TASKS 用于记录阶段性学习计划与生活计划</li><li>Calendar 每天计划，博客，日常收集资料等</li><li>Projects 大的项目</li><li>Someday/Maybe 可能未来要做的事情</li><li>Financial 与 money 相关的东西</li><li>Habits 自己的习惯：如锻炼，每月的习惯，重要的节日等等</li></ul></div></div><div id="outline-container-orgca9d772" class="outline-3"><h3 id="orgca9d772">设置每个任务的状态，tags 和 priorities</h3><div class="outline-text-3" id="text-orgca9d772"></div><div id="outline-container-orgbe6b000" class="outline-4"><h4 id="orgbe6b000">设置任务状态，我用以下 todo tiems，参考<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup></h4><div class="outline-text-4" id="text-orgbe6b000"><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">sequence</span> <span class="string">"TODO(t)"</span> <span class="string">"NEXT(n)"</span> <span class="string">"|"</span>  <span class="string">"DONE(d)"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">sequence</span> <span class="string">"WAITING(w@/!)"</span> <span class="string">"SOMEDAY(s)"</span> <span class="string">"|"</span> <span class="string">"HOLD(h@/!)"</span> <span class="string">"CANCELLED(c@/!)"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">sequence</span> <span class="string">"INBOX(i)"</span> <span class="string">"|"</span> <span class="string">"NOTE(e)"</span> <span class="string">"PHONE(p)"</span> <span class="string">"MEETING(m)"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">sequence</span> <span class="string">"REPORT(r)"</span> <span class="string">"BUG(b)"</span> <span class="string">"KNOWNCAUSE(k)"</span> <span class="string">"|"</span> <span class="string">"FIXED(f)"</span>)</span></span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>每个 TODO 任务有 TODO 和 DONE 两种状态，NEXT 只出现在 Project 中</li><li>WAITING 适用于暂停一段时间的任务，SOMEDAY 是未来某一天会安排的工做</li><li>HOLD 定义为原来计划做的已经 SCHELUDE 的 TODO 工作，由于某种原因以后再做，防止其在 Agenda 中出现</li><li>CANCELLED 是取消的任务</li><li>INBOX 是收集的资料，待整理的东西，每周 refile，而 NOTE 是即兴想法：头脑风暴</li><li>PHONE 和 MEETING 是记录完成事件</li></ul></div></div></div><div id="outline-container-org6cc5109" class="outline-3"><h3 id="org6cc5109">设置任务时间，计划和截止时间</h3><div class="outline-text-3" id="text-org6cc5109"><p>详情可见<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup></p></div></div><div id="outline-container-org99b778d" class="outline-3"><h3 id="org99b778d">执行计划，必要时记录每个任务的时间</h3></div><div id="outline-container-orgcef4505" class="outline-3"><h3 id="orgcef4505">周回顾</h3></div></div><div id="footnotes"><h2 class="footnotes">Footnotes: </h2><div id="text-footnotes"><div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara"><a href="http://orgmode.org/worg/org-gtd-etc.html" target="_blank" rel="noopener">http://orgmode.org/worg/org-gtd-etc.html</a></p></div></div><div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara"><a href="http://members.optusnet.com.au/~charles57/GTD/gtd_workflow.html" target="_blank" rel="noopener">http://members.optusnet.com.au/~charles57/GTD/gtd_workflow.html</a></p></div></div><div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara"><a href="http://doc.norang.ca/org-mode.html#HowToUseThisDocument" target="_blank" rel="noopener">http://doc.norang.ca/org-mode.html#HowToUseThisDocument</a></p></div></div><div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara"><a href="http://orgmode.org/manual/Dates-and-times.html#Dates-and-times" target="_blank" rel="noopener">http://orgmode.org/manual/Dates-and-times.html#Dates-and-times</a></p></div></div></div></div>Last Updated 2017-04-08 Sat 11:27 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org5a22850&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org5a22850&quot;&gt;写在前面&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org5a22850&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;最近准备学习 R 和 Python 语言，比较了很多编辑器，最终选择了 Emacs，看到知乎上很多大神推荐 Spacemacs，准备用 Spacemacs 编写程序, 同时建立博客，记录学习过程。&lt;/li&gt;
&lt;li&gt;首先接触了 Org-mode，用 org-mode 做时间管理，本文简述我用 org-mode 做时间管理的流程以及配置。&lt;/li&gt;
&lt;li&gt;在用 org-mode 之前，应该有一些 Spacemacs 及 Org-mode 的使用经验（参见&lt;a href=&quot;https://github.com/syl20bnr/spacemacs/blob/master/layers/org/README.org#element-insertion&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;pacemacs Keybinding&lt;/a&gt;和&lt;a href=&quot;http://www.gnu.org/software/emacs/manual/html_mono/org.html#Outlines&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Org Mode Manual&lt;/a&gt;)。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Org-mode" scheme="http://lengyueyang.github.io/tags/Org-mode/"/>
    
      <category term="GTD" scheme="http://lengyueyang.github.io/tags/GTD/"/>
    
  </entry>
  
  <entry>
    <title>Spacemacs Learning [Spacemacs 学习]</title>
    <link href="http://lengyueyang.github.io/2016/02/14/Spacemacs%20Learning/"/>
    <id>http://lengyueyang.github.io/2016/02/14/Spacemacs Learning/</id>
    <published>2016-02-14T00:00:00.000Z</published>
    <updated>2017-04-08T03:27:21.960Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org49864e7" class="outline-2"><h2 id="org49864e7">Useful keybinding</h2><div class="outline-text-2" id="text-org49864e7"></div><div id="outline-container-org7219b41" class="outline-3"><h3 id="org7219b41">Memory</h3><div class="outline-text-3" id="text-org7219b41"><ul class="org-ul"><li>SPC f s Save a buffer</li><li>SPC f S Save all opened buffers</li><li>SPC b b Open or switch a buffer with helm</li><li>SPC T h Select a theme using a helm buffer</li><li>SPC f/p t To toggle the Neotree buffer press (project)</li><li>SPC h b Open the bookmark</li><li>SPC h l Resume the last helm buffers</li><li>SPC s L Focus the last converted search buffer</li><li>F3 In a helm buffer, convert a helm search buffer into a regular buffer</li></ul><a id="more"></a></div></div></div><div id="outline-container-org1e1692b" class="outline-2"><h2 id="org1e1692b">The Emacs Evil Tutor</h2><div class="outline-text-2" id="text-org1e1692b"></div><div id="outline-container-org8f76164" class="outline-3"><h3 id="org8f76164">LESSON 1</h3><div class="outline-text-3" id="text-org8f76164"><ol class="org-ol"><li>The cursor is moved using either the arrow keys or the hjkl keys.h (left)        j (down)       k (up)            l (right)</li><li>To exit Emacs type:  &lt;ESC&gt; :qa! &lt;ENTER&gt;  to trash all changes.OR type:  &lt;ESC&gt; :wqa &lt;ENTER&gt;  to save the changes.</li><li>Ctrl + f Page DownCtrl + b Page Up</li><li>0 Cursor to the beginging of the line$ Cursor to the end of the line</li><li>G Cursor to the last of the filenG Cursor to the n line of the filegg Cursor to the begin of the file, like 1G:[Enter] followed by a line number and moves to that line number.N[Enter] Curosr to the N line</li></ol><p>NOTE: Pressing &lt;ESC&gt; will place you in normal state or will cancel      an unwanted and partially completed command.</p></div></div><div id="outline-container-org19cd496" class="outline-3"><h3 id="org19cd496">LESSON 2</h3><div class="outline-text-3" id="text-org19cd496"><ol class="org-ol"><li>x/X To delete a character under/before the cursor in normal state type</li><li>To delete a whole line type:  dd</li><li><p>The format for a command in normal state is:</p><p>  [number]  command  object    OR    command  [number]  objectwhere:  number - is how many times to repeat the command  command - is what to do, such as  d  for delete  object - is what the command should act upon, such as  w  for word,   $  for "to the end of line", etc.</p></li><li>d1G, dG, d0, d$</li><li>yy Copy the line of cursokrnyy Copy the n line data</li><li>y1G, yG, y0, y$</li><li>p/P Paste the data from the next/before line</li><li>To undo previous actions, type:  uTo undo the undo's type:  CTRL-RRepeat the last opeartion: .</li></ol></div></div><div id="outline-container-orgcf9055b" class="outline-3"><h3 id="orgcf9055b">LESSON 3</h3><div class="outline-text-3" id="text-orgcf9055b"><ol class="org-ol"><li>To replace text that has already been deleted, type  p  this puts thedeleted text AFTER the cursor (if a line was deleted it will go on theline below the cursor).</li><li>To replace the character under the cursor, type  r  and then thecharacter which will replace the original.</li><li>The change command allows you to change the specified object from thecursor to the end of the object.  eg. Type  cw  to change from thecursor to the end of the word,  c$  to change to the end of a line.</li><li>The format for change is:[number]  c  object    OR    c  [number]  object</li></ol></div></div><div id="outline-container-org1bdcb23" class="outline-3"><h3 id="org1bdcb23">LESSON 4</h3><div class="outline-text-3" id="text-org1bdcb23"><ol class="org-ol"><li>Typing  /  followed by a phrase searches FORWARD for the phrase.Typing  ?  followed by a phrase searches BACKWARD for the phrase.After a search type  n  to find the next occurrence in the same directionor  N  to search in the opposite direction.</li><li>Typing  %  while the cursor is on a  (,),[,],{, or }  locates itsmatching pair.</li><li>To substitute new for the first old on a line type  :s/old/newTo substitute new for all 'old's on a line type     :s/old/new/gTo substitute phrases between two line #'s type     :#,#s/old/new/gTo substitute all occurrences in the file type      :%s/old/new/gTo ask for confirmation each time add 'c'           :%s/old/new/gc</li></ol></div></div><div id="outline-container-orgee9b618" class="outline-3"><h3 id="orgee9b618">LESSON 5</h3><div class="outline-text-3" id="text-orgee9b618"><ol class="org-ol"><li><p>:!command  executes an external command.</p><p>Some useful examples are:    :!ls  or  :!dir                 -  shows a directory listing.    :!rm  or  :!del FILENAME        -  removes file FILENAME.</p></li><li>:w FILENAME  writes the current buffer to disk with file name FILENAME.</li><li>:#,#w FILENAME  saves the lines # through # in file FILENAME.</li><li>:r FILENAME  retrieves disk file FILENAME and inserts it into thecurrent buffer following the cursor position.</li></ol></div></div><div id="outline-container-orgeb19f5e" class="outline-3"><h3 id="orgeb19f5e">LESSON 6</h3><div class="outline-text-3" id="text-orgeb19f5e"><ol class="org-ol"><li>Typing  o   opens a line BELOW the cursor and places the cursor on the openline in insert state.Typing a capital  O  opens the line ABOVE the line the cursor is on.</li><li>Type an  a  to insert text AFTER the character the cursor is on.Typing a capital  A  automatically appends text to the end of the line.</li><li>i/I Insert text at the character/Not blank</li></ol></div></div></div><div id="outline-container-org4c708be" class="outline-2"><h2 id="org4c708be">Python and R programming environment configuration</h2><div class="outline-text-2" id="text-org4c708be"></div><div id="outline-container-orgc197394" class="outline-3"><h3 id="orgc197394">Python</h3><div class="outline-text-3" id="text-orgc197394"><ul class="org-ul"><li>Configure the auto-complete mode as the spacemacs layer: auto-complete</li><li>Replace the keybinding SPC m s i to 'run python' in file package.el within python layer</li><li><p>Add the following confirmation to .spacemacs</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br></pre></td></tr></table></figure></div></li></ul></div></div><div id="outline-container-orgbefd1ea" class="outline-3"><h3 id="orgbefd1ea">R</h3><div class="outline-text-3" id="text-orgbefd1ea"><ul class="org-ul"><li>Add the following confirmation to .spacemacs</li></ul><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>For the R auto complete: after open the R file, then C-c C-c, reopen the R file</li><li>When insert src-block with org heading, add a , before the heading, to avoid mistake</li></ul></div></div></div>Last Updated 2017-04-08 Sat 11:27 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org49864e7&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org49864e7&quot;&gt;Useful keybinding&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org49864e7&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-org7219b41&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;org7219b41&quot;&gt;Memory&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-org7219b41&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;SPC f s Save a buffer&lt;/li&gt;
&lt;li&gt;SPC f S Save all opened buffers&lt;/li&gt;
&lt;li&gt;SPC b b Open or switch a buffer with helm&lt;/li&gt;
&lt;li&gt;SPC T h Select a theme using a helm buffer&lt;/li&gt;
&lt;li&gt;SPC f/p t To toggle the Neotree buffer press (project)&lt;/li&gt;
&lt;li&gt;SPC h b Open the bookmark&lt;/li&gt;
&lt;li&gt;SPC h l Resume the last helm buffers&lt;/li&gt;
&lt;li&gt;SPC s L Focus the last converted search buffer&lt;/li&gt;
&lt;li&gt;F3 In a helm buffer, convert a helm search buffer into a regular buffer&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Spacemacs" scheme="http://lengyueyang.github.io/tags/Spacemacs/"/>
    
  </entry>
  
  <entry>
    <title>Archlinux install and configuration [Archlinux 安装和配置]</title>
    <link href="http://lengyueyang.github.io/2016/02/05/Archlinux%20install%20and%20configuration/"/>
    <id>http://lengyueyang.github.io/2016/02/05/Archlinux install and configuration/</id>
    <published>2016-02-05T00:00:00.000Z</published>
    <updated>2017-04-08T03:26:15.275Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-orgc77c980" class="outline-2"><h2 id="orgc77c980">Archlinux install [安装篇]</h2><div class="outline-text-2" id="text-orgc77c980"></div><div id="outline-container-orgffa5a01" class="outline-3"><h3 id="orgffa5a01">Prepare for the installation</h3><div class="outline-text-3" id="text-orgffa5a01"><ul class="org-ul"><li>Prepare the ISO of archlinux, and brasero it into USB flash disk</li><li>Partiton: use cfdisk, use the UEFI install, the mkfs</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/dev/sda1 to UEFI boot: ef00, <span class="number">1</span>G</span><br><span class="line">/dev/sda2 to <span class="number">119</span>G</span><br><span class="line">mkfs.fat -F32 /dev/sda1</span><br><span class="line">mkfs.ext4 /dev/sda2</span><br></pre></td></tr></table></figure></div><a id="more"></a><ul class="org-ul"><li>Select mirrorlist:</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nano -w /etc/pacman.d/mirrorlist add </span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br><span class="line">Server = http://mirrors.<span class="number">163</span>.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Wireless network link</li></ul><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">iwconfig to find the name of your wireless moudule: like wlan0</span><br><span class="line">then:</span><br><span class="line">ip link set wlan0 up</span><br><span class="line">wpa_supplicant -D nl80211,wext -i wlan0 -c &lt;(wpa_passphrase "your_SSID" "your_key")</span><br><span class="line">dhcpcd wlan0</span><br><span class="line">now the wireless should be connected</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0e9cbf2" class="outline-3"><h3 id="org0e9cbf2">Basic install</h3><div class="outline-text-3" id="text-org0e9cbf2"><ul class="org-ul"><li>Mount the partition</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">muont /dev/sda2 /mnt</span><br><span class="line">mkdir -p /mnt/boot/EFI</span><br><span class="line">mount /dev/sda1 /mnt/boot/EFI</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Bbasic system install</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pacstrap /mnt base base-devel</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Generate the fstab</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">genfstab -p /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Went into the new system and update the system</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br><span class="line">nano /etc/loacle.gen  en.us &amp; en.cn <span class="comment"># remove#</span></span><br><span class="line">locale-gen</span><br><span class="line">nano /etc/locale.gen    <span class="comment"># 反注释需要的 locale</span></span><br><span class="line">locale-gen    <span class="comment"># 生成 locale</span></span><br><span class="line"><span class="built_in">echo</span> LANG=&lt;locale&gt;  &gt; /etc/locale.conf <span class="comment"># 设置默认 locale</span></span><br><span class="line">ln <span class="operator">-s</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">hwclock --systohc --utc</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Add passwd and users</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> yourname &gt; /etc/hostname</span><br><span class="line">nano /etc/hosts</span><br><span class="line">passwd <span class="number">111111</span>(<span class="number">2</span> <span class="built_in">times</span>)</span><br><span class="line">useradd -m -g users <span class="operator">-s</span> /bin/bash name</span><br><span class="line">passwd name <span class="number">111111</span>(<span class="number">2</span> <span class="built_in">times</span>)</span><br><span class="line">nano -w /etc/sudos add line name ALL=(ALL) ALL</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Grub installation</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pacman -S dosfstools grub efibootmgr</span></span><br><span class="line"><span class="comment"># grub-install --target=x86_64-efi --efi-directory=/boot/EFI --bootloader-id=arch_grub --recheck</span></span><br><span class="line"><span class="comment"># grub-mkconfig -o /boot/grub/grub.cfg</span></span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Install X windows and gnome</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pacman -S alsa-utils xorg-server xorg-xinit xorg-server-utils</span><br><span class="line">pacman -S xf86-video-intel xf86-input-synaptics</span><br><span class="line">pacman -S gnome gnome-extra</span><br><span class="line">systemctl <span class="built_in">enable</span> gdm.service</span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager.service</span><br><span class="line"><span class="built_in">exit</span> </span><br><span class="line">umount /mnt/boot/EFI</span><br><span class="line">umount /mnt</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org84b16e0" class="outline-3"><h3 id="org84b16e0">Software install</h3><div class="outline-text-3" id="text-org84b16e0"><ul class="org-ul"><li>Yaourt installation</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo nano -w /etc/pacman.conf</span><br><span class="line">remove <span class="comment"># before mutilib</span></span><br><span class="line">add  </span><br><span class="line">[archlinuxfr] </span><br><span class="line">Server = http://repo.archlinux.fr/<span class="variable">$arch</span></span><br><span class="line"><span class="keyword">in</span> the last line</span><br><span class="line"><span class="keyword">then</span> <span class="built_in">exit</span></span><br><span class="line">sudo pacman -Syyuu</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Software installation</li></ul><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yaourt emacs gnome-tweak-tool firefox libreoffice clementine vlc smplayer vim gimp shotwell blender impressive r osdlyrics stardict gnome-search-tool dropbox</span><br><span class="line">yaourt wqy-microhei mendeleydesktop  wps acroread acroread-chinese-fonts texstudio</span><br><span class="line">pacman codecs (nedded)</span><br></pre></td></tr></table></figure></div><ul class="org-ul"><li>Install textlive as the peking BBS</li></ul></div></div></div><div id="outline-container-orga86fadf" class="outline-2"><h2 id="orga86fadf">Configuration [配置篇]</h2><div class="outline-text-2" id="text-orga86fadf"></div><div id="outline-container-orga847494" class="outline-3"><h3 id="orga847494">Fcitx</h3><div class="outline-text-3" id="text-orga847494"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx fcitx-im fcitx-configtool ibus</span><br><span class="line">sudo cp /usr/bin/ibus-daemon /usr/bin/ibus-daemon.cp</span><br><span class="line">sudo rm -rf /usr/bin/ibus-daemon</span><br><span class="line">sudo gsettings <span class="built_in">set</span> org.gnome.settings-daemon.plugins.keyboard active <span class="literal">false</span></span><br><span class="line">sudo nano -w .xprofile add</span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">"@im=fcitx"</span></span><br><span class="line">yaourt fcitx-googlepinyin fcitx-sogoupinyin</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org5d3573d" class="outline-3"><h3 id="org5d3573d">Web to hidden</h3><div class="outline-text-3" id="text-org5d3573d"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yaourt lantern</span><br><span class="line">Add new firefox autoproxy server</span><br><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span> <span class="number">8787</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> lantern.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge131429" class="outline-3"><h3 id="orge131429">Startdict</h3><div class="outline-text-3" id="text-orge131429"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S startdict</span><br><span class="line">cp dict /usr/share/stardict/dic</span><br><span class="line">cp WyabdcRealPeopleTTS /usr/share/WyabdcRealPeopleTTS</span><br><span class="line">cp startdict config /home</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org7da3417" class="outline-3"><h3 id="org7da3417">Samba</h3><div class="outline-text-3" id="text-org7da3417"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/samba/smb.conf.default /etc/samba/smb.conf</span><br><span class="line">sudo systemctl <span class="built_in">enable</span>/start smbd.service nmbd.service</span><br><span class="line">sudo systemctl start/<span class="built_in">enable</span> cups</span><br><span class="line">add printer</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org4af6dc3" class="outline-3"><h3 id="org4af6dc3">Bumblebee</h3><div class="outline-text-3" id="text-org4af6dc3"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S bumblebee mesa nvidia nvidia-settings xf86-video-intel</span><br><span class="line">sudo gpasswd <span class="operator">-a</span> user bumblebee</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> bumblebeed.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org35a879d" class="outline-3"><h3 id="org35a879d">Firefox</h3><div class="outline-text-3" id="text-org35a879d"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp config</span><br><span class="line">rm .mozilla/Firefox/<span class="number">9999</span>/.parentlock</span><br><span class="line">(bookmaker add-ons: noscript autopager autoproxy stumbleupon deafaultzoom xnot instantfox flashlock videodownloadhelper greasemonkey allsidebar downloadstatbar zotero firegesture)</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8418f34" class="outline-3"><h3 id="org8418f34">Dnsmasq: maybe out of data</h3><div class="outline-text-3" id="text-org8418f34"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/NetworkManager/dispatcher.d/localhost-prepend</span><br><span class="line">add</span><br><span class="line"><span class="shebang">#!/bin/bash                                       </span></span><br><span class="line"><span class="comment"># Prepend localhost to resolv.conf for dnsmasq</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ ! $(grep <span class="number">127.0</span>.<span class="number">0.1</span> /etc/resolv.conf) ]]; <span class="keyword">then</span></span><br><span class="line">  sed -i <span class="string">'1s|^|nameserver 127.0.0.1\n|'</span> /etc/resolv.conf</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">sudo chmod +x /etc/NetworkManager/dispatcher.d/localhost-prepend</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orga3bc792" class="outline-2"><h2 id="orga3bc792">Questions [问题篇]</h2><div class="outline-text-2" id="text-orga3bc792"></div><div id="outline-container-org0cc3b0f" class="outline-3"><h3 id="org0cc3b0f">GNOME3.6 文件夹默认打开方式关联问题</h3><div class="outline-text-3" id="text-org0cc3b0f"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Edit /usr/share/applications/audacious.desktop </span><br><span class="line">and remove following line:</span><br><span class="line">MimeType=inode/directory;</span><br><span class="line">sudo nano /usr/share/applications/mimeinfo.cache</span><br><span class="line">sudo gedit /usr/share/applications/mimeinfo.cache</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org20228c5" class="outline-3"><h3 id="org20228c5">Add module auto</h3><div class="outline-text-3" id="text-org20228c5"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/modules-load.d/virtio-net.conf</span><br><span class="line"><span class="comment">#Load 'virtio-net.ko' at boot.</span></span><br><span class="line">virtio-net</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgc542ba5" class="outline-3"><h3 id="orgc542ba5">LIWORD start fonts problem</h3><div class="outline-text-3" id="text-orgc542ba5"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/fonts/conf.d/<span class="number">65</span>-nonlatin.conf</span><br><span class="line">save </span><br><span class="line"><span class="keyword">then</span> open LIWORD is ok.</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgceb3d25" class="outline-3"><h3 id="orgceb3d25">Emacs fcitx</h3><div class="outline-text-3" id="text-orgceb3d25"><div class="org-src-container"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo nano -w .bashrc add</span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">"@im=fcitx"</span></span><br></pre></td></tr></table></figure></div></div></div></div>Last Updated 2017-04-08 Sat 11:26 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-orgc77c980&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;orgc77c980&quot;&gt;Archlinux install [安装篇]&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-orgc77c980&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-orgffa5a01&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;orgffa5a01&quot;&gt;Prepare for the installation&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-orgffa5a01&quot;&gt;
&lt;ul class=&quot;org-ul&quot;&gt;
&lt;li&gt;Prepare the ISO of archlinux, and brasero it into USB flash disk&lt;/li&gt;

&lt;li&gt;Partiton: use cfdisk, use the UEFI install, the mkfs&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;org-src-container&quot;&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/dev/sda1 to UEFI boot: ef00, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/dev/sda2 to &lt;span class=&quot;number&quot;&gt;119&lt;/span&gt;G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkfs.fat -F32 /dev/sda1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkfs.ext4 /dev/sda2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/div&gt;
    
    </summary>
    
      <category term="LINUX" scheme="http://lengyueyang.github.io/categories/LINUX/"/>
    
    
      <category term="Linux" scheme="http://lengyueyang.github.io/tags/Linux/"/>
    
      <category term="Archlinux" scheme="http://lengyueyang.github.io/tags/Archlinux/"/>
    
  </entry>
  
  <entry>
    <title>Org-mode test</title>
    <link href="http://lengyueyang.github.io/2016/01/30/Org-mode%20test/"/>
    <id>http://lengyueyang.github.io/2016/01/30/Org-mode test/</id>
    <published>2016-01-30T00:00:00.000Z</published>
    <updated>2017-04-08T03:13:53.532Z</updated>
    
    <content type="html"><![CDATA[<div id="outline-container-org150ca4c" class="outline-2"><h2 id="org150ca4c">Orgmode</h2><div class="outline-text-2" id="text-org150ca4c"></div><div id="outline-container-orgf7b4c7e" class="outline-3"><h3 id="orgf7b4c7e">Why orgmode</h3><div class="outline-text-3" id="text-orgf7b4c7e"><div class="org-src-container"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">consol.log(<span class="string">"hello"</span>);</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org5e143a5" class="outline-3"><h3 id="org5e143a5">Insert html</h3><div class="outline-text-3" id="text-org5e143a5"><a id="more"></a></div></div></div>Last Updated 2017-04-08 Sat 11:13 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="noopener">hexo-renderer-org</a> with <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.3.1 (<a href="http://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.2)]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;outline-container-org150ca4c&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;org150ca4c&quot;&gt;Orgmode&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-org150ca4c&quot;&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-orgf7b4c7e&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;orgf7b4c7e&quot;&gt;Why orgmode&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-orgf7b4c7e&quot;&gt;
&lt;div class=&quot;org-src-container&quot;&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;consol.log(&lt;span class=&quot;string&quot;&gt;&quot;hello&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;outline-container-org5e143a5&quot; class=&quot;outline-3&quot;&gt;
&lt;h3 id=&quot;org5e143a5&quot;&gt;Insert html&lt;/h3&gt;
&lt;div class=&quot;outline-text-3&quot; id=&quot;text-org5e143a5&quot;&gt;
    
    </summary>
    
      <category term="EMACS" scheme="http://lengyueyang.github.io/categories/EMACS/"/>
    
    
      <category term="Emacs" scheme="http://lengyueyang.github.io/tags/Emacs/"/>
    
      <category term="Org-mode" scheme="http://lengyueyang.github.io/tags/Org-mode/"/>
    
  </entry>
  
</feed>
