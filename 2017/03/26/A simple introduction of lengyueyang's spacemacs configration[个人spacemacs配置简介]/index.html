<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Spaceacs,lengyueyang,Configuration," />





  <link rel="alternate" href="/atom.xml" title="深度识医" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Introduction: Emacs Configuration in an Org File   I used spacemacs recently, org-mode is my favourite package of emacs,  I use org-mode to GTD, write slide and documents, so I want to use org-mode t">
<meta name="keywords" content="Spaceacs,lengyueyang,Configuration">
<meta property="og:type" content="article">
<meta property="og:title" content="A simple introduction of lengyueyang's spacemacs configration[个人 spacemacs 配置简介]">
<meta property="og:url" content="http://lengyueyang.github.io/2017/03/26/A simple introduction of lengyueyang's spacemacs configration[个人spacemacs配置简介]/index.html">
<meta property="og:site_name" content="深度识医">
<meta property="og:description" content="Introduction: Emacs Configuration in an Org File   I used spacemacs recently, org-mode is my favourite package of emacs,  I use org-mode to GTD, write slide and documents, so I want to use org-mode t">
<meta property="og:updated_time" content="2017-04-08T03:29:11.333Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A simple introduction of lengyueyang's spacemacs configration[个人 spacemacs 配置简介]">
<meta name="twitter:description" content="Introduction: Emacs Configuration in an Org File   I used spacemacs recently, org-mode is my favourite package of emacs,  I use org-mode to GTD, write slide and documents, so I want to use org-mode t">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://lengyueyang.github.io/2017/03/26/A simple introduction of lengyueyang's spacemacs configration[个人spacemacs配置简介]/"/>





  <title> A simple introduction of lengyueyang's spacemacs configration[个人 spacemacs 配置简介] | 深度识医 </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?03623c427d40ea3a0d397622146ba575";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">深度识医</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">究天人之际    成一家之言</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'an_gSDgQ79xwY9L1qx4U','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                A simple introduction of lengyueyang's spacemacs configration[个人 spacemacs 配置简介]
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-26T08:00:00+08:00" content="2017-03-26">
              2017-03-26
            </time>
          </span>

          
            <span id="busuanzi_container_page_pv">&nbsp;&nbsp;|&nbsp;&nbsp;
            阅读量 <span id="busuanzi_value_page_pv"></span> 次</span>
          


          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/EMACS/" itemprop="url" rel="index">
                    <span itemprop="name">EMACS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/03/26/A simple introduction of lengyueyang's spacemacs configration[个人spacemacs配置简介]/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/26/A simple introduction of lengyueyang's spacemacs configration[个人spacemacs配置简介]/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        


<div id="outline-container-org1d9bb47" class="outline-2">
<h2 id="org1d9bb47">Introduction: Emacs Configuration in an Org File</h2>
<div class="outline-text-2" id="text-org1d9bb47">
<p>
I used spacemacs recently, org-mode is my favourite package of emacs, 
I use org-mode to GTD, write slide and documents, so I want to use org-mode to 
manager may own configuration of emacs beyond spacemacs.
</p>
<a id="more"></a>
<p>
After searched in google and with my research, I found the way below,
I want to manager my own emacs configuration from now (<span class="timestamp-wrapper"><span class="timestamp">[2016-11-07 Mon 21:00]</span></span>).
</p>

<p>
You could found my org config file in <a href="https://github.com/lengyueyang/spacemacs-lengyue" target="_blank" rel="external">https://github.com/lengyueyang/spacemacs-lengyue</a>
</p>
</div>

<div id="outline-container-orgaf48dfd" class="outline-3">
<h3 id="orgaf48dfd">Custom.el setup</h3>
<div class="outline-text-3" id="text-orgaf48dfd">
<p>
In order to reduce the size of <code>init.el</code> in <code>.spacemacs</code> folder, create a <code>custom.el</code> file
in <code>.spaceamcs</code> folder, then add the flowing code to the end the <code>init.el</code>, and copy the
same location code to <code>custom.el</code> at the same time.
</p>

<p>
<b><i>Don't export this code, so use example</i></b>
</p>

<pre class="example">

(setq custom-file (expand-file-name "custom.el" dotspacemacs-directory))
(load custom-file 'no-error 'no-message)

</pre>
</div>
</div>

<div id="outline-container-org9326f30" class="outline-3">
<h3 id="org9326f30">Org-mode to customize emacs configuration</h3>
<div class="outline-text-3" id="text-org9326f30">
<p>
Add the follow code to <code>.inti.el</code> part <code>defun dotspacemacs/user-config ()</code>
</p>

<p>
<b><i>Don't export this code, so use example</i></b>
</p>

<pre class="example">

(require 'ob-tangle)
(org-babel-load-file
  (expand-file-name "lengyueyang.org"
                    dotspacemacs-directory))

</pre>
</div>
</div>

<div id="outline-container-org2be7bc6" class="outline-3">
<h3 id="org2be7bc6">Req-package</h3>
<div class="outline-text-3" id="text-org2be7bc6">
<p>
<a href="https://github.com/edvorg/req-package" target="_blank" rel="external">req-package</a> is a wrapper on top of <a href="https://github.com/jwiegley/use-package" target="_blank" rel="external">use-package</a>, a package dependency management
tool. The documentation for <code>use-package</code> is immensely helpful for figuring out
how to describe package dependencies and settings. <code>req-package</code> adds the
<code>:require</code> keyword which allows us to define dependencies between related
packages.
</p>
</div>

<div id="outline-container-orga5526ea" class="outline-4">
<h4 id="orga5526ea">Initialize req-package</h4>
<div class="outline-text-4" id="text-orga5526ea">
<p>
With the preceding process complete, we just need to add the following
line to our init file to begin using <code>req-package</code>:
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'req-package</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org83a4648" class="outline-4">
<h4 id="org83a4648">Start loading packages in right order</h4>
<div class="outline-text-4" id="text-org83a4648">
<p>
To start loading packages in right order, we need to added following in the last
of emacs config.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package-finish</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgae1abe5" class="outline-2">
<h2 id="orgae1abe5">Keybinding</h2>
<div class="outline-text-2" id="text-orgae1abe5">
<p>
Global keybindings of emacs but for specific customization with keybinding, like some
org related keybindings in Org-mode configuration part.
</p>
</div>

<div id="outline-container-org82bea19" class="outline-3">
<h3 id="org82bea19">F2 to open my init file</h3>
<div class="outline-text-3" id="text-org82bea19">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> open-my-init-file<span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> <span class="string">"~/.spacemacs.d/lengyueyang.org"</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f2&amp;gt;"</span>)</span> <span class="quoted">'open-my-init-file</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oo"</span> <span class="quoted">'open-my-init-file</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgfa3a403" class="outline-3">
<h3 id="orgfa3a403">F3 to open stardict</h3>
<div class="outline-text-3" id="text-orgfa3a403">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'chinese-yasdcv</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f3&amp;gt;"</span>)</span> <span class="quoted">'youdao-dictionary-search-at-point+</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ok"</span> <span class="string">"Keybindings"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oky"</span> <span class="quoted">'yasdcv-translate-at-point</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oks"</span> <span class="quoted">'youdao-dictionary-search-from-input</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oki"</span> <span class="quoted">'youdao-dictionary-search-at-point+</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgbb3fa4b" class="outline-3">
<h3 id="orgbb3fa4b">F8 to checkout the spelling of words</h3>
<div class="outline-text-3" id="text-orgbb3fa4b">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f8&amp;gt;"</span>)</span> <span class="quoted">'flyspell-correct-previous-word-generic</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"okf"</span> <span class="quoted">'flyspell-correct-previous-word-generic</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org145aa36" class="outline-3">
<h3 id="org145aa36">Org-iswitch</h3>
<div class="outline-text-3" id="text-org145aa36">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oa"</span> <span class="quoted">'org-agenda-list</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c b"</span>)</span> <span class="quoted">'org-iswitchb</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"okb"</span> <span class="quoted">'org-iswitchb</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgbf310f8" class="outline-3">
<h3 id="orgbf310f8">Bookmark keybindings reconfiguration</h3>
<div class="outline-text-3" id="text-orgbf310f8">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"om"</span> <span class="string">"Bookmark"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oms"</span> <span class="quoted">'bookmark-set</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omr"</span> <span class="quoted">'bookmark-rename</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omd"</span> <span class="quoted">'bookmark-delete</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"omj"</span> <span class="quoted">'counsel-bookmark</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org9b5b2d7" class="outline-2">
<h2 id="org9b5b2d7">Spacemacs better defaults</h2>
<div class="outline-text-2" id="text-org9b5b2d7">
<p>
Include the configuration of spacemacs itself layers and better use of its defaults layers.
</p>
</div>

<div id="outline-container-org803197a" class="outline-3">
<h3 id="org803197a">Markdown mode</h3>
<div class="outline-text-3" id="text-org803197a">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">configuration-layer/layer-usedp</span> <span class="quoted">'markdown</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.text$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.md$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.mdown$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.mdt$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> auto-mode-alist <span class="list">(<span class="keyword">cons</span> <span class="quoted">'(<span class="string">"\\.markdown$"</span> . gfm-mode)</span> auto-mode-alist)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org8645168" class="outline-3">
<h3 id="org8645168">Spacemacs-layout</h3>
<div class="outline-text-3" id="text-org8645168">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> lengyueyang-configuration-path <span class="string">"~/.spacemacs.d/"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/load-my-layout <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">persp-load-state-from-file</span> <span class="list">(<span class="keyword">concat</span> lengyueyang-configuration-path <span class="string">"lengyueyang"</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/save-my-layout <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">persp-save-state-to-file</span> <span class="list">(<span class="keyword">concat</span> lengyueyang-configuration-path <span class="string">"lengyueyang"</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ol"</span> <span class="string">"Layout-lengyueyang"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oll"</span> <span class="quoted">'lengyueyang/load-my-layout</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ols"</span> <span class="quoted">'lengyueyang/save-my-layout</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;(defun lengyueyang-misc/post-init-persp-mode ()</span></span><br><span class="line"><span class="comment">;;  (setq persp-kill-foreign-buffer-action 'kill)</span></span><br><span class="line"><span class="comment">;;  (setq persp-lighter nil)</span></span><br><span class="line"><span class="comment">;;  (when (fboundp 'spacemacs|define-custom-layout)</span></span><br><span class="line"><span class="comment">;;    (spacemacs|define-custom-layout "@Cocos2D-X"</span></span><br><span class="line"><span class="comment">;;      :binding "c"</span></span><br><span class="line"><span class="comment">;;      :body</span></span><br><span class="line"><span class="comment">;;      (find-file "~/cocos2d-x/cocos/ui/UIWidget.cpp")</span></span><br><span class="line"><span class="comment">;;      (split-window-right)</span></span><br><span class="line"><span class="comment">;;      (find-file "~/cocos2d-x/cocos/cocos2d.cpp"))))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgb8e93a3" class="outline-3">
<h3 id="orgb8e93a3">Deft</h3>
<div class="outline-text-3" id="text-orgb8e93a3">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f5&amp;gt;"</span>)</span> <span class="quoted">'deft</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> deft-extensions <span class="quoted">'(<span class="string">"txt"</span> <span class="string">"tex"</span> <span class="string">"org"</span> <span class="string">"mk"</span> <span class="string">"makedown"</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> deft-directory <span class="string">"~/Emacs-lengyue/Wiki-lengyue"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org9e38205" class="outline-3">
<h3 id="org9e38205">Elfeed</h3>
<div class="outline-text-3" id="text-org9e38205">
<p>
<a href="https://github.com/lujun9972/emacs-document/blob/master/emacs-common/%E5%9C%A8Emacs%E4%B8%AD%E7%94%A8elfeed%E9%98%85%E8%AF%BB%E4%BD%A0%E7%9A%84RSS-feeds.org" target="_blank" rel="external">在 Emacs 中用 elfeed 阅读你的 RSS-feeds</a>
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> elfeed-org</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">elfeed-org</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> rmh-elfeed-org-files <span class="list">(<span class="keyword">list</span> <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Elfeed.org"</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orga282b75" class="outline-3">
<h3 id="orga282b75">Gnus</h3>
<div class="outline-text-3" id="text-orga282b75">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="comment">;; Get email, and store in nnml</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-secondary-select-methods</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (nntp <span class="string">"gmane"</span></span><br><span class="line">              (nntp-address <span class="string">"news.gmane.org"</span>))</span><br><span class="line">        (nntp <span class="string">"news.eternal-september.org"</span>)</span><br><span class="line">        (nntp <span class="string">"nntp.aioe.org"</span>)</span><br><span class="line">        (nntp <span class="string">"news.gwene.org"</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-secondary-select-methods</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (nnimap <span class="string">"gmail"</span></span><br><span class="line">                (nnimap-address</span><br><span class="line">                 <span class="string">"imap.gmail.com"</span>)</span><br><span class="line">                (nnimap-server-port <span class="number">993</span>)</span><br><span class="line">                (nnimap-stream ssl))</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Send email via Gmail:</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-send-mail-function <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      smtpmail-default-smtp-server <span class="string">"smtp.gmail.com"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Archive outgoing email in Sent folder on imap.gmail.com:</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-message-archive-method <span class="quoted">'(nnimap <span class="string">"imap.gmail.com"</span>)</span></span><br><span class="line">      gnus-message-archive-group <span class="string">"[Gmail]/Sent Mail"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; set return email address based on incoming email address</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> gnus-posting-styles</span><br><span class="line">      <span class="quoted">'(((header <span class="string">"to"</span> <span class="string">"address@outlook.com"</span>)</span><br><span class="line">         (address <span class="string">"address@outlook.com"</span>))</span><br><span class="line">        ((header <span class="string">"to"</span> <span class="string">"address@gmail.com"</span>)</span><br><span class="line">         (address <span class="string">"address@gmail.com"</span>)))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; store email in ~/gmail directory</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> nnml-directory <span class="string">"~/Documents/Gnus"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-directory <span class="string">"~/Documents/Gnus"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org49dcd4d" class="outline-3">
<h3 id="org49dcd4d">Mu4e</h3>
<div class="outline-text-3" id="text-org49dcd4d">
<ul class="org-ul">
<li><a href="https://github.com/larstvei/dot-emacs" target="_blank" rel="external">larstvei/dot-emacs: My Emacs configurations written in Org mode</a></li>
<li><a href="http://wenshanren.org/?p=111" target="_blank" rel="external">mu4e: an E-mail Client for Emacs | 肉山博客 (Wenshan's Blog)</a></li>
<li><a href="http://coldnew.github.io/blog/2016/01-02_mu4e/" target="_blank" rel="external">在 emacs 下使用 mu4e 收發郵件 | coldnew's blog</a></li>
<li><a href="http://blog.csdn.net/csfreebird/article/details/52973188" target="_blank" rel="external">spacemacs email layer - 博客频道 - CSDN.NET</a></li>
<li><a href="https://github.com/howardabrams/dot-files/blob/master/emacs-mail.org" target="_blank" rel="external">dot-files/emacs-mail.org at master · howardabrams/dot-files</a></li>
<li><a href="https://guso.ml/search?q=offlinemap+%E5%A4%9A%E5%B8%90%E6%88%B7&amp;prmd=ivns&amp;ei=pVc8WPPzNsv0vgTT2pn4Cw&amp;start=10&amp;sa=N" target="_blank" rel="external">offlinemap 多帐户 - Google 搜索</a></li>
<li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/mu4e" target="_blank" rel="external">spacemacs/layers/+email/mu4e at master · syl20bnr/spacemacs</a></li>
<li><a href="http://www.djcbsoftware.nl/code/mu/mu4e/index.html" target="_blank" rel="external">Mu4e 0.9.16 user manual: Top</a></li>
<li><a href="https://github.com/lujun9972/emacs-document/blob/master/org-mode/%E7%94%A8org-mime%E5%9C%A8org-mode%E4%B8%AD%E5%8F%91%E9%80%81html%E9%82%AE%E4%BB%B6.org" target="_blank" rel="external">emacs-document/用 org-mime 在 org-mode 中发送 html 邮件.org at master · lujun9972/emacs-document</a></li>
<li><a href="https://emacs.lujianmei.com/03-For-an-editor/init-mu4e.html" target="_blank" rel="external">Mu4e 邮件管理 · 谁说 Emacs 不好玩？</a></li>
<li><a href="http://www.bagualu.net/wordpress/archives/6555" target="_blank" rel="external">emacs 中的 email 客户端 mu4e | 猎数博客</a></li>
<li><a href="https://github.com/syl20bnr/spacemacs/tree/master/layers/+email/gnus#org-mime-in-org-layer" target="_blank" rel="external">spacemacs/layers/+email/gnus at master · syl20bnr/spacemacs</a></li>
</ul>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/mu4e"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-account-alist</span><br><span class="line">      <span class="quoted">'((<span class="string">"Gmail"</span></span><br><span class="line">         ;; Under each account, set the account-specific variables you want.</span><br><span class="line">         (mu4e-sent-messages-behavior delete)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Gmail/[Gmail].Sent Mail"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Gmail/[Gmail].Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"maoxiaoweihl@gmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">        (<span class="string">"Foxmail"</span></span><br><span class="line">         (mu4e-sent-messages-behavior sent)</span><br><span class="line">         (mu4e-sent-folder <span class="string">"/Foxmail/Sent Messages"</span>)</span><br><span class="line">         (mu4e-drafts-folder <span class="string">"/Foxmail/Drafts"</span>)</span><br><span class="line">         (user-mail-address <span class="string">"maoxiaowei1988@foxmail.com"</span>)</span><br><span class="line">         (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">        ;; (<span class="string">"Lengyue-163"</span></span><br><span class="line">        ;;  (mu4e-sent-messages-behavior sent)</span><br><span class="line">        ;;  (mu4e-sent-folder <span class="string">"/Lengyue-163/Sent Items"</span>)</span><br><span class="line">        ;;  (mu4e-drafts-folder <span class="string">"/Lengyue-163/Drafts"</span>)</span><br><span class="line">        ;;  (user-mail-address <span class="string">"zanghuahong@163.com"</span>)</span><br><span class="line">        ;;  (user-full-name <span class="string">"Mao Xiaowei"</span>))</span><br><span class="line">       )</span></span><br><span class="line">)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">mu4e/mail-account-reset</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Set up some common mu4e variables</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir <span class="string">"~/Documents/Mu4e"</span></span><br><span class="line">      mu4e-trash-folder <span class="string">"/Gmail/Trash"</span></span><br><span class="line">      mu4e-refile-folder <span class="string">"/Gmail/Archive"</span></span><br><span class="line">      <span class="comment">;; mu4e-get-mail-command "mbsync -a"</span></span><br><span class="line">      mu4e-update-interval <span class="literal">nil</span></span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">nil</span></span><br><span class="line">      mu4e-view-show-images <span class="literal">t</span></span><br><span class="line">      mu4e-view-show-addresses <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Mail directory shortcuts</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-maildir-shortcuts</span><br><span class="line">      <span class="quoted">'(</span><br><span class="line">        (<span class="string">"/Foxmail/INBOX"</span> . ?f)</span><br><span class="line">        (<span class="string">"/Foxmail/Drafts"</span> . ?d)</span><br><span class="line">        (<span class="string">"/Foxmail/Sent Messages"</span> . ?s)</span><br><span class="line">        (<span class="string">"/Gmail/INBOX"</span> . ?g)</span><br><span class="line">        ;; (<span class="string">"/Gmail/[Gmail].All Mail"</span> . ?a)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Drafts"</span> . ?r)</span><br><span class="line">        (<span class="string">"/Gmail/[Gmail].Sent Mail"</span> . ?e)</span><br><span class="line">        ;;(<span class="string">"/Gmail/[Gmail].Trash"</span> . ?<span class="literal">t</span>)</span><br><span class="line">        ;; (<span class="string">"/Lengyue-163/INBOX"</span> . ?i)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;; Bookmarks</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-bookmarks</span><br><span class="line">      <span class="quoted">`((<span class="string">"flag:unread AND NOT flag:trashed"</span> <span class="string">"Unread messages"</span> ?u)</span><br><span class="line">        (<span class="string">"date:today..now"</span> <span class="string">"Today's messages"</span> ?<span class="literal">t</span>)</span><br><span class="line">        (<span class="string">"date:7d..now"</span> <span class="string">"Last 7 days"</span> ?w)</span><br><span class="line">        (<span class="string">"mime:image/*"</span> <span class="string">"Messages with images"</span> ?p)</span><br><span class="line">        (,(mapconcat 'identity</span><br><span class="line">                     (mapcar</span><br><span class="line">                      (lambda (maildir)</span><br><span class="line">                        (concat <span class="string">"maildir:"</span> (car maildir)))</span><br><span class="line">                      mu4e-maildir-shortcuts) <span class="string">" OR "</span>)</span><br><span class="line">         <span class="string">"All inboxes"</span> ?i))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">mu4e-alert-set-default-style</span> <span class="quoted">'libnotify</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">alert-add-rule</span> <span class="keyword">:category</span> <span class="string">"mu4e-alert"</span> <span class="keyword">:style</span> <span class="quoted">'fringe</span> <span class="keyword">:predicate</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">_</span>)</span> <span class="list">(<span class="keyword">string-match-p</span> <span class="string">"^mu4e-"</span> <span class="list">(<span class="keyword">symbol-name</span> major-mode)</span>)</span>)</span> <span class="keyword">:continue</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">mu4e-alert-enable-notifications</span>)</span></span><br><span class="line"><span class="comment">;; (setq mu4e-alert-email-notification-types '(count))</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-alert-email-notification-types <span class="quoted">'(subjects)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq mu4e-enable-notifications t)</span></span><br><span class="line"><span class="comment">;; (with-eval-after-load 'mu4e-alert</span></span><br><span class="line">  <span class="comment">;; Enable Desktop notifications</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifications)) ; For linux</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'libnotify))  ; Alternative for linux</span></span><br><span class="line">  <span class="comment">;; (mu4e-alert-set-default-style 'notifier))   ; For Mac OSX (through the</span></span><br><span class="line">                                        <span class="comment">; terminal notifier app)</span></span><br><span class="line"><span class="comment">;; (mu4e-alert-set-default-style 'growl))      ; Alternative for Mac OSX</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq mu4e-enable-mode-line t)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-get-mail-command <span class="string">"offlineimap"</span>)</span></span><br><span class="line"><span class="comment">;; Fetch mail in 60 sec interval</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-update-interval <span class="number">1200</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'mu4e-contrib</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-html2text-command <span class="quoted">'mu4e-shr2text</span>)</span></span><br><span class="line"><span class="comment">;; try to emulate some of the eww key-bindings</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'mu4e-view-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;tab&amp;gt;"</span>)</span> <span class="quoted">'shr-next-link</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">local-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;backtab&amp;gt;"</span>)</span> <span class="quoted">'shr-previous-link</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; something about ourselves</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'smtpmail</span>)</span>  </span><br><span class="line"><span class="list">(<span class="keyword">setq</span> user-mail-address <span class="string">"maoxiaowei1988@foxmail.com"</span>  </span><br><span class="line">      user-full-name <span class="string">"Xiaowei, Mao"</span></span><br><span class="line">      smtpmail-stream-type <span class="quoted">'starttls</span></span><br><span class="line">      starttls-use-gnutls <span class="literal">t</span></span><br><span class="line">      mu4e-compose-signature  </span><br><span class="line">      <span class="list">(<span class="keyword">concat</span>  </span><br><span class="line">       <span class="string">"Xiaowei Mao\n"</span>  </span><br><span class="line">       <span class="string">"Email: maoxiaoweihl@gmail.com\n"</span>  </span><br><span class="line">       <span class="string">"Email: maoxiaowei1988@foxmail.com\n"</span>  </span><br><span class="line">       <span class="string">"Blog: http://lengyueyang.github.io\n"</span>  </span><br><span class="line">       <span class="string">"\n"</span>)</span>  </span><br><span class="line">      mu4e-compose-signature-auto-include <span class="literal">t</span>  </span><br><span class="line">      )</span>  </span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> send-mail-function            <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      message-send-mail-function    <span class="quoted">'smtpmail-send-it</span></span><br><span class="line">      smtpmail-auth-credentials     <span class="list">(<span class="keyword">expand-file-name</span> <span class="string">"~/.authinfo"</span>)</span></span><br><span class="line">      smtpmail-stream-type          <span class="quoted">'tls</span></span><br><span class="line">      smtpmail-smtp-server          <span class="string">"smtp.qq.com"</span></span><br><span class="line">      smtpmail-smtp-service         <span class="number">465</span></span><br><span class="line">      smtpmail-smtp-user <span class="string">"maoxiaowei1988@qq.com"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> message-kill-buffer-on-exit <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; save attachment to my desktop (this can also be a function)  </span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> mu4e-attachment-dir <span class="string">"/home/lengyue/Documents/Mu4e/Attachment"</span>)</span>  </span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org1975d82" class="outline-3">
<h3 id="org1975d82">Magit</h3>
<div class="outline-text-3" id="text-org1975d82">
</div><div id="outline-container-orgc42220a" class="outline-4">
<h4 id="orgc42220a">Magit auto complete</h4>
<div class="outline-text-4" id="text-orgc42220a">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> my/dabbrev-friend-buffer <span class="list">(<span class="keyword">other-buffer</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">cond</span> <span class="list">( <span class="comment">;; ignore very large files</span></span><br><span class="line">         <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (buffer-size other-buffer) (* 1024 1024))</span></span><br><span class="line">         <span class="literal">nil</span>)</span></span><br><span class="line">        <span class="list">( <span class="comment">;; doing a magit commit - use the magit status buffer</span></span><br><span class="line">         <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">boundp</span> git-commit-mode)</span> git-commit-mode)</span></span><br><span class="line">         <span class="list">(<span class="keyword">with-current-buffer</span> other-buffer</span><br><span class="line">           <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'magit-status-mode</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">( <span class="comment">;; in projectile project - use projectile buffers</span></span><br><span class="line">         <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">buffer-file-name</span> other-buffer)</span></span><br><span class="line">              <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-remote-p</span> <span class="list">(<span class="keyword">buffer-file-name</span> other-buffer)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">projectile-project-p</span>)</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">string=</span> <span class="list">(<span class="keyword">projectile-project-name</span>)</span></span><br><span class="line">                  <span class="list">(<span class="keyword">with-current-buffer</span> other-buffer</span><br><span class="line">                    <span class="list">(<span class="keyword">projectile-project-name</span>)</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">t</span> <span class="comment">;; fallback - same mod</span></span><br><span class="line">         <span class="list">(<span class="keyword">dabbrev--same-major-mode-p</span> other-buffer)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'company-backends</span>)</span> <span class="quoted">'(company-files company-en-words company-dabbrev)</span>)</span>)</span></span><br><span class="line">          )</span></span><br><span class="line"></span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf584b48" class="outline-2">
<h2 id="orgf584b48">Basic setup</h2>
<div class="outline-text-2" id="text-orgf584b48">
<p>
Some basic customizaton
</p>

<p>
In emacs, we can use <code>M-x</code> to execute interactive commands, I
implement some of them to make my emacs more easy to use.
</p>
</div>

<div id="outline-container-orgbe322d5" class="outline-3">
<h3 id="orgbe322d5">Personal information setup</h3>
<div class="outline-text-3" id="text-orgbe322d5">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> user-full-name <span class="string">"lengyuyang"</span></span><br><span class="line">      user-mail-address <span class="string">"maoxiaoweihl@gmail.com"</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orge7b8cda" class="outline-3">
<h3 id="orge7b8cda">Don't ask me when kill process buffer</h3>
<div class="outline-text-3" id="text-orge7b8cda">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> kill-buffer-query-functions</span><br><span class="line">      <span class="list">(<span class="keyword">remq</span> <span class="quoted">'process-kill-buffer-query-function</span></span><br><span class="line">            kill-buffer-query-functions)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org0fe7d50" class="outline-3">
<h3 id="org0fe7d50">Set the chinese font alignment</h3>
<div class="outline-text-3" id="text-org0fe7d50">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "Inconsolata" "Source Han Sans CN" 16 20)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs//set-monospaced-font</span> <span class="string">"Fira Mono"</span> <span class="string">"Source Han Sans CN"</span> <span class="number">16</span> <span class="number">20</span>)</span></span><br><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "Fira Mono" "Wenquanyi Micro Hei" 16 20)</span></span><br><span class="line"><span class="comment">;; (spacemacs//set-monospaced-font "DejaVu Sans Mono" "Source Han Sans CN" 16 20)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgce3e32c" class="outline-3">
<h3 id="orgce3e32c">Add auto format paste code</h3>
<div class="outline-text-3" id="text-orgce3e32c">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">command</span> <span class="quoted">'(yank yank-pop)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">eval</span></span><br><span class="line">   <span class="quoted">`(defadvice ,command (after indent-region activate)</span><br><span class="line">      (and (not current-prefix-arg)</span><br><span class="line">           (member major-mode</span><br><span class="line">                   '(emacs-lisp-mode</span><br><span class="line">                     lisp-mode</span><br><span class="line">                     clojure-mode</span><br><span class="line">                     scheme-mode</span><br><span class="line">                     haskell-mode</span><br><span class="line">                     ruby-mode</span><br><span class="line">                     rspec-mode</span><br><span class="line">                     python-mode</span><br><span class="line">                     c-mode</span><br><span class="line">                     c++-mode</span><br><span class="line">                     objc-mode</span><br><span class="line">                     latex-mode</span><br><span class="line">                     js-mode</span><br><span class="line">                     plain-tex-mode))</span><br><span class="line">           (let ((mark-even-if-inactive transient-mark-mode))</span><br><span class="line">             (indent-region (region-beginning) (region-end) <span class="literal">nil</span>))))</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org8dfbe4d" class="outline-3">
<h3 id="org8dfbe4d">Simple better defaults</h3>
<div class="outline-text-3" id="text-org8dfbe4d">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-prettify-symbols-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq-default</span> fill-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defadvice</span> find-file <span class="list">(<span class="keyword">before</span> make-directory-maybe</span><br><span class="line">                             <span class="list">(<span class="keyword">filename</span> <span class="keyword">&amp;amp</span><span class="comment">;optional wildcards) activate)</span></span><br><span class="line">  <span class="string">"Create parent directory if not exists while visiting file."</span></span><br><span class="line">  <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-exists-p</span> filename)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">dir</span> <span class="list">(<span class="keyword">file-name-directory</span> filename)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> dir</span><br><span class="line">        <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-exists-p</span> dir)</span></span><br><span class="line">          <span class="list">(<span class="keyword">make-directory</span> dir <span class="literal">t</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span></span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orga9fb6d3" class="outline-3">
<h3 id="orga9fb6d3">Large file handle</h3>
<div class="outline-text-3" id="text-orga9fb6d3">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> large-file-warning-threshold <span class="number">300000000</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> spacemacs/check-large-file <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (buffer-size) 500000)</span></span><br><span class="line">    <span class="list">(<span class="keyword">progn</span> <span class="list">(<span class="keyword">fundamental-mode</span>)</span></span><br><span class="line">           <span class="list">(<span class="keyword">hl-line-mode</span> <span class="number">-1</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">executable-find</span> <span class="string">"wc"</span>)</span></span><br><span class="line">           <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (string-to-number (shell-command-to-string (format "wc -l %s" (buffer-file-name))))</span></span><br><span class="line">              <span class="number">5000</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">linum-mode</span> <span class="number">-1</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'find-file-hook</span> <span class="quoted">'spacemacs/check-large-file</span>)</span></span><br><span class="line"></span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org6081f90" class="outline-3">
<h3 id="org6081f90">Buffers&#xa0;&#xa0;&#xa0;<span class="tag"><span class="buffer">buffer</span></span></h3>
<div class="outline-text-3" id="text-org6081f90">
</div><div id="outline-container-org6b88082" class="outline-4">
<h4 id="org6b88082">Indent whole buffer</h4>
<div class="outline-text-4" id="text-org6b88082">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> indent-whole-buffer <span class="list">()</span></span><br><span class="line">  <span class="string">"Indent whole buffer."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="list">(<span class="keyword">indent-region</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org35baa9d" class="outline-4">
<h4 id="org35baa9d">Quick folding source block</h4>
<div class="outline-text-4" id="text-org35baa9d">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> quick-folding-source <span class="list">()</span></span><br><span class="line">  <span class="string">"Use emacs buildin easy to folding code."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">set-selective-display</span></span><br><span class="line">   <span class="list">(<span class="keyword">if</span> selective-display <span class="literal">nil</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org08f28ff" class="outline-3">
<h3 id="org08f28ff">Edit (Insert/Remove)</h3>
<div class="outline-text-3" id="text-org08f28ff">
</div><div id="outline-container-org918bab3" class="outline-4">
<h4 id="org918bab3">Insert U200B char</h4>
<div class="outline-text-4" id="text-org918bab3">
<p>
<code>&lt;U200B&gt;</code> character is a <code>zero width space character</code> which is nice to
use under org-mode.
</p>

<p>
For more info, please see: <a href="https://lists.gnu.org/archive/html/emacs-orgmode/2012-09/msg00155.html" target="_blank" rel="external">suggestion for org-emphasis-regexp-components: *U*nited *N*ations</a>
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> insert-U200B-char <span class="list">()</span></span><br><span class="line">  <span class="string">"Insert &amp;lt;U200B&amp;gt; char, this character is nice use in org-mode."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="string">"\ufeff"</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org6b20bd2" class="outline-4">
<h4 id="org6b20bd2">Insert empty line after current line</h4>
<div class="outline-text-4" id="text-org6b20bd2">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> insert-empty-line <span class="list">()</span></span><br><span class="line">  <span class="string">"Insert an empty line after current line and position cursor on newline."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">move-end-of-line</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">open-line</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">next-line</span> <span class="number">1</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org7d0711c" class="outline-3">
<h3 id="org7d0711c">File Handle</h3>
<div class="outline-text-3" id="text-org7d0711c">
</div><div id="outline-container-org26dee10" class="outline-4">
<h4 id="org26dee10">Reopen file as root</h4>
<div class="outline-text-4" id="text-org26dee10">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> file-reopen-as-root <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> buffer-file-name</span><br><span class="line">    <span class="list">(<span class="keyword">find-alternate-file</span></span><br><span class="line">     <span class="list">(<span class="keyword">concat</span> <span class="string">"/sudo:root@localhost:"</span></span><br><span class="line">             buffer-file-name)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org18b6613" class="outline-4">
<h4 id="org18b6613">Delete current buffer file</h4>
<div class="outline-text-4" id="text-org18b6613">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> delete-current-buffer-file <span class="list">()</span></span><br><span class="line">  <span class="string">"Removes file connected to current buffer and kills buffer."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">filename</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">buffer</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">and</span> filename <span class="list">(<span class="keyword">file-exists-p</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">ido-kill-buffer</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">yes-or-no-p</span> <span class="string">"Are you sure you want to remove this file? "</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">delete-file</span> filename)</span></span><br><span class="line">        <span class="list">(<span class="keyword">kill-buffer</span> buffer)</span></span><br><span class="line">        <span class="list">(<span class="keyword">message</span> <span class="string">"File '%s' successfully removed"</span> filename)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org0317ab4" class="outline-4">
<h4 id="org0317ab4">Rename current Buffer and file</h4>
<div class="outline-text-4" id="text-org0317ab4">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> rename-current-buffer-file <span class="list">()</span></span><br><span class="line">  <span class="string">"Renames current buffer and file it is visiting."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">filename</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">and</span> filename <span class="list">(<span class="keyword">file-exists-p</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Buffer '%s' is not visiting a file!"</span> name)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">new-name</span> <span class="list">(<span class="keyword">read-file-name</span> <span class="string">"New name: "</span> filename)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">get-buffer</span> new-name)</span></span><br><span class="line">            <span class="list">(<span class="keyword">error</span> <span class="string">"A buffer named '%s' already exists!"</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">rename-file</span> filename new-name <span class="number">1</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">rename-buffer</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">set-visited-file-name</span> new-name)</span></span><br><span class="line">          <span class="list">(<span class="keyword">set-buffer-modified-p</span> <span class="literal">nil</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">message</span> <span class="string">"File '%s' successfully renamed to '%s'"</span></span><br><span class="line">                   name <span class="list">(<span class="keyword">file-name-nondirectory</span> new-name)</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgbbf079e" class="outline-4">
<h4 id="orgbbf079e">Add executable attribute to file</h4>
<div class="outline-text-4" id="text-orgbbf079e">
<p>
Actually this command is the same as <code>chmod +x</code> but it doesn't use any shell
command, it use emacs's logior function to change file attribute.
</p>

<p>
I only make <code>owener</code> can has executable permission, not change it for gourp or
others user.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> set-file-executable<span class="list">()</span></span><br><span class="line">  <span class="string">"Add executable permissions on current file."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">set-file-modes</span> buffer-file-name</span><br><span class="line">                    <span class="list">(<span class="keyword">logior</span> <span class="list">(<span class="keyword">file-modes</span> buffer-file-name)</span> <span class="number">#o100</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">concat</span> <span class="string">"Made "</span> buffer-file-name <span class="string">" executable"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgde51598" class="outline-4">
<h4 id="orgde51598">Clone current file to new one</h4>
<div class="outline-text-4" id="text-orgde51598">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> clone-file-and-open <span class="list">(<span class="keyword">filename</span>)</span></span><br><span class="line">  <span class="string">"Clone the current buffer writing it into FILENAME and open it"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"FClone to file: "</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-restriction</span></span><br><span class="line">    <span class="list">(<span class="keyword">widen</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">write-region</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span> filename <span class="literal">nil</span> <span class="literal">nil</span> <span class="literal">nil</span> <span class="quoted">'confirm</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> filename)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org67be5d2" class="outline-3">
<h3 id="org67be5d2">Keeping files in sync</h3>
<div class="outline-text-3" id="text-org67be5d2">
<p>
By default, Emacs will not update the contents of open buffers when a file
changes on disk. This is inconvenient when switching branches in Git - as you’d
risk editing stale buffers.
</p>

<p>
This problem can be solved by:
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">global-auto-revert-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> global-auto-revert-non-file-buffers <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> auto-revert-verbose <span class="literal">nil</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> revert-without-query <span class="quoted">'(<span class="string">".*"</span>)</span>)</span> <span class="comment">;; disable revert query</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org6ac4526" class="outline-3">
<h3 id="org6ac4526">Snippet handle by yasnippet</h3>
<div class="outline-text-3" id="text-org6ac4526">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> yasnippet</span><br><span class="line">  <span class="keyword">:init</span> <span class="list">(<span class="keyword">yas-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="keyword">:mode</span> <span class="list">(<span class="string">"emacs.+/snippets/"</span> . snippet-mode)</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> yas/prompt-functions <span class="quoted">'(yas-dropdown-prompt</span><br><span class="line">                                 yas-completing-prompt</span><br><span class="line">                                 yas-ido-prompt)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> yas/snippet-dirs <span class="list">(<span class="keyword">concat</span> user-emacs-directory <span class="string">"snippets"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>

<div id="outline-container-orgda73cf4" class="outline-4">
<h4 id="orgda73cf4">Implement org-mode's easy-template like function</h4>
<div class="outline-text-4" id="text-orgda73cf4">
<p>
I really like org-mode's <code>easy-template</code> function, so I implement one called
<code>major-mode-expand</code> which will let you use easy-template like function in any
major-mode.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'yasnippet</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (defadvice yas-expand (around major-mode-expand activate)</span><br><span class="line">       <span class="string">"Try to complete a structure template before point like org-mode does.</span><br><span class="line">  This looks for strings like \"&amp;lt;e\" on an otherwise empty line and</span><br><span class="line">  expands them.</span><br><span class="line">  Before use this function, you must setup `major-mode-name'-expand-alist variable.</span><br><span class="line"></span><br><span class="line">  Take emacs-lisp-mode as example, if you wand to use &amp;lt;r to expand your snippet `require'</span><br><span class="line">  in yasnippet, you muse setup the emacs-lisp-mode-expand-alist variable.</span><br><span class="line"></span><br><span class="line">   (setq emacs-lisp-expand-alist '((\"r\" . \"require\")))"</span></span><br><span class="line">       (let* ((l (buffer-substring (point-at-bol) (point)))</span><br><span class="line">              (expand-symbol (intern (concat (symbol-name major-mode) <span class="string">"-expand-alist"</span>)))</span><br><span class="line">              (expand-alist (if (boundp expand-symbol) (symbol-value expand-symbol) <span class="literal">nil</span>))</span><br><span class="line">              a)</span><br><span class="line">         (when (and (looking-at <span class="string">"[ \t]*$"</span>)</span><br><span class="line">                    (string-match <span class="string">"^[ \t]*&amp;lt;\\([a-zA-Z]+\\)$"</span> l)</span><br><span class="line">                    (setq a (assoc (match-string <span class="number">1</span> l) expand-alist)))</span><br><span class="line">           (backward-delete-char (<span class="number">1</span>+ (length (car-safe a))))</span><br><span class="line">           (if (symbolp (cdr-safe a))</span><br><span class="line">               (funcall (cdr-safe a))</span><br><span class="line">             (insert (cdr-safe a)))</span><br><span class="line">           <span class="literal">t</span>)</span><br><span class="line">         ad-do-it))</span><br><span class="line">     )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>

<p>
Take emacs-lisp-mode as example, if I want to use <code>&lt;r</code> and press <code>TAB</code>
then yasnippet will expand the command, just add following code:
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> emacs-lisp-mode-expand-alist <span class="quoted">'((<span class="string">"r"</span> . <span class="string">"require"</span>))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>

<p>
For c-mode, just do the same but change the relative
<b>major-mode-expand-alist</b> like following
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> c-mode-expand-alist <span class="quoted">'((<span class="string">"i"</span> . <span class="string">"include"</span>))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org6edcda0" class="outline-3">
<h3 id="org6edcda0">Debug</h3>
<div class="outline-text-3" id="text-org6edcda0">
</div><div id="outline-container-orge71db9f" class="outline-4">
<h4 id="orge71db9f">Eval emacs buffer until error</h4>
<div class="outline-text-4" id="text-orge71db9f">
<p>
A really nice command help me to find error on elisp buffer.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> eval-buffer-until-error <span class="list">()</span></span><br><span class="line">  <span class="string">"Evaluate emacs buffer until error occured."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">while</span> <span class="literal">t</span> <span class="list">(<span class="keyword">eval</span> <span class="list">(<span class="keyword">read</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orge52b490" class="outline-2">
<h2 id="orge52b490">Org-mode configuration</h2>
<div class="outline-text-2" id="text-orge52b490">
<p>
This part is the customization to org-mode.
</p>
</div>

<div id="outline-container-org2641239" class="outline-3">
<h3 id="org2641239">Better defaults to org</h3>
<div class="outline-text-3" id="text-org2641239">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"> <span class="comment">;; (add-to-list 'auto-mode-alist '("\\.\\(org\\|org_archive\\|txt\\)$" . org-mode))</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-habit</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">setq</span> org-startup-indented <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">defun</span> org-mode-my-init <span class="list">()</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;#215;"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"*"</span>)</span>)</span></span><br><span class="line">   <span class="comment">;;(define-key org-mode-map (kbd "&amp;#65293;") (kbd "-"))</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;#65288;"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"("</span>)</span>)</span></span><br><span class="line">   <span class="list">(<span class="keyword">define-key</span> org-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;#65289;"</span>)</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">")"</span>)</span>)</span></span><br><span class="line">   )</span></span><br><span class="line"> <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'org-mode-my-init</span>)</span></span><br><span class="line"></span><br><span class="line"> <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'smartparens-strict-mode</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-startup-with-inline-images <span class="literal">nil</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-image-actual-width <span class="quoted">(<span class="keyword">quote</span> (<span class="number">600</span>))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-format-latex-options <span class="list">(<span class="keyword">plist-put</span> org-format-latex-options <span class="keyword">:scale</span> <span class="number">2.0</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"ou"</span> <span class="string">"Org-latex-preview"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ouu"</span> <span class="quoted">'org-toggle-latex-fragment</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ouo"</span> <span class="quoted">'org-preview-latex-fragment</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgab7ea8c" class="outline-3">
<h3 id="orgab7ea8c">Org-mode auto complete</h3>
<div class="outline-text-3" id="text-orgab7ea8c">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">load</span> <span class="string">"~/.spacemacs.d/package/emacscompanywords/company-words-discn"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span></span><br><span class="line">          <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">            <span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'company-backends</span>)</span> <span class="quoted">'(company-files company-en-words company-dabbrev)</span>)</span>)</span></span><br><span class="line">          )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org61b240e" class="outline-3">
<h3 id="org61b240e">Org-agenda font size</h3>
<div class="outline-text-3" id="text-org61b240e">
<p>
Changed the org-agenda font size with the below link methods
<a href="https://emacs-china.org/t/agenda-view/1392" target="_blank" rel="external">https://emacs-china.org/t/agenda-view/1392</a>
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">custom-set-faces</span></span><br><span class="line"> <span class="quoted">'(org-agenda-done ((<span class="literal">t</span> (:foreground <span class="string">"#86dc2f"</span> :height <span class="number">1.0</span>))))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">custom-set-faces</span></span><br><span class="line"> <span class="quoted">'(org-scheduled-today ((<span class="literal">t</span> (:foreground <span class="string">"#bc6ec5"</span> :height <span class="number">1.0</span>))))</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orga03688a" class="outline-3">
<h3 id="orga03688a">Extend org-mode's easy templates</h3>
<div class="outline-text-3" id="text-orga03688a">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"el"</span> <span class="string">"#+BEGIN_SRC emacs-lisp\n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"sh"</span> <span class="string">"#+BEGIN_SRC sh\n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"pl"</span> <span class="string">"#+BEGIN_SRC plantuml :file \n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"ipa"</span> <span class="string">"#+BEGIN_SRC ipython :session :exports both :results output \n\n?\n\n #+END_SRC"</span>))</span><br><span class="line">    (add-to-list 'org-structure-template-alist</span><br><span class="line">                 '(<span class="string">"ipb"</span> <span class="string">"#+BEGIN_SRC ipython :session :exports both :file \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    ;; (add-to-list 'org-structure-template-alist</span><br><span class="line">    ;;              '(<span class="string">"p"</span> <span class="string">"#+BEGIN_SRC plantuml :file uml.png \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    ;; (add-to-list 'org-structure-template-alist</span><br><span class="line">    ;;              '(<span class="string">"p"</span> <span class="string">"#+BEGIN_SRC plantuml :file uml.png \n\n?\n\n#+END_SRC"</span>))</span><br><span class="line">    )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org51c967c" class="outline-3">
<h3 id="org51c967c">Org columns and properties</h3>
<div class="outline-text-3" id="text-org51c967c">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (setq org-columns-default-format <span class="string">"%50ITEM(Task) %CATEGORY %SCHEDULED %5Effort %5CLOCKSUM %PRIORITY"</span>)</span><br><span class="line">     (setq org-global-properties (quote ((<span class="string">"Effort_ALL"</span> . <span class="string">"0:15 0:30 0:45 1:00 2:00 3:00 4:00 5:00 6:00 0:00"</span>)</span><br><span class="line">                                         (<span class="string">"STYLE_ALL"</span> . <span class="string">"habit"</span>))))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgce496aa" class="outline-3">
<h3 id="orgce496aa">Org-ispell</h3>
<div class="outline-text-3" id="text-orgce496aa">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/org-ispell <span class="list">()</span></span><br><span class="line">  <span class="string">"Configure `ispell-skip-region-alist' for `org-mode'."</span></span><br><span class="line">  <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'ispell-skip-region-alist</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(org-property-drawer-re)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"~"</span> <span class="string">"~"</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"="</span> <span class="string">"="</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'ispell-skip-region-alist</span> <span class="quoted">'(<span class="string">"^#\\+BEGIN_SRC"</span> . <span class="string">"^#\\+END_SRC"</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">#'lengyueyang/org-ispell</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgdc04a5e" class="outline-3">
<h3 id="orgdc04a5e">Org bullets customization</h3>
<div class="outline-text-3" id="text-orgdc04a5e">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/post-init-org-bullets <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-bullets-bullet-list <span class="quoted">'(<span class="string">"&amp;#9776;"</span> <span class="string">"&amp;#9783;"</span> <span class="string">"&amp;#8919;"</span> <span class="string">"&amp;#8640;"</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="quoted">#'lengyueyang/post-init-org-bullets</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org9cbc3ea" class="outline-3">
<h3 id="org9cbc3ea">Org-notify</h3>
<div class="outline-text-3" id="text-org9cbc3ea">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-notify</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">org-notify-start</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">org-notify-add</span> <span class="quoted">'appt</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"-1s"</span> <span class="keyword">:period</span> <span class="string">"20s"</span> <span class="keyword">:duration</span> <span class="number">10</span></span><br><span class="line">                        <span class="keyword">:actions</span> (-message -ding))</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"15m"</span> <span class="keyword">:period</span> <span class="string">"2m"</span> <span class="keyword">:duration</span> <span class="number">100</span></span><br><span class="line">                        <span class="keyword">:actions</span> -notify)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"2h"</span> <span class="keyword">:period</span> <span class="string">"10m"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"3d"</span> <span class="keyword">:period</span> <span class="string">"12h"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"7d"</span> <span class="keyword">:period</span> <span class="string">"24h"</span> <span class="keyword">:actions</span> -message)</span></span><br><span class="line">                <span class="quoted">'(<span class="keyword">:time</span> <span class="string">"30d"</span> <span class="keyword">:actions</span> -email)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org11e104e" class="outline-3">
<h3 id="org11e104e">Org-pomodoro</h3>
<div class="outline-text-3" id="text-org11e104e">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="comment">;; [[https://www.reddit.com/r/emacs/comments/5ayjjl/pomodoro_in_emacs/][Pomodoro in Emacs : emacs]]</span></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> org-pomodoro</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:commands</span> <span class="list">(<span class="keyword">org-pomodoro</span>)</span></span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> alert-user-configuration <span class="quoted">(<span class="keyword">quote</span> ((((:category . <span class="string">"org-pomodoro"</span>)) libnotify <span class="literal">nil</span>)))</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-length <span class="number">25</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-short-break-length <span class="number">5</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> org-pomodoro-long-break-length <span class="number">30</span>)</span></span><br><span class="line">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgcb1f1a6" class="outline-3">
<h3 id="orgcb1f1a6">Org-agenda and capture</h3>
<div class="outline-text-3" id="text-orgcb1f1a6">
</div><div id="outline-container-orgae1ca52" class="outline-4">
<h4 id="orgae1ca52">Org-agenda</h4>
<div class="outline-text-4" id="text-orgae1ca52">
<p>
The first agenda configuration, which is not complete. 
</p>

<p>
A complete agenda and capture configuration 
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (setq org-agenda-files (quote (<span class="string">"~/Emacs-lengyue/GTD-lengyue"</span></span><br><span class="line">                                    <span class="string">"~/Emacs-lengyue/Wiki-lengyue"</span>)))</span><br><span class="line"></span><br><span class="line">     (setq org-todo-keywords</span><br><span class="line">           (quote ((sequence <span class="string">"TODO(t)"</span> <span class="string">"STARTED(s)"</span> <span class="string">"|"</span> <span class="string">"CANCELLED(c@/!)"</span> <span class="string">"DONE(d!/!)"</span>)</span><br><span class="line">                   (sequence <span class="string">"SOMEDAY(S)"</span> <span class="string">"|"</span> <span class="string">"WAITING(w@/!)"</span>  <span class="string">"MEETING(m)"</span> <span class="string">"PHONE(p)"</span>)</span><br><span class="line">                   (sequence <span class="string">"REPORT(r)"</span> <span class="string">"BUG(b)"</span> <span class="string">"KNOWNCAUSE(k)"</span> <span class="string">"|"</span> <span class="string">"FIXED(f)"</span>)</span><br><span class="line">                   )))</span><br><span class="line"></span><br><span class="line">     (setq org-todo-keyword-faces</span><br><span class="line">           (quote (</span><br><span class="line">                   (<span class="string">"STARTED"</span> :foreground <span class="string">"magenta"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"NEXT"</span> :foreground <span class="string">"blue"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"DONE"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   (<span class="string">"WAITING"</span> :foreground <span class="string">"red"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"HOLD"</span> :foreground <span class="string">"magenta"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"CANCELLED"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">     ;;               (<span class="string">"MEETING"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   ;;               (<span class="string">"PHONE"</span> :foreground <span class="string">"forest green"</span> :weight bold)</span><br><span class="line">                   )))</span><br><span class="line"></span><br><span class="line">     (setq org-refile-targets</span><br><span class="line">           '((<span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> :maxlevel . <span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line">     (setq org-log-into-drawer <span class="literal">t</span>)</span><br><span class="line">     (setq org-agenda-custom-commands</span><br><span class="line">        '(</span><br><span class="line">          (<span class="string">"b"</span> <span class="string">"Blog idea"</span> tags-todo <span class="string">"BLOG"</span>)</span><br><span class="line">          (<span class="string">"s"</span> <span class="string">"Someday"</span> todo <span class="string">"SOMEDAY"</span>)</span><br><span class="line">          (<span class="string">"S"</span> <span class="string">"Started"</span> todo <span class="string">"STARTED"</span>)</span><br><span class="line">          (<span class="string">"w"</span> <span class="string">"Waiting"</span> todo <span class="string">"WAITING"</span>)</span><br><span class="line">          (<span class="string">"d"</span> . <span class="string">" &amp;#20219;&amp;#21153;&amp;#23433;&amp;#25490; "</span>)</span><br><span class="line">          (<span class="string">"da"</span> <span class="string">" &amp;#37325;&amp;#35201;&amp;#19988;&amp;#32039;&amp;#24613;&amp;#30340;&amp;#20219;&amp;#21153; "</span> tags-todo <span class="string">"+PRIORITY=\"A\""</span>)</span><br><span class="line">          (<span class="string">"db"</span> <span class="string">" &amp;#37325;&amp;#35201;&amp;#19988;&amp;#19981;&amp;#32039;&amp;#24613;&amp;#30340;&amp;#20219;&amp;#21153; "</span> tags-todo <span class="string">"+PRIORITY=\"B\""</span>)</span><br><span class="line">          (<span class="string">"dc"</span> <span class="string">" &amp;#19981;&amp;#37325;&amp;#35201;&amp;#19988;&amp;#32039;&amp;#24613;&amp;#30340;&amp;#20219;&amp;#21153; "</span> tags-todo <span class="string">"+PRIORITY=\"C\""</span>)</span><br><span class="line">          (<span class="string">"p"</span> . <span class="string">" &amp;#39033;&amp;#30446;&amp;#23433;&amp;#25490; "</span>)</span><br><span class="line">          (<span class="string">"W"</span> <span class="string">"Weekly Review"</span> tags-todo <span class="string">"PROJECT"</span>)</span><br><span class="line">            ))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-summary-todo <span class="list">(<span class="keyword">n-done</span> n-not-done)</span></span><br><span class="line">  <span class="string">"Switch entry to DONE when all subentries are done, to TODO otherwise."</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="keyword">org-log-done</span> org-log-states)</span>  <span class="comment">; turn off logging</span></span><br><span class="line">    <span class="list">(<span class="keyword">org-todo</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">=</span> n-not-done <span class="number">0</span>)</span> <span class="string">"DONE"</span> <span class="string">"TODO"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span><span class="quoted">'org-after-todo-statistics-hook</span> <span class="quoted">'org-summary-todo</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;   ;;used by org-clock-sum-today-by-tags</span></span><br><span class="line"><span class="comment">;; (defun filter-by-tags ()</span></span><br><span class="line"><span class="comment">;;     (let ((head-tags (org-get-tags-at)))</span></span><br><span class="line"><span class="comment">;;       (member current-tag head-tags)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (defun org-clock-sum-today-by-tags (timerange &amp;amp;optional tstart tend noinsert)</span></span><br><span class="line"><span class="comment">;;     (interactive "P")</span></span><br><span class="line"><span class="comment">;;     (let* ((timerange-numeric-value (prefix-numeric-value timerange))</span></span><br><span class="line"><span class="comment">;;            (files (org-add-archive-files (org-agenda-files)))</span></span><br><span class="line"><span class="comment">;;            (include-tags'("PROG" "EMACS" "DREAM" "WRITING" "MEETING" "BLOG" "LIFE" "PROJECT"))</span></span><br><span class="line"><span class="comment">;;            (tags-time-alist (mapcar (lambda (tag) `(,tag . 0)) include-tags))</span></span><br><span class="line"><span class="comment">;;            (output-string "")</span></span><br><span class="line"><span class="comment">;;            (tstart (or tstart</span></span><br><span class="line"><span class="comment">;;                        (and timerange (equal timerange-numeric-value 4) (- (org-time-today) 86400))</span></span><br><span class="line"><span class="comment">;;                        (and timerange (equal timerange-numeric-value 16) (org-read-date nil nil nil "Start Date/Time:"))</span></span><br><span class="line"><span class="comment">;;                        (org-time-today)))</span></span><br><span class="line"><span class="comment">;;            (tend (or tend</span></span><br><span class="line"><span class="comment">;;                      (and timerange (equal timerange-numeric-value 16) (org-read-date nil nil nil "End Date/Time:"))</span></span><br><span class="line"><span class="comment">;;                      (+ tstart 86400)))</span></span><br><span class="line"><span class="comment">;;            h m file item prompt donesomething)</span></span><br><span class="line"><span class="comment">;;       (while (setq file (pop files))</span></span><br><span class="line"><span class="comment">;;         (setq org-agenda-buffer (if (file-exists-p file)</span></span><br><span class="line"><span class="comment">;;                                     (org-get-agenda-file-buffer file)</span></span><br><span class="line"><span class="comment">;;                                   (error "No such file %s" file)))</span></span><br><span class="line"><span class="comment">;;         (with-current-buffer org-agenda-buffer</span></span><br><span class="line"><span class="comment">;;           (dolist (current-tag include-tags)</span></span><br><span class="line"><span class="comment">;;             (org-clock-sum tstart tend'filter-by-tags)</span></span><br><span class="line"><span class="comment">;;             (setcdr (assoc current-tag tags-time-alist)</span></span><br><span class="line"><span class="comment">;;                     (+ org-clock-file-total-minutes (cdr (assoc current-tag tags-time-alist)))))))</span></span><br><span class="line"><span class="comment">;;       (while (setq item (pop tags-time-alist))</span></span><br><span class="line"><span class="comment">;;         (unless (equal (cdr item) 0)</span></span><br><span class="line"><span class="comment">;;           (setq donesomething t)</span></span><br><span class="line"><span class="comment">;;           (setq h (/ (cdr item) 60)</span></span><br><span class="line"><span class="comment">;;                 m (- (cdr item) (* 60 h)))</span></span><br><span class="line"><span class="comment">;;           (setq output-string (concat output-string (format "[-%s-] %.2d:%.2d\n" (car item) h m)))))</span></span><br><span class="line"><span class="comment">;;       (unless donesomething</span></span><br><span class="line"><span class="comment">;;         (setq output-string (concat output-string "[-Nothing-] Done nothing!!!\n")))</span></span><br><span class="line"><span class="comment">;;       (unless noinsert</span></span><br><span class="line"><span class="comment">;;         (insert output-string))</span></span><br><span class="line"><span class="comment">;;       output-string))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org0d8c25e" class="outline-4">
<h4 id="org0d8c25e">Org-capture</h4>
<div class="outline-text-4" id="text-org0d8c25e">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f9&amp;gt;"</span>)</span> <span class="quoted">'org-capture</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oc"</span> <span class="quoted">'org-capture</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-capture-templates</span><br><span class="line">      <span class="quoted">'((<span class="string">"b"</span> <span class="string">"Blog Ideas"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Notes.org"</span> <span class="string">"Blog Ideas"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"s"</span> <span class="string">"Someday/Maybe"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Notes.org"</span> <span class="string">"Someday/Maybe"</span>)</span><br><span class="line">         <span class="string">"* SOMEDAY %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"m"</span> <span class="string">"Myself Tasks"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> <span class="string">"Myself Tasks"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"r"</span> <span class="string">"Work Related Tasks"</span> entry (file+headline <span class="string">"~/Emacs-lengyue/GTD-lengyue/GTD-lengyue.org"</span> <span class="string">"Work Related Tasks"</span>)</span><br><span class="line">         <span class="string">"* TODO %?\n%i%U"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        (<span class="string">"w"</span> <span class="string">"Web site"</span> entry (file <span class="string">"~/Emacs-lengyue/Wiki-lengyue/Bookmark.org"</span>)</span><br><span class="line">         <span class="string">"* %c :website:\n%?\n%U %:initial"</span></span><br><span class="line">         :empty-lines <span class="number">1</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org8734a77" class="outline-3">
<h3 id="org8734a77">Add bookmark to orgmode</h3>
<div class="outline-text-3" id="text-org8734a77">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-protocol-capture-html"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">server-start</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-protocol</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-protocol-capture-html</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgd83bb90" class="outline-3">
<h3 id="orgd83bb90">Org-babel customizaton</h3>
<div class="outline-text-3" id="text-orgd83bb90">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> org-confirm-babel-evaluate <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-plantuml-jar-path</span><br><span class="line">      <span class="list">(<span class="keyword">expand-file-name</span> <span class="string">"/opt/plantuml/plantuml.jar"</span>)</span>)</span></span><br><span class="line"><span class="comment">;; (setq org-ditta-jar-path</span></span><br><span class="line"><span class="comment">;;  (expand-file-name "/usr/share/java/ditaa/ditaa-0_9.jar"))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="quoted">'org</span></span><br><span class="line">  <span class="quoted">'(progn</span><br><span class="line">     (defun lengyueyang/org-insert-src-block (src-code-type)</span><br><span class="line">       <span class="string">"Insert a `SRC-CODE-TYPE' type source code block in org-mode."</span></span><br><span class="line">       (interactive</span><br><span class="line">        (let ((src-code-types</span><br><span class="line">               '(<span class="string">"emacs-lisp"</span> <span class="string">"python"</span> <span class="string">"C"</span> <span class="string">"sh"</span> <span class="string">"java"</span> <span class="string">"js"</span> <span class="string">"clojure"</span> <span class="string">"C++"</span> <span class="string">"css"</span></span><br><span class="line">                 <span class="string">"calc"</span> <span class="string">"asymptote"</span> <span class="string">"dot"</span> <span class="string">"gnuplot"</span> <span class="string">"ledger"</span> <span class="string">"lilypond"</span> <span class="string">"mscgen"</span></span><br><span class="line">                 <span class="string">"octave"</span> <span class="string">"oz"</span> <span class="string">"plantuml"</span> <span class="string">"R"</span> <span class="string">"sass"</span> <span class="string">"screen"</span> <span class="string">"sql"</span> <span class="string">"awk"</span> <span class="string">"ditaa"</span></span><br><span class="line">                 <span class="string">"haskell"</span> <span class="string">"latex"</span> <span class="string">"lisp"</span> <span class="string">"matlab"</span> <span class="string">"ocaml"</span> <span class="string">"org"</span> <span class="string">"perl"</span> <span class="string">"ruby"</span></span><br><span class="line">                 <span class="string">"scheme"</span> <span class="string">"sqlite"</span> <span class="string">"ipython"</span>)))</span><br><span class="line">          (list (ido-completing-read <span class="string">"Source code type: "</span> src-code-types))))</span><br><span class="line">       (progn</span><br><span class="line">         (newline-and-indent)</span><br><span class="line">         (insert (format <span class="string">"#+BEGIN_SRC %s\n"</span> src-code-type))</span><br><span class="line">         (newline-and-indent)</span><br><span class="line">         (insert <span class="string">"#+END_SRC\n"</span>)</span><br><span class="line">         (previous-line <span class="number">2</span>)</span><br><span class="line">         (org-edit-src-code)))</span><br><span class="line"></span><br><span class="line">     (add-hook 'org-mode-hook '(lambda ()</span><br><span class="line">                                 ;; keybinding for editing source code blocks</span><br><span class="line">                                 ;; keybinding for inserting code blocks</span><br><span class="line">                                 (local-set-key (kbd <span class="string">"C-c i s"</span>)</span><br><span class="line">                                                'lengyueyang/org-insert-src-block)</span><br><span class="line">                                 ))</span><br><span class="line"></span><br><span class="line">     (org-babel-do-load-languages</span><br><span class="line">      'org-babel-load-languages</span><br><span class="line">      '((perl . <span class="literal">t</span>)</span><br><span class="line">        (ruby . <span class="literal">t</span>)</span><br><span class="line">        (sh . <span class="literal">t</span>)</span><br><span class="line">        (js . <span class="literal">t</span>)</span><br><span class="line">        (python . <span class="literal">t</span>)</span><br><span class="line">        (ipython . <span class="literal">t</span>)</span><br><span class="line">        (emacs-lisp . <span class="literal">t</span>)</span><br><span class="line">        (plantuml . <span class="literal">t</span>)</span><br><span class="line">        (R . <span class="literal">t</span>)</span><br><span class="line">        (dot . <span class="literal">t</span>)</span><br><span class="line">        (gnuplot . <span class="literal">t</span>)</span><br><span class="line">        (latex . <span class="literal">t</span>)</span><br><span class="line">        (C . <span class="literal">t</span>)</span><br><span class="line">        (octave . <span class="literal">t</span>)</span><br><span class="line">        (ditaa . <span class="literal">t</span>)))</span><br><span class="line">     )</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;; Resume clocking task when emacs is restarted</span></span><br><span class="line"><span class="list">(<span class="keyword">org-clock-persistence-insinuate</span>)</span></span><br><span class="line"><span class="comment">;; Save the running clock and all clock history when exiting Emacs, load it on startup</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-clock-persist <span class="literal">t</span>)</span></span><br><span class="line"><span class="comment">;; Do not prompt to resume an active clock</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-clock-persist-query-resume <span class="literal">nil</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org7c54c00" class="outline-3">
<h3 id="org7c54c00">Ob-ipython and Jupter notebook</h3>
<div class="outline-text-3" id="text-org7c54c00">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'ob-ipython</span>)</span></span><br><span class="line"><span class="comment">;; (setq org-babel-python-command "/usr/bin/ipython --pylab --pdb --nosep")</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> python-shell-prompt-detect-failure-warning <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-babel-after-execute-hook</span> <span class="quoted">'org-display-inline-images</span> <span class="quoted">'append</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org8a3ae02" class="outline-3">
<h3 id="org8a3ae02">Setup link abbreviations</h3>
<div class="outline-text-3" id="text-org8a3ae02">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/org/Link-abbreviations.html" target="_blank" rel="external">Link abbreviations</a>
</p>

<p>
An abbreviated link looks like
</p>

<pre class="example">
[[linkword:tag][description]]

</pre>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> org-link-abbrev-alist</span><br><span class="line">      <span class="quoted">'((<span class="string">"google"</span> . <span class="string">"http://www.google.com/search?q="</span>)</span><br><span class="line">        (<span class="string">"google-map"</span> . <span class="string">"http://maps.google.com/maps?q=%s"</span>)</span><br><span class="line">        )</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org3399a41" class="outline-3">
<h3 id="org3399a41">Org-subtask and org-checklist</h3>
<div class="outline-text-3" id="text-org3399a41">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-subtask-reset"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-subtask-reset</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/org-checklist"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-checklist</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org0599ee3" class="outline-3">
<h3 id="org0599ee3">Org-archive-all-tasks</h3>
<div class="outline-text-3" id="text-org0599ee3">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang//org-archive-tasks <span class="list">(<span class="keyword">prefix</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">org-map-entries</span></span><br><span class="line">   <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">     <span class="list">(<span class="keyword">org-archive-subtree</span>)</span></span><br><span class="line">     <span class="list">(<span class="keyword">setq</span> org-map-continue-from <span class="list">(<span class="keyword">outline-previous-heading</span>)</span>)</span>)</span></span><br><span class="line">   <span class="list">(<span class="keyword">format</span> <span class="string">"/%s"</span> prefix)</span> <span class="quoted">'file</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/org-archive-all-tasks <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"DONE"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"CANCELLED"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">lengyueyang//org-archive-tasks</span> <span class="string">"FIXED"</span>)</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; org-archive-subtree-hierarchical.el</span></span><br><span class="line"><span class="comment">;; modified from https://lists.gnu.org/archive/html/emacs-orgmode/2014-08/msg00109.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; In orgmode</span></span><br><span class="line"><span class="comment">;; * A</span></span><br><span class="line"><span class="comment">;; ** AA</span></span><br><span class="line"><span class="comment">;; *** AAA</span></span><br><span class="line"><span class="comment">;; ** AB</span></span><br><span class="line"><span class="comment">;; *** ABA</span></span><br><span class="line"><span class="comment">;; Archiving AA will remove the subtree from the original file and create</span></span><br><span class="line"><span class="comment">;; it like that in archive target:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; * AA</span></span><br><span class="line"><span class="comment">;; ** AAA</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; And this give you</span></span><br><span class="line"><span class="comment">;; * A</span></span><br><span class="line"><span class="comment">;; ** AA</span></span><br><span class="line"><span class="comment">;; *** AAA</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'org-archive</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--line-content-as-string <span class="list">()</span></span><br><span class="line">  <span class="string">"Returns the content of the current line as a string"</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="list">(<span class="keyword">beginning-of-line</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">buffer-substring-no-properties</span></span><br><span class="line">     <span class="list">(<span class="keyword">line-beginning-position</span>)</span> <span class="list">(<span class="keyword">line-end-position</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--org-child-list <span class="list">()</span></span><br><span class="line">  <span class="string">"This function returns all children of a heading as a list. "</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">    <span class="comment">;; this only works with org-version &amp;gt; 8.0, since in previous</span></span><br><span class="line">    <span class="comment">;; org-mode versions the function (org-outline-level) returns</span></span><br><span class="line">    <span class="comment">;; gargabe when the point is not on a heading.</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">=</span> <span class="list">(<span class="keyword">org-outline-level</span>)</span> <span class="number">0</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">outline-next-visible-heading</span> <span class="number">1</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-goto-first-child</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">child-list</span> <span class="list">(<span class="keyword">list</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--line-content-as-string</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">org-goto-sibling</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> child-list <span class="list">(<span class="keyword">cons</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--line-content-as-string</span>)</span> child-list)</span>)</span>)</span></span><br><span class="line">      child-list)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical--org-struct-subtree <span class="list">()</span></span><br><span class="line">  <span class="string">"This function returns the tree structure in which a subtree</span><br><span class="line">belongs as a list."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">archive-tree</span> <span class="literal">nil</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">org-up-heading-safe</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">heading</span></span><br><span class="line">               <span class="list">(<span class="keyword">buffer-substring-no-properties</span></span><br><span class="line">                <span class="list">(<span class="keyword">line-beginning-position</span>)</span> <span class="list">(<span class="keyword">line-end-position</span>)</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> archive-tree <span class="literal">nil</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> archive-tree <span class="list">(<span class="keyword">list</span> heading)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">setq</span> archive-tree <span class="list">(<span class="keyword">cons</span> heading archive-tree)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">    archive-tree)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree-hierarchical <span class="list">()</span></span><br><span class="line">  <span class="string">"This function archives a subtree hierarchical"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">org-tree</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--org-struct-subtree</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">this-buffer</span> <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">file</span> <span class="list">(<span class="keyword">abbreviate-file-name</span></span><br><span class="line">               <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">buffer-file-name</span> <span class="list">(<span class="keyword">buffer-base-buffer</span>)</span>)</span></span><br><span class="line">                   <span class="list">(<span class="keyword">error</span> <span class="string">"No file associated to buffer"</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">save-excursion</span></span><br><span class="line">      <span class="list">(<span class="keyword">setq</span> location <span class="list">(<span class="keyword">org-get-local-archive-location</span>)</span></span><br><span class="line">            afile <span class="list">(<span class="keyword">org-extract-archive-file</span> location)</span></span><br><span class="line">            heading <span class="list">(<span class="keyword">org-extract-archive-heading</span> location)</span></span><br><span class="line">            infile-p <span class="list">(<span class="keyword">equal</span> file <span class="list">(<span class="keyword">abbreviate-file-name</span> <span class="list">(<span class="keyword">or</span> afile <span class="string">""</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">unless</span> afile</span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Invalid `org-archive-location'"</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (length afile) 0)</span></span><br><span class="line">          <span class="list">(<span class="keyword">setq</span> newfile-p <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-exists-p</span> afile)</span>)</span></span><br><span class="line">                visiting <span class="list">(<span class="keyword">find-buffer-visiting</span> afile)</span></span><br><span class="line">                buffer <span class="list">(<span class="keyword">or</span> visiting <span class="list">(<span class="keyword">find-file-noselect</span> afile)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> buffer <span class="list">(<span class="keyword">current-buffer</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">unless</span> buffer</span><br><span class="line">        <span class="list">(<span class="keyword">error</span> <span class="string">"Cannot access file \"%s\""</span> afile)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-cut-subtree</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">set-buffer</span> buffer)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-mode</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">equal</span> org-tree <span class="literal">nil</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">child-list</span> <span class="list">(<span class="keyword">org-archive-subtree-hierarchical--org-child-list</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">member</span> <span class="list">(<span class="keyword">car</span> org-tree)</span> child-list)</span></span><br><span class="line">              <span class="list">(<span class="keyword">progn</span></span><br><span class="line">                <span class="list">(<span class="keyword">search-forward</span> <span class="list">(<span class="keyword">car</span> org-tree)</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">setq</span> org-tree <span class="list">(<span class="keyword">cdr</span> org-tree)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">progn</span></span><br><span class="line">              <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">org-insert-struct</span> org-tree)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> org-tree <span class="literal">nil</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-yank</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">eq</span> this-buffer buffer)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">save-buffer</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">message</span> <span class="string">"Subtree archived %s"</span></span><br><span class="line">               <span class="list">(<span class="keyword">concat</span> <span class="string">"in file: "</span> <span class="list">(<span class="keyword">abbreviate-file-name</span> afile)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-insert-struct <span class="list">(<span class="keyword">struct</span>)</span></span><br><span class="line">  <span class="string">"TODO"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> struct</span><br><span class="line">    <span class="list">(<span class="keyword">insert</span> <span class="list">(<span class="keyword">car</span> struct)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">newline</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">org-insert-struct</span> <span class="list">(<span class="keyword">cdr</span> struct)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> org-archive-subtree <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">org-archive-subtree-hierarchical</span>)</span></span><br><span class="line">)</span></span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgd400c91" class="outline-3">
<h3 id="orgd400c91">Org-ref customize</h3>
<div class="outline-text-3" id="text-orgd400c91">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> reftex-default-bibliography <span class="quoted">'(<span class="string">"~/Emacs-lengyue/Papers/references.bib"</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-ref-default-bibliography <span class="quoted">'(<span class="string">"~/Emacs-lengyue/Papers/references.bib"</span>)</span></span><br><span class="line">      org-ref-pdf-directory <span class="string">"~/Emacs-lengyue/Papers/"</span></span><br><span class="line">      org-ref-bibliography-notes <span class="string">"~/Emacs-lengyue/Papers/notes.org"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> org-ref-completion-library <span class="quoted">'org-ref-ivy-cite</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org5c39857" class="outline-2">
<h2 id="org5c39857">Programming Languages</h2>
<div class="outline-text-2" id="text-org5c39857">
<p>
This part is the customization to programming languages.
</p>
</div>

<div id="outline-container-org7ba99e6" class="outline-3">
<h3 id="org7ba99e6">Yasnippet</h3>
<div class="outline-text-3" id="text-org7ba99e6">
<p>
Yasnippet allows you to type an abbreviation and then expand it into a template. We can look at yasnippet’s documentation on github.
</p>

<p>
Yasnippet by default checks for snippets in two places: a path relative to yasnippet.el (these are the default snippets that come with the package). If I want to make my own, I can put then in .spacemacs.d/snippets and it should find them there as well.
</p>

<p>
I downloads some snippets from web like <a href="https://github.com/AndreaCrotti/yasnippet-snippets" target="_blank" rel="external">yasnippet-snippets</a> and <a href="https://github.com/howardabrams/dot-files" target="_blank" rel="external">dot-file</a> then I defined some snippets of mine.
</p>

<p>
You can use the tab key to expand a snippet once you’ve typed in the “key”. It’s pretty smart in that if tab fails for yasnippet, it then checks for whatever tab was originally bound to.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> yas-snippet-dirs</span><br><span class="line">      <span class="quoted">'(<span class="string">"~/.spacemacs.d/snippets/lengyueyang-snippets"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/dot-files-snippets/"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/yasnippet-snippets/"</span></span><br><span class="line">        <span class="string">"~/.spacemacs.d/snippets/lengyueyang-snippets/"</span></span><br><span class="line">        )</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">yas-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y i"</span>)</span> <span class="quoted">'yas-insert-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y n"</span>)</span> <span class="quoted">'yas-new-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c y t"</span>)</span> <span class="quoted">'yas-expand-from-trigger-key</span>)</span></span><br><span class="line"><span class="comment">;;(global-set-key (kbd "C-c i e") 'spacemacs/auto-yasnippet-expand)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"oy"</span> <span class="string">"Yasnippet"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyi"</span> <span class="quoted">'yas-insert-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyn"</span> <span class="quoted">'yas-new-snippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oyt"</span> <span class="quoted">'yas-expand-from-trigger-key</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org6fe1dac" class="outline-3">
<h3 id="org6fe1dac">Add support for editorconfig</h3>
<div class="outline-text-3" id="text-org6fe1dac">
<p>
<a href="http://editorconfig.org/" target="_blank" rel="external">EditorConfig</a> helps developers define and maintain consistent coding
styles between different editors and IDEs. The EditorConfig project
consists of a file format for defining coding styles and a collection
of text editor plugins that enable editors to read the file format and
adhere to defined styles. EditorConfig files are easily readable and
they work nicely with version control systems.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> editorconfig</span><br><span class="line">  <span class="keyword">:ensure</span> <span class="literal">t</span></span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'prog-mode-hook</span> <span class="list">(<span class="keyword">editorconfig-mode</span> <span class="number">1</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'text-mode-hook</span> <span class="list">(<span class="keyword">editorconfig-mode</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgf21b29c" class="outline-3">
<h3 id="orgf21b29c">Ess and R</h3>
<div class="outline-text-3" id="text-orgf21b29c">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'company-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'smartparens-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-ess-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org81f0fa2" class="outline-3">
<h3 id="org81f0fa2">Python</h3>
<div class="outline-text-3" id="text-org81f0fa2">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> python-fill-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flycheck-mode</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'inferior-python-mode-hook</span> <span class="quoted">'flyspell-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org539ba26" class="outline-3">
<h3 id="org539ba26">JS-2 mode</h3>
<div class="outline-text-3" id="text-org539ba26">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> nodejs-repl</span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="keyword">:defer</span> <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-to-load-path</span> <span class="string">"~/.spacemacs.d/package/nodejs-repl-eval"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> nodejs-repl-eval</span><br><span class="line">  <span class="keyword">:commands</span> <span class="list">(<span class="keyword">nodejs-repl-eval-buffer</span> nodejs-repl-eval-dwim nodejs-repl-eval-function)</span></span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">spacemacs/declare-prefix-for-mode</span> <span class="quoted">'js2-mode</span></span><br><span class="line">                                       <span class="string">"mo"</span> <span class="string">"Nodejs-repl"</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">spacemacs/set-leader-keys-for-major-mode</span> <span class="quoted">'js2-mode</span></span><br><span class="line">      <span class="string">"oo"</span> <span class="quoted">'nodejs-repl</span></span><br><span class="line">      <span class="string">"ob"</span> <span class="quoted">'nodejs-repl-eval-buffer</span></span><br><span class="line">      <span class="string">"of"</span> <span class="quoted">'nodejs-repl-eval-function</span></span><br><span class="line">      <span class="string">"od"</span> <span class="quoted">'nodejs-repl-eval-dwim</span>)</span>)</span></span><br><span class="line">  <span class="keyword">:defer</span> <span class="literal">t</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgdffde2a" class="outline-3">
<h3 id="orgdffde2a">Elisp enhanced</h3>
<div class="outline-text-3" id="text-orgdffde2a">
</div><div id="outline-container-org55ddbd2" class="outline-4">
<h4 id="org55ddbd2">Emacs Lisp 自动配对问题</h4>
<div class="outline-text-4" id="text-org55ddbd2">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">sp-local-pair</span> <span class="quoted">'(emacs-lisp-mode lisp-interaction-mode)</span> <span class="string">"'"</span> <span class="literal">nil</span> <span class="keyword">:actions</span> <span class="literal">nil</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org477c909" class="outline-2">
<h2 id="org477c909">External package besides spacemacs</h2>
<div class="outline-text-2" id="text-org477c909">
</div><div id="outline-container-orgf4822cb" class="outline-3">
<h3 id="orgf4822cb">Use emmet-mode to add Zen Coding support</h3>
<div class="outline-text-3" id="text-orgf4822cb">
<p>
<a href="https://github.com/smihica/emmet-mode" target="_blank" rel="external">emmet-mode</a> is a fork of <a href="https://github.com/rooney/zencoding" target="_blank" rel="external">zencoding-mode</a> which add minor mode providing support
for Zen Coding by producing HTML from CSS-like selectors.
</p>

<p>
GitHub: <a href="https://github.com/smihica/emmet-mode" target="_blank" rel="external">https://github.com/smihica/emmet-mode</a>
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> emmet-mode</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="comment">;; Following mode support emmet-mode</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'html-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'sgml-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'nxml-mode-hook</span> <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'css-mode-hook</span>  <span class="quoted">'emmet-mode</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Move cursor between quotes after expand</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'emmt-mode-hook</span></span><br><span class="line">              <span class="quoted">'(lambda()</span><br><span class="line">                 (setq emmet-move-cursor-between-quotes <span class="literal">t</span>))</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Make tab can also expand emmt instead of use yasnippet directly</span></span><br><span class="line">    <span class="list">(<span class="keyword">define-key</span> emmt-mode-keymap <span class="list">(<span class="keyword">kbd</span> <span class="string">"TAB"</span>)</span> <span class="quoted">'emmt-expand-yas</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">define-key</span> emmt-mode-keymap <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;tab&amp;gt;"</span>)</span> <span class="quoted">'emmt-expand-yas</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgc47c30e" class="outline-3">
<h3 id="orgc47c30e">Hungry-delete</h3>
<div class="outline-text-3" id="text-orgc47c30e">
<p>
<a href="https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-hungry-delete.el" target="_blank" rel="external">https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-hungry-delete.el</a>
</p>

<p>
<a href="https://github.com/nflath/hungry-delete" target="_blank" rel="external">hungry-delete</a> borrows hungry deletion from <code>cc-mode</code>, which will causes deletion
to delete all whitespace in the direction you are deleting.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">use-package</span> hungry-delete</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> hungry-delete-chars-to-skip <span class="string">" \t\r\f\v"</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Mon Nov 21 08:45:42 EST 2016 - kmodi</span></span><br><span class="line">    <span class="comment">;; Override the default definitions of `hungry-delete-skip-ws-forward' and</span></span><br><span class="line">    <span class="comment">;; `hungry-delete-skip-ws-backward'; do not delete back-slashes at EOL.</span></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> hungry-delete-skip-ws-forward <span class="list">()</span></span><br><span class="line">      <span class="string">"Skip over any whitespace following point.</span><br><span class="line">This function skips over horizontal and vertical whitespace."</span></span><br><span class="line">      <span class="list">(<span class="keyword">skip-chars-forward</span> hungry-delete-chars-to-skip)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">get-text-property</span> <span class="list">(<span class="keyword">point</span>)</span> <span class="quoted">'read-only</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">backward-char</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> hungry-delete-skip-ws-backward <span class="list">()</span></span><br><span class="line">      <span class="string">"Skip over any whitespace preceding point.</span><br><span class="line">This function skips over horizontal and vertical whitespace."</span></span><br><span class="line">      <span class="list">(<span class="keyword">skip-chars-backward</span> hungry-delete-chars-to-skip)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">get-text-property</span> <span class="list">(<span class="keyword">point</span>)</span> <span class="quoted">'read-only</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">forward-char</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="list">(<span class="keyword">defun</span> modi/turn-off-hungry-delete-mode <span class="list">()</span></span><br><span class="line">      <span class="string">"Turn off hungry delete mode."</span></span><br><span class="line">      <span class="list">(<span class="keyword">hungry-delete-mode</span> <span class="number">-1</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Enable `hungry-delete-mode' everywhere ..</span></span><br><span class="line">    <span class="list">(<span class="keyword">global-hungry-delete-mode</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;; Except ..</span></span><br><span class="line">    <span class="comment">;; `hungry-delete-mode'-loaded backspace does not work in `wdired-mode',</span></span><br><span class="line">    <span class="comment">;; i.e. when editing file names in the *Dired* buffer.</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'wdired-mode-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span></span><br><span class="line">    <span class="comment">;; and in python-mode-hook</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span></span><br><span class="line">    <span class="comment">;; and in minibuffer</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'minibuffer-setup-hook</span> <span class="quoted">#'modi/turn-off-hungry-delete-mode</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orga17b765" class="outline-3">
<h3 id="orga17b765">Pangu-spacing</h3>
<div class="outline-text-3" id="text-orga17b765">
<p>
<code>pangu-spcing</code> is an minor-mode to auto add space between Chinese and English characters. Note that these white-space characters are not really added to the contents, it just like to do so.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package</span> pangu-spacing</span><br><span class="line">  <span class="keyword">:init</span></span><br><span class="line">  <span class="list">(<span class="keyword">progn</span></span><br><span class="line">    <span class="comment">;; start pangu-spacing globally</span></span><br><span class="line">    <span class="list">(<span class="keyword">global-pangu-spacing-mode</span> <span class="number">1</span>)</span></span><br><span class="line">    <span class="comment">;; Always insert `real' space in org-mode.</span></span><br><span class="line">    <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span></span><br><span class="line">              <span class="quoted">'(lambda ()</span><br><span class="line">                 (set (make-local-variable 'pangu-spacing-real-insert-separtor) <span class="literal">t</span>))</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org014888e" class="outline-3">
<h3 id="org014888e">Bold-admin</h3>
<div class="outline-text-3" id="text-org014888e">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="comment">;; (add-to-load-path "~/.spacemacs.d/package/blog-admin")</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'blog-admin</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-type 'org-page)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-path "~/Emacs-lengyue/Blog-lengyue/source")</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-new-post-in-drafts t)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-new-post-with-same-name-dir t)</span></span><br><span class="line"><span class="comment">;;  (setq blog-admin-backend-org-page-drafts "_drafts")</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;  (setq op/repository-directory "~/Emacs-lengyue/Blog-lengyue/source")</span></span><br><span class="line"><span class="comment">;;  (setq op/site-domain "http://lengyueyang.github.io") </span></span><br><span class="line"><span class="comment">;;  (setq op/personal-disqus-shortname "lengyueyang")</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-type <span class="quoted">'hexo</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-path <span class="string">"~/Emacs-lengyue/Blog-lengyue/"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-new-post-in-drafts <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> blog-admin-backend-new-post-with-same-name-dir <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"ob"</span> <span class="quoted">'blog-admin-start</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org326ebe6" class="outline-3">
<h3 id="org326ebe6">Hexo configuration</h3>
<div class="outline-text-3" id="text-org326ebe6">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span><span class="quoted">'cl</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> hexo-dir <span class="string">"~/Emacs-lengyue/Blog-lengyue"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-publish <span class="list">(<span class="keyword">commit-msg</span>)</span></span><br><span class="line">  <span class="string">"git add . &amp;amp; git commit &amp;amp; git push &amp;amp; hexo d"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"sInput commit message:"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">async-shell-command</span> <span class="list">(<span class="keyword">format</span> <span class="string">"cd %s ;git add . ;git commit -m \"%s\" ;git push ;hexo clean; hexo g; hexo d -g"</span></span><br><span class="line">                               hexo-dir</span><br><span class="line">                               commit-msg)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-add-read-more <span class="list">()</span></span><br><span class="line">  <span class="string">"add &amp;lt;!--more--&amp;gt;"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="string">"#+BEGIN_HTML\n&amp;lt;!--more--&amp;gt;\n#+END_HTML"</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-new-open-post <span class="list">(<span class="keyword">post-name</span>)</span></span><br><span class="line">  <span class="string">"create a hexo org post"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"sInput post name:"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">find-file</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s/source/_posts/%s.org"</span> hexo-dir post-name)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">insert</span> <span class="list">(<span class="keyword">format</span> <span class="string">"#+TITLE: %s</span><br><span class="line">#+DATE: %s</span><br><span class="line">#+LAYOUT: post</span><br><span class="line">#+TAGS:</span><br><span class="line">#+CATEGORIES:</span><br><span class="line">"</span>  post-name <span class="list">(<span class="keyword">format-time-string</span> <span class="string">"&amp;lt;%Y-%m-%d %a %H:%M&amp;gt;"</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-org-source <span class="list">()</span></span><br><span class="line">  <span class="string">"use dired open hexo source dir"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">ido-find-file-in-dir</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s/source/"</span> hexo-dir)</span>)</span></span><br><span class="line">  )</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hexo-move-article <span class="list">()</span></span><br><span class="line">  <span class="string">"Move current file between _post and _draft;</span><br><span class="line">You can run this function in dired or a hexo article."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">string-match</span> <span class="string">"/\\(_posts/\\|_drafts/\\)$"</span> default-directory)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">parent-dir</span> <span class="list">(<span class="keyword">file-truename</span> <span class="list">(<span class="keyword">concat</span> default-directory <span class="string">"../"</span>)</span>)</span>)</span></span><br><span class="line">             <span class="list">(<span class="keyword">dest-dir</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">string-match</span> <span class="string">"_drafts/$"</span> default-directory)</span> <span class="string">"_posts/"</span> <span class="string">"_drafts/"</span>)</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">cond</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'markdown-mode</span>)</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'org-mode</span>)</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">cur-file</span> <span class="list">(<span class="keyword">buffer-file-name</span>)</span>)</span></span><br><span class="line">                      <span class="list">(<span class="keyword">new-file</span> <span class="list">(<span class="keyword">concat</span> parent-dir dest-dir <span class="list">(<span class="keyword">buffer-name</span>)</span>)</span>)</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">save-buffer</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">kill-buffer</span>)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">rename-file</span> cur-file new-file)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">find-file</span> new-file)</span></span><br><span class="line">                 <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">format</span> <span class="string">"Now in %s"</span> dest-dir)</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'dired-mode</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">dired-rename-file</span> <span class="list">(<span class="keyword">dired-get-filename</span> <span class="literal">nil</span>)</span></span><br><span class="line">                                  <span class="list">(<span class="keyword">concat</span> parent-dir dest-dir <span class="list">(<span class="keyword">dired-get-filename</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">                                  <span class="literal">nil</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">message</span> <span class="list">(<span class="keyword">format</span> <span class="string">"The article has been moved to %s"</span> dest-dir)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span> <span class="string">"You have to run this in a hexo article buffer or dired"</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org4a6f72d" class="outline-3">
<h3 id="org4a6f72d">Use emms to play music</h3>
<div class="outline-text-3" id="text-org4a6f72d">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="comment">;; https://github.com/tumashu/emacs-helper/blob/master/eh-emms.el</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">use-package</span> emms</span><br><span class="line">  <span class="keyword">:config</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> emms-setup</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> emms-info-libtag</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">use-package</span> dired</span><br><span class="line">    <span class="keyword">:ensure</span> <span class="literal">nil</span>)</span></span><br><span class="line">  <span class="comment">;; (use-package chinese-pyim)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">emms-devel</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-default-players</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">fboundp</span> <span class="quoted">'emms-cache</span>)</span> <span class="list">(<span class="keyword">emms-cache</span> <span class="number">1</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">emms-history-load</span>)</span></span><br><span class="line">  <span class="comment">;; EMMS &amp;#30446;&amp;#24405;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-source-file-default-directory <span class="string">"~/Music/Lengyueyang-music"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">unless</span> <span class="list">(<span class="keyword">file-directory-p</span> emms-source-file-default-directory)</span></span><br><span class="line">    <span class="list">(<span class="keyword">make-directory</span> <span class="list">(<span class="keyword">file-name-as-directory</span> emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-directory <span class="string">"~/Music/.emms/"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-history-file <span class="string">"~/Music/.emms/history"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-cache-file <span class="string">"~/Music/.emms/cache"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-stream-bookmarks-file <span class="string">"~/Music/.emms/streams"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-score-file <span class="string">"~/Music/.emms/scores"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#23450; EMMS &amp;#20027;&amp;#27169;&amp;#24335;&amp;#20026; Playlist &amp;#27169;&amp;#24335;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playlist-default-major-mode <span class="quoted">'emms-playlist-mode</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#20462;&amp;#22797;&amp;#25773;&amp;#25918;&amp;#23436;&amp;#21518;&amp;#30340; BUG</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-player-next-function <span class="quoted">'emms-next</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#23450;&amp;#38899;&amp;#36712;&amp;#21021;&amp;#22987;&amp;#21270;&amp;#20449;&amp;#24687;</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'emms-track-initialize-functions</span> <span class="quoted">'emms-info-initialize-track</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#20851;&amp;#38381; EMMS &amp;#20449;&amp;#24687;&amp;#24322;&amp;#27493;&amp;#27169;&amp;#24335;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-info-asynchronously <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#23450; EMMS &amp;#21551;&amp;#21160;&amp;#21015;&amp;#34920;&amp;#24490;&amp;#29615;&amp;#25773;&amp;#25918;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-repeat-playlist <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#25490;&amp;#24207;&amp;#26041;&amp;#27861;: &amp;#33402;&amp;#26415;&amp;#23478; -&amp;gt; &amp;#19987;&amp;#36753; -&amp;gt; &amp;#24207;&amp;#21495;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playlist-sort-function</span><br><span class="line">        <span class="quoted">'emms-playlist-sort-by-natural-order</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#20351;&amp;#29992; Gnu find &amp;#26597;&amp;#25214;&amp;#25991;&amp;#20214;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-source-file-directory-tree-function</span><br><span class="line">        <span class="quoted">'emms-source-file-directory-tree-find</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#22312; minibuffer &amp;#20013;&amp;#26174;&amp;#31034;&amp;#25773;&amp;#25918;&amp;#20449;&amp;#24687;(emms-show)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'emms-player-started-hook</span> <span class="quoted">'emms-show</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-show-format <span class="string">"&amp;#27491;&amp;#22312;&amp;#25773;&amp;#25918;: [%s]"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;;&amp;#35774;&amp;#32622; Mode-line &amp;#30340;&amp;#26174;&amp;#31034;&amp;#26041;&amp;#24335;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-mode-line-format <span class="string">"%s"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-playing-time-display-format <span class="string">"%s ]"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> global-mode-string</span><br><span class="line">        <span class="quoted">'(<span class="string">" "</span> emms-mode-line-string <span class="string">" "</span> emms-playing-time-string <span class="string">" "</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-mode-line-mode-line-function</span><br><span class="line">        <span class="quoted">'eh-emms-mode-line-playlist-current</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-mode-line-playlist-current <span class="list">()</span></span><br><span class="line">    <span class="string">"Format the currently playing."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">track</span> <span class="list">(<span class="keyword">emms-playlist-current-selected-track</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span></span><br><span class="line">                   <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">art</span>  <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span>)</span></span><br><span class="line">                    <span class="list">(<span class="keyword">tit</span>  <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">format</span> <span class="string">"[ %s -- %s"</span> art tit)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">format</span> <span class="string">"[ %s"</span></span><br><span class="line">                    <span class="list">(<span class="keyword">file-relative-name</span> <span class="list">(<span class="keyword">emms-track-name</span> track)</span></span><br><span class="line">                                        emms-source-file-default-directory)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#26174;&amp;#31034;&amp;#27468;&amp;#35789;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-lyrics</span> <span class="number">1</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-lyrics-display-on-modeline <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; Function used to format track</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-track-description-function</span><br><span class="line">        #<span class="quoted">'(lambda (track)</span><br><span class="line">            (concat <span class="string">" "</span> (eh-emms-make-track-description track)))</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#32622; Playlist &amp;#30340;&amp;#26174;&amp;#31034;&amp;#26041;&amp;#24335;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-last-played-format-alist</span><br><span class="line">        <span class="quoted">'(((emms-last-played-seconds-today) . <span class="string">"%H:%M"</span>)</span><br><span class="line">          (<span class="number">604800</span>                           . <span class="string">"%H:%M"</span>)</span><br><span class="line">          ((emms-last-played-seconds-month) . <span class="string">"%d"</span>)</span><br><span class="line">          ((emms-last-played-seconds-year)  . <span class="string">"%m-%d"</span>)</span><br><span class="line">          (<span class="literal">t</span>                                . <span class="string">"%Y"</span>))</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-make-track-description <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="string">"Return a description of the current track."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">track-type</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">play-count</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'play-count</span>)</span> <span class="number">0</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">last-played</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'last-played</span>)</span> <span class="quoted">'(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">pmin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time-min</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">psec</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time-sec</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">ptot</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-playing-time</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">title</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">artist</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">album</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-album</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> track-type)</span></span><br><span class="line">          <span class="list">(<span class="keyword">format</span> <span class="string">"%5s %3s |-&amp;gt; %-s"</span></span><br><span class="line">                  <span class="list">(<span class="keyword">emms-last-played-format-date</span> last-played)</span></span><br><span class="line">                  play-count</span><br><span class="line">                  <span class="list">(<span class="keyword">cond</span> <span class="list">(<span class="list">(<span class="keyword">and</span> pmin psec)</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s %s -- %s [%02d:%02d]"</span> artist album title pmin psec)</span>)</span></span><br><span class="line">                        <span class="list">(<span class="keyword">ptot</span> <span class="list">(<span class="keyword">format</span>  <span class="string">"%s %s -- %s [%02d:%02d]"</span> artist album title <span class="list">(<span class="keyword">/</span> ptot <span class="number">60</span>)</span> <span class="list">(% ptot <span class="number">60</span>)</span>)</span>)</span></span><br><span class="line">                        <span class="list">(<span class="keyword">t</span> <span class="list">(<span class="keyword">format</span> <span class="string">"%s %s -- %s"</span> artist album  title)</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; Function used to get music tags, for example IDv2.3!</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-info-functions <span class="quoted">'(eh-emms-info-libtag eh-emms-info-add-pinyin-alias)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-info-libtag <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">string-match</span></span><br><span class="line">                <span class="string">"\\.\\([Mm][Pp]3\\|[oO][gG][gG]\\|[fF][lL][aA][cC]\\|[sS][pP][xX]\\)\\'"</span></span><br><span class="line">                <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">info-list</span></span><br><span class="line">             <span class="list">(<span class="keyword">split-string</span> <span class="list">(<span class="keyword">file-relative-name</span></span><br><span class="line">                            <span class="list">(<span class="keyword">emms-track-name</span> track)</span></span><br><span class="line">                            emms-source-file-default-directory)</span> <span class="string">"/"</span> <span class="literal">t</span>)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-artist</span> <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (length info-list) 1) (nth 0 info-list) "&amp;#26410;&amp;#30693;&amp;#33402;&amp;#26415;&amp;#23478;"))</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-album</span>  <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (length info-list) 2) (nth 1 info-list) "&amp;#26434;&amp;#39033;"))</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-title</span> <span class="list">(<span class="keyword">car</span> <span class="list">(<span class="keyword">reverse</span> info-list)</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">with-temp-buffer</span></span><br><span class="line">        <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">string=</span> <span class="string">"0"</span></span><br><span class="line">                       <span class="list">(<span class="keyword">format</span> <span class="string">"%s"</span> <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">coding-system-for-read</span> <span class="quoted">'utf-8</span>)</span>)</span></span><br><span class="line">                                      <span class="list">(<span class="keyword">call-process</span> emms-info-libtag-program-name</span><br><span class="line">                                                    <span class="literal">nil</span> <span class="quoted">'(t nil)</span> <span class="literal">nil</span></span><br><span class="line">                                                    <span class="list">(<span class="keyword">emms-track-name</span> track)</span>)</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">          <span class="comment">;; Crush the trailing whitespace</span></span><br><span class="line">          <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> <span class="string">"[[:space:]]+$"</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">replace-match</span> <span class="string">""</span> <span class="literal">nil</span> <span class="literal">nil</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">looking-at</span> <span class="string">"^\\([^=\n]+\\)=\\(.*\\)$"</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">name</span> <span class="list">(<span class="keyword">intern-soft</span> <span class="list">(<span class="keyword">match-string</span> <span class="number">1</span>)</span>)</span>)</span></span><br><span class="line">                  <span class="list">(<span class="keyword">value</span> <span class="list">(<span class="keyword">match-string</span> <span class="number">2</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">&amp;gt</span><span class="comment">; (length value)</span></span><br><span class="line">                       <span class="number">0</span>)</span></span><br><span class="line">                <span class="list">(<span class="keyword">emms-track-set</span> track</span><br><span class="line">                                name</span><br><span class="line">                                <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> name <span class="quoted">'info-playing-time</span>)</span></span><br><span class="line">                                    <span class="list">(<span class="keyword">string-to-number</span> value)</span></span><br><span class="line">                                  value)</span>)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">forward-line</span> <span class="number">1</span>)</span>)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-info-add-pinyin-alias <span class="list">(<span class="keyword">track</span>)</span></span><br><span class="line">    <span class="string">"Add pinyin alias to the track"</span></span><br><span class="line">    <span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">and</span> <span class="list">(<span class="keyword">featurep</span> <span class="quoted">'chinese-pyim</span>)</span></span><br><span class="line">               <span class="list">(<span class="keyword">eq</span> <span class="quoted">'file</span> <span class="list">(<span class="keyword">emms-track-type</span> track)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-artist-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-artist</span>)</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-album-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-album</span>)</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-track-set</span> track <span class="quoted">'info-title-alias</span> <span class="list">(<span class="keyword">pyim-hanzi2pinyin</span> <span class="list">(<span class="keyword">emms-track-get</span> track <span class="quoted">'info-title</span>)</span> <span class="literal">t</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#32622; EMMS &amp;#27983;&amp;#35272;&amp;#22120;, &amp;#40664;&amp;#35748;&amp;#26174;&amp;#31034;&amp;#26041;&amp;#24335;&amp;#20026;: &amp;#26174;&amp;#31034;&amp;#25152;&amp;#26377;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-set-filter</span> <span class="list">(<span class="keyword">assoc</span> <span class="string">"EVERYTHING"</span> emms-browser-filters)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: &amp;#26174;&amp;#31034;&amp;#25152;&amp;#26377;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"EVERYTHING"</span> <span class="quoted">'ignore</span>)</span></span><br><span class="line">  <span class="comment">;; filter: &amp;#21482;&amp;#26174;&amp;#31034;&amp;#25991;&amp;#20214;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"ALL-FILES"</span> <span class="list">(<span class="keyword">emms-browser-filter-only-type</span> <span class="quoted">'file</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: &amp;#26368;&amp;#36817;&amp;#19968;&amp;#20010;&amp;#26143;&amp;#26399;&amp;#25773;&amp;#25918;&amp;#30340;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"LAST-WEEK"</span> <span class="list">(<span class="keyword">emms-browser-filter-only-recent</span> <span class="number">7</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; filter: &amp;#26368;&amp;#36817;&amp;#19968;&amp;#20010;&amp;#26376;&amp;#37117;&amp;#27809;&amp;#26377;&amp;#25773;&amp;#25918;&amp;#30340;</span></span><br><span class="line">  <span class="list">(<span class="keyword">emms-browser-make-filter</span> <span class="string">"LAST-MONTH-NOT-PLAYED"</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">track</span>)</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">funcall</span> <span class="list">(<span class="keyword">emms-browser-filter-only-recent</span> <span class="number">30</span>)</span> track)</span>)</span>)</span>)</span></span><br><span class="line">  <span class="comment">;; EMMS &amp;#27983;&amp;#35272;&amp;#22120;, &amp;#21024;&amp;#38500;&amp;#25991;&amp;#20214;&amp;#19981;&amp;#25552;&amp;#37266;</span></span><br><span class="line">  <span class="list">(<span class="keyword">put</span> <span class="quoted">'emms-browser-delete-files</span> <span class="quoted">'disabled</span> <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#35774;&amp;#32622; emms buffer &amp;#26174;&amp;#31034;&amp;#26684;&amp;#24335;</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-artist-format <span class="string">"* %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-album-format  <span class="string">"  - %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-info-title-format  <span class="string">"    &amp;#9834;. %n"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> emms-browser-playlist-info-title-format <span class="string">"%n"</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#33258;&amp;#23450;&amp;#20041; emms-browser-add-tracks, &amp;#31105;&amp;#27490;&amp;#22312; playlist &amp;#25991;&amp;#20214;&amp;#20013;&amp;#28155;&amp;#21152;</span></span><br><span class="line">  <span class="comment">;; artist &amp;#34892; &amp;#21644; album &amp;#34892;&amp;#65292;&amp;#21516;&amp;#26102;&amp;#20351; emacs-browser-playlist-*-*-format</span></span><br><span class="line">  <span class="comment">;; &amp;#20013; "%i"&amp;#20301;&amp;#32622;&amp;#31526;&amp;#22833;&amp;#25928;</span></span><br><span class="line">  <span class="comment">;;</span></span><br><span class="line">  <span class="comment">;; &amp;#27880;: emms-browser-playlist-info-artist-format</span></span><br><span class="line">  <span class="comment">;;     emms-browser-playlist-info-album-format</span></span><br><span class="line">  <span class="comment">;;     &amp;#20004;&amp;#20010;&amp;#21464;&amp;#37327;&amp;#35774;&amp;#32622;&amp;#22312;&amp;#36825;&amp;#37324;&amp;#19981;&amp;#36215;&amp;#20316;&amp;#29992;</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-add-tracks <span class="list">()</span></span><br><span class="line">    <span class="string">"Add all tracks at point.</span><br><span class="line">Return the previous point-max before adding."</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">first-new-track</span> <span class="list">(<span class="keyword">with-current-emms-playlist</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">bdata</span> <span class="list">(<span class="keyword">emms-browser-bdata-at-point</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">eh-emms-browser-playlist-insert-bdata</span> bdata)</span></span><br><span class="line">      <span class="list">(<span class="keyword">run-hook-with-args</span> <span class="quoted">'emms-browser-tracks-added-hook</span></span><br><span class="line">                          first-new-track)</span></span><br><span class="line">      first-new-track)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-playlist-insert-bdata <span class="list">(<span class="keyword">bdata</span>)</span></span><br><span class="line">    <span class="string">"Add all tracks in BDATA to the playlist."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">type</span> <span class="list">(<span class="keyword">emms-browser-bdata-type</span> bdata)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; recurse or add tracks</span></span><br><span class="line">      <span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">item</span> <span class="list">(<span class="keyword">emms-browser-bdata-data</span> bdata)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">eq</span> type <span class="quoted">'info-title</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">eh-emms-browser-playlist-insert-bdata</span> item)</span></span><br><span class="line">          <span class="list">(<span class="keyword">emms-browser-playlist-insert-track</span> bdata)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-make-name <span class="list">(<span class="keyword">entry</span> type)</span></span><br><span class="line">    <span class="string">"Override `emms-browser-make-name'. Return a name for ENTRY, used for making a bdata object."</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">key</span> <span class="list">(<span class="keyword">car</span> entry)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">track</span> <span class="list">(<span class="keyword">cadr</span> entry)</span>)</span></span><br><span class="line">          artist title)</span> <span class="comment">;; only the first track</span></span><br><span class="line">      <span class="list">(<span class="keyword">cond</span></span><br><span class="line">       <span class="list">(<span class="list">(<span class="keyword">eq</span> type <span class="quoted">'info-title</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">eh-emms-make-track-description</span> track)</span>)</span></span><br><span class="line">       <span class="list">(<span class="keyword">t</span> key)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">advice-add</span> <span class="quoted">'emms-browser-make-name</span> <span class="keyword">:override</span> <span class="quoted">#'eh-emms-browser-make-name</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; &amp;#24555;&amp;#25463;&amp;#20989;&amp;#25968;</span></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-toggle-playing <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> emms-player-playing-p</span><br><span class="line">        <span class="list">(<span class="keyword">emms-pause</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">emms-start</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-search <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">call-interactively</span> <span class="quoted">'isearch-forward</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">or</span> <span class="list">(<span class="keyword">null</span> emms-playlist-buffer)</span></span><br><span class="line">            <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">buffer-live-p</span> emms-playlist-buffer)</span>)</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">playlist</span> <span class="list">(<span class="keyword">concat</span></span><br><span class="line">                         <span class="list">(<span class="keyword">file-name-as-directory</span> emms-source-file-default-directory)</span></span><br><span class="line">                         <span class="string">"default.playlist"</span>)</span>)</span>)</span></span><br><span class="line">          <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">file-readable-p</span> playlist)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">eh-emms-add-directory-tree</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">emms-add-playlist</span> playlist)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-playlist-mode-go</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-add-directory-tree <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-add-directory-tree</span></span><br><span class="line">     <span class="list">(<span class="keyword">ido-read-directory-name</span></span><br><span class="line">      <span class="string">"Add directory tree:"</span></span><br><span class="line">      emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-add-file <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">file</span> <span class="list">(<span class="keyword">ido-read-file-name</span></span><br><span class="line">                 <span class="string">"Add directory tree:"</span></span><br><span class="line">                 emms-source-file-default-directory)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">cond</span></span><br><span class="line">       <span class="list">(<span class="list">(<span class="keyword">string-match</span> <span class="string">"\\.\\(m3u\\|pls\\)\\'"</span> file)</span></span><br><span class="line">        <span class="list">(<span class="keyword">emms-add-playlist</span> file)</span>)</span></span><br><span class="line">       <span class="list">(<span class="keyword">t</span> <span class="list">(<span class="keyword">emms-add-file</span> file)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-names <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-artist info-artist-alias info-title info-title-alias info-album info-album-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-artist <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-artist info-artist-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> eh-emms-browser-search-by-title <span class="list">()</span></span><br><span class="line">    <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">emms-browser-search</span> <span class="quoted">'(info-title info-title-alias)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'emms-info-functions</span> <span class="quoted">'emms-info-cueinfo</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">evil-add-hjkl-bindings</span> emms-playlist-mode-map <span class="quoted">'emacs</span>)</span></span><br><span class="line">  <span class="comment">;; Global keybinding for emms</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-unset-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e"</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e e"</span>)</span> <span class="quoted">'eh-emms</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e d"</span>)</span> <span class="quoted">'eh-emms-add-directory-tree</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e f"</span>)</span> <span class="quoted">'eh-emms-add-file</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e SPC"</span>)</span> <span class="quoted">'eh-emms-toggle-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e q"</span>)</span> <span class="quoted">'emms-stop</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e n"</span>)</span> <span class="quoted">'emms-next</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e p"</span>)</span> <span class="quoted">'emms-previous</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e o"</span>)</span> <span class="quoted">'emms-show</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e h"</span>)</span> <span class="quoted">'emms-shuffle</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e H"</span>)</span> <span class="quoted">'emms-sort</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e r"</span>)</span>   <span class="quoted">'emms-toggle-repeat-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e R"</span>)</span>   <span class="quoted">'emms-toggle-repeat-playlist</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s u"</span>)</span> <span class="quoted">'emms-score-up-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s d"</span>)</span> <span class="quoted">'emms-score-down-playing</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-c e s o"</span>)</span> <span class="quoted">'emms-score-show-playing</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; browser mode map</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"SPC"</span>)</span> <span class="quoted">'emms-browser-next-non-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;return&amp;gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">eh-emms-browser-add-tracks</span>)</span></span><br><span class="line">                                                       <span class="list">(<span class="keyword">message</span> <span class="string">"Add current track to playlist"</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-SPC"</span>)</span> <span class="quoted">'emms-browser-next-non-track</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;tab&amp;gt;"</span>)</span> <span class="quoted">'emms-browser-toggle-subitems</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"o"</span>)</span> <span class="quoted">'emms-playlist-mode-go</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"w"</span>)</span> <span class="quoted">'emms-browser-show-LAST-WEEK</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"a"</span>)</span> <span class="quoted">'emms-browser-show-EVERYTHING</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"m"</span>)</span> <span class="quoted">'emms-browser-show-LAST-MONTH-NOT-PLAYED</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s s"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-names</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s a"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-artist</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-browser-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"s t"</span>)</span> <span class="quoted">'eh-emms-browser-search-by-title</span>)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">;; playlist-mode-map</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"o"</span>)</span> <span class="quoted">'emms-browser-show-LAST-WEEK</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"SPC"</span>)</span> <span class="quoted">'emms-pause</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"/"</span>)</span> <span class="quoted">'eh-emms-search</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"+"</span>)</span> <span class="quoted">'emms-volume-raise</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"-"</span>)</span> <span class="quoted">'emms-volume-lower</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&amp;lt;right&amp;gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">+10</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&amp;lt;left&amp;gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">-10</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&amp;lt;right&amp;gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">+60</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-&amp;lt;left&amp;gt;"</span>)</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">interactive</span>)</span> <span class="list">(<span class="keyword">emms-seek</span> <span class="number">-60</span>)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S u"</span>)</span> <span class="quoted">'emms-score-up-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S d"</span>)</span> <span class="quoted">'emms-score-down-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S o"</span>)</span> <span class="quoted">'emms-score-show-file-on-line</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S l"</span>)</span> <span class="quoted">'emms-score-less-tolerant</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S m"</span>)</span> <span class="quoted">'emms-score-more-tolerant</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S t"</span>)</span> <span class="quoted">'emms-score-set-tolerance</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">define-key</span> emms-playlist-mode-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"S s"</span>)</span> <span class="quoted">'emms-score-show-playing</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; https://www.gnu.org/software/emms/manual/#Introduction</span></span><br><span class="line"><span class="comment">;; (require 'emms-setup)</span></span><br><span class="line"><span class="comment">;; (emms-all)</span></span><br><span class="line"><span class="comment">;; (emms-default-players)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;; (setq emms-directory "~/Music/.emms")</span></span><br><span class="line"><span class="comment">;; (setq emms-cache-file "~/Music/.emms/cache")</span></span><br><span class="line"><span class="comment">;; (setq emms-score-file "~/Music/.emms/scores")</span></span><br><span class="line"><span class="comment">;; (setq emms-history-file "~/Music/.emms/history")</span></span><br><span class="line"><span class="comment">;; (setq emms-source-file-default-directory "~/Music/")</span></span><br><span class="line"><span class="comment">;; (emms-history-load)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/declare-prefix</span> <span class="string">"oe"</span> <span class="string">"Emms-Music"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oee"</span> <span class="quoted">'emms</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oea"</span> <span class="quoted">'emms-add-directory-tree</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oef"</span> <span class="quoted">'emms-play-file</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oes"</span> <span class="quoted">'emms-stop</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oen"</span> <span class="quoted">'emms-next</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oep"</span> <span class="quoted">'emms-previous</span>)</span></span><br><span class="line"></span></span></span></span></span></span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org5f61471" class="outline-2">
<h2 id="org5f61471">Other customization</h2>
<div class="outline-text-2" id="text-org5f61471">
<p>
This part is some customization not belong to the anterior part.
</p>
</div>

<div id="outline-container-org83f7e12" class="outline-3">
<h3 id="org83f7e12">Column indicator</h3>
<div class="outline-text-3" id="text-org83f7e12">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'fill-column-indicator</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> fci-rule-column <span class="number">80</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'prog-mode-hook</span> <span class="quoted">'fci-mode</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'git-commit-mode-hook</span> <span class="quoted">'fci-mode</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org67794f8" class="outline-3">
<h3 id="org67794f8">Disable auto paste from clipboard</h3>
<div class="outline-text-3" id="text-org67794f8">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'spacemacs-buffer-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line"><span class="list">(<span class="keyword">set</span> <span class="list">(<span class="keyword">make-local-variable</span> <span class="quoted">'mouse-1-click-follows-link</span>)</span> <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org741c5b9" class="outline-3">
<h3 id="org741c5b9">Truncate lines automatically</h3>
<div class="outline-text-3" id="text-org741c5b9">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'magit-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'org-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'R-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span> <span class="list">(<span class="keyword">setq</span> truncate-lines <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgbe22a97" class="outline-3">
<h3 id="orgbe22a97">Hotspots</h3>
<div class="outline-text-3" id="text-orgbe22a97">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/hotspots <span class="list">()</span></span><br><span class="line">  <span class="string">"helm interface to my hotspots, which includes my locations,</span><br><span class="line">org-files and bookmarks"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">helm</span> <span class="keyword">:buffer</span> <span class="string">"*helm: utities*"</span></span><br><span class="line">        <span class="keyword">:sources</span> <span class="quoted">`(,(lengyueyang//hotspots-sources))</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang//hotspots-sources <span class="list">()</span></span><br><span class="line">  <span class="string">"Construct the helm sources for my hotspots"</span></span><br><span class="line">  <span class="quoted">`((name . <span class="string">"lengyueyang's center"</span>)</span><br><span class="line">    (candidates . (</span><br><span class="line">                   (<span class="string">"Agenda List"</span> . (lambda () (org-agenda <span class="string">""</span> <span class="string">"a"</span>)))</span><br><span class="line">                   (<span class="string">"Agenda Menu"</span> . (lambda () (org-agenda)))</span><br><span class="line">                   (<span class="string">"Blog"</span> . (lambda() (blog-admin-start)))</span><br><span class="line">                   (<span class="string">"Elfeed"</span> . (lambda () (elfeed)))</span><br><span class="line">                   ;; (<span class="string">"Agenda Next TODO"</span> . (lambda () (org-agenda <span class="string">""</span> <span class="string">"t"</span>)))</span><br><span class="line">                   (<span class="string">"Open Github"</span> . (lambda() (browse-url <span class="string">"https://github.com/lengyueyang"</span>)))</span><br><span class="line">                   (<span class="string">"Open Blog"</span> . (lambda() (browse-url <span class="string">"http://lengyueyang.github.io"</span>)))))</span><br><span class="line">    (candidate-number-limit)</span><br><span class="line">    (action . ((<span class="string">"Open"</span> . (lambda (x) (funcall x))))))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> global-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"&amp;lt;f1&amp;gt;"</span>)</span> <span class="quoted">'lengyueyang/hotspots</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">spacemacs/set-leader-keys</span> <span class="string">"oh"</span> <span class="quoted">'lengyueyang/hotspots</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgd0e23ea" class="outline-3">
<h3 id="orgd0e23ea">Count chinese word</h3>
<div class="outline-text-3" id="text-orgd0e23ea">
<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-chinese-char-and-punc</span><br><span class="line">  <span class="list">(<span class="keyword">rx</span> <span class="list">(<span class="keyword">category</span> chinese)</span>)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-chinese-punc</span><br><span class="line">  <span class="string">"[&amp;#12290;&amp;#65292;&amp;#65281;&amp;#65311;&amp;#65307;&amp;#65306;&amp;#12300;&amp;#12301;&amp;#12302;&amp;#12303;&amp;#65288;&amp;#65289;&amp;#12289;&amp;#12304;&amp;#12305;&amp;#12298;&amp;#12299;&amp;#12296;&amp;#12297;&amp;#8251;&amp;#8212;]"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">defvar</span> wc-regexp-english-word</span><br><span class="line">  <span class="string">"[a-zA-Z0-9-]+"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> lengyueyang/word-count-for-chinese <span class="list">()</span></span><br><span class="line">  <span class="string">"&amp;#12300;&amp;#36611;&amp;#31934;&amp;#30906;&amp;#22320;&amp;#12301;&amp;#32113;&amp;#35336;&amp;#20013; / &amp;#26085; / &amp;#33521;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#12290;</span><br><span class="line">- &amp;#25991;&amp;#31456;&amp;#20013;&amp;#30340;&amp;#35387;&amp;#35299;&amp;#19981;&amp;#31639;&amp;#22312;&amp;#23383;&amp;#25976;&amp;#20839;&amp;#12290;</span><br><span class="line">- &amp;#24179;&amp;#20551;&amp;#21517;&amp;#33287;&amp;#29255;&amp;#20551;&amp;#21517;&amp;#20134;&amp;#21253;&amp;#21547;&amp;#22312;&amp;#12300;&amp;#20013;&amp;#26085;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#12301;&amp;#20839;&amp;#65292;&amp;#27599;&amp;#20491;&amp;#24179; / &amp;#29255;&amp;#20551;&amp;#21517;&amp;#37117;&amp;#31639;&amp;#21934;&amp;#29544;&amp;#19968;&amp;#20491;&amp;#23383;&amp;#65288;&amp;#20294;&amp;#29255;&amp;#20551;</span><br><span class="line">  &amp;#21517;&amp;#19981;&amp;#21547;&amp;#36899;&amp;#38899;&amp;#12300;&amp;#12540;&amp;#12301;&amp;#65289;&amp;#12290;</span><br><span class="line">- &amp;#33521;&amp;#25991;&amp;#21482;&amp;#35336;&amp;#31639;&amp;#12300;&amp;#21934;&amp;#23383;&amp;#25976;&amp;#12301;&amp;#65292;&amp;#19981;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#12290;</span><br><span class="line">- &amp;#38867;&amp;#25991;&amp;#19981;&amp;#21253;&amp;#21547;&amp;#22312;&amp;#20839;&amp;#12290;</span><br><span class="line">&amp;#8251;&amp;#35336;&amp;#31639;&amp;#27161;&amp;#28310;&amp;#22826;&amp;#22810;&amp;#31278;&amp;#20102;&amp;#65292;&amp;#20363;&amp;#22914;&amp;#33521;&amp;#25991;&amp;#27161;&amp;#40670;&amp;#26159;&amp;#21542;&amp;#31639;&amp;#20837;&amp;#12289;&amp;#20197;&amp;#21450;&amp;#21487;&amp;#33021;&amp;#26377;&amp;#19981;&amp;#22826;&amp;#24120;&amp;#29992;&amp;#30340;&amp;#27161;&amp;#40670;&amp;#31526;&amp;#34399;&amp;#27794;&amp;#31639;&amp;#20837;&amp;#31561;</span><br><span class="line">&amp;#12290;&amp;#19988;&amp;#20013;&amp;#26085;&amp;#25991;&amp;#27161;&amp;#40670;&amp;#30340;&amp;#35336;&amp;#31639;&amp;#27161;&amp;#28310;&amp;#35201;&amp;#30475; Emacs &amp;#22914;&amp;#20309;&amp;#23450;&amp;#32681;&amp;#29305;&amp;#27530;&amp;#27161;&amp;#40670;&amp;#31526;&amp;#34399;&amp;#22914;&amp;#12532;&amp;#12449;&amp;#12521;&amp;#12531;&amp;#12479;&amp;#12531;&amp;#12539;&amp;#12450;&amp;#12523;&amp;#12459;&amp;#12531;</span><br><span class="line">&amp;#20013;&amp;#38291;&amp;#30340;&amp;#40670;&amp;#20063;&amp;#34987; Emacs &amp;#31639;&amp;#28858;&amp;#19968;&amp;#20491;&amp;#23383;&amp;#32780;&amp;#19981;&amp;#26159;&amp;#27161;&amp;#40670;&amp;#31526;&amp;#34399;&amp;#12290;"</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let*</span> <span class="list">(<span class="list">(<span class="keyword">v-buffer-string</span></span><br><span class="line">          <span class="list">(<span class="keyword">progn</span></span><br><span class="line">            <span class="list">(<span class="keyword">if</span> <span class="list">(<span class="keyword">eq</span> major-mode <span class="quoted">'org-mode</span>)</span> <span class="comment">; &amp;#21435;&amp;#25481; org &amp;#25991;&amp;#20214;&amp;#30340; OPTIONS&amp;#65288;&amp;#20197; #+ &amp;#38283;&amp;#38957;&amp;#65289;</span></span><br><span class="line">                <span class="list">(<span class="keyword">setq</span> v-buffer-string <span class="list">(<span class="keyword">replace-regexp-in-string</span> <span class="string">"^#\\+.+"</span> <span class="string">""</span></span><br><span class="line">                                                                <span class="list">(<span class="keyword">buffer-substring-no-properties</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> v-buffer-string <span class="list">(<span class="keyword">buffer-substring-no-properties</span> <span class="list">(<span class="keyword">point-min</span>)</span> <span class="list">(<span class="keyword">point-max</span>)</span>)</span>)</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">replace-regexp-in-string</span> <span class="list">(<span class="keyword">format</span> <span class="string">"^ *%s *.+"</span> comment-start)</span> <span class="string">""</span> v-buffer-string)</span>)</span>)</span></span><br><span class="line">                                        <span class="comment">; &amp;#25226;&amp;#35387;&amp;#35299;&amp;#34892;&amp;#21034;&amp;#25481;&amp;#65288;&amp;#19981;&amp;#25226;&amp;#35387;&amp;#35299;&amp;#31639;&amp;#36914;&amp;#23383;&amp;#25976;&amp;#65289;&amp;#12290;</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-char-and-punc</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-punc</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">english-word</span> <span class="number">0</span>)</span></span><br><span class="line">         <span class="list">(<span class="keyword">chinese-char</span> <span class="number">0</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">with-temp-buffer</span></span><br><span class="line">      <span class="list">(<span class="keyword">insert</span> v-buffer-string)</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; &amp;#20013;&amp;#25991;&amp;#65288;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#12289;&amp;#29255;&amp;#20551;&amp;#21517;&amp;#65289;</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-chinese-char-and-punc <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> chinese-char-and-punc <span class="list">(<span class="number">1</span>+ chinese-char-and-punc)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; &amp;#20013;&amp;#25991;&amp;#27161;&amp;#40670;&amp;#31526;&amp;#34399;</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-chinese-punc <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> chinese-punc <span class="list">(<span class="number">1</span>+ chinese-punc)</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; &amp;#33521;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#65288;&amp;#19981;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#65289;</span></span><br><span class="line">      <span class="list">(<span class="keyword">goto-char</span> <span class="list">(<span class="keyword">point-min</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">while</span> <span class="list">(<span class="keyword">re-search-forward</span> wc-regexp-english-word <span class="literal">nil</span> <span class="keyword">:no-error</span>)</span></span><br><span class="line">        <span class="list">(<span class="keyword">setq</span> english-word <span class="list">(<span class="number">1</span>+ english-word)</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">setq</span> chinese-char <span class="list">(<span class="keyword">-</span> chinese-char-and-punc chinese-punc)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">message</span></span><br><span class="line">     <span class="list">(<span class="keyword">format</span> <span class="string">" &amp;#20013;&amp;#26085;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#65288;&amp;#19981;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#65289;&amp;#65306;%s</span><br><span class="line"> &amp;#20013;&amp;#26085;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#65288;&amp;#21253;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#65289;&amp;#65306;%s</span><br><span class="line"> &amp;#33521;&amp;#25991;&amp;#23383;&amp;#25976;&amp;#65288;&amp;#19981;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#65289;&amp;#65306;%s</span><br><span class="line">=======================</span><br><span class="line"> &amp;#20013;&amp;#33521;&amp;#25991;&amp;#21512;&amp;#35336;&amp;#65288;&amp;#19981;&amp;#21547;&amp;#27161;&amp;#40670;&amp;#65289;&amp;#65306;%s"</span></span><br><span class="line">             chinese-char chinese-char-and-punc english-word</span><br><span class="line">             <span class="list">(<span class="keyword">+</span> chinese-char english-word)</span>)</span>)</span>)</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org4f1ba2d" class="outline-3">
<h3 id="org4f1ba2d">Display Calendar numbers in calendar-mode</h3>
<div class="outline-text-3" id="text-org4f1ba2d">
<p>
Define a function to display week numbers in <code>calender-mode</code>. The snippet
is from <a href="http://www.emacswiki.org/emacs/CalendarWeekNumbers" target="_blank" rel="external">EmacsWiki</a>.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> calendar-show-week <span class="list">(<span class="keyword">arg</span>)</span></span><br><span class="line">  <span class="string">"Displaying week number in calendar-mode."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span> <span class="string">"P"</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">copy-face</span> font-lock-constant-face <span class="quoted">'calendar-iso-week-face</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">set-face-attribute</span></span><br><span class="line">   <span class="quoted">'calendar-iso-week-face</span> <span class="literal">nil</span> <span class="keyword">:height</span> <span class="number">0.7</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> calendar-intermonth-text</span><br><span class="line">        <span class="list">(<span class="keyword">and</span> arg</span><br><span class="line">             <span class="quoted">'(propertize</span><br><span class="line">               (format</span><br><span class="line">                <span class="string">"%2d"</span></span><br><span class="line">                (car (calendar-iso-from-absolute</span><br><span class="line">                      (calendar-absolute-from-gregorian</span><br><span class="line">                       (list month day year)))))</span><br><span class="line">               'font-lock-face 'calendar-iso-week-face)</span>)</span>)</span>)</span></span><br></pre></td></tr></table></figure>
</div>

<p>
Evaluate the <code>calendar-show-week</code> function.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">calendar-show-week</span> <span class="literal">t</span>)</span></span><br></pre></td></tr></table></figure>
</div>

<p>
Set Monday as the first day of the week, and set my location.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">setq</span> calendar-week-start-day <span class="number">1</span></span><br><span class="line">      calendar-latitude <span class="number">39.92</span></span><br><span class="line">      calendar-longitude <span class="number">116.46</span></span><br><span class="line">      calendar-location-name <span class="string">"Beijing, China"</span>)</span></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-org0ad599b" class="outline-3">
<h3 id="org0ad599b">End of configuration</h3>
<div class="outline-text-3" id="text-org0ad599b">
<p>
Oh YA!! We finish loading emacs configuration :)
</p>

<p>
However, since we use <code>req-package</code> for loading and installing packages, be sure
to execute following line to send <code>req-package</code> on its merry way.
</p>

<div class="org-src-container">
<figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">req-package-finish</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>

<div id="outline-container-org52bec67" class="outline-2">
<h2 id="org52bec67">Reference</h2>
<div class="outline-text-2" id="text-org52bec67">
<p>
Following link is refrence for my emac config.
</p>

<p>
<code>[1]</code> <a href="https://github.com/r0man/.emacs.d/blob/master/init.el.org" target="_blank" rel="external">https://github.com/r0man/.emacs.d/blob/master/init.el.org</a>
</p>

<p>
<code>[2]</code> <a href="https://github.com/bodil/emacs.d" target="_blank" rel="external">https://github.com/bodil/emacs.d</a>
</p>

<p>
<code>[3]</code> <a href="https://github.com/mgalgs/.emacs.d" target="_blank" rel="external">https://github.com/mgalgs/.emacs.d</a>
</p>

<p>
<code>[4]</code> <a href="https://raw.githubusercontent.com/sbisaacson/literate-emacs/master/README.org" target="_blank" rel="external">https://raw.githubusercontent.com/sbisaacson/literate-emacs/master/README.org</a>
</p>

<p>
<code>[5]</code> <a href="https://github.com/jhenahan/emacs.d/blob/master/emacs-init.org" target="_blank" rel="external">https://github.com/jhenahan/emacs.d/blob/master/emacs-init.org</a>
</p>

<p>
<code>[6]</code> <a href="https://ryuslash.org/dotfiles/emacs/init.html" target="_blank" rel="external">https://ryuslash.org/dotfiles/emacs/init.html</a>
</p>

<p>
<code>[7]</code> <a href="http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.org_.txt" target="_blank" rel="external">http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.org_.txt</a>
</p>

<p>
<code>[8]</code> <a href="https://github.com/howardabrams/dot-files" target="_blank" rel="external">https://github.com/howardabrams/dot-files</a>
</p>

<p>
<code>[9]</code> <a href="https://github.com/coldnew/coldnew-spacemacs" target="_blank" rel="external">https://github.com/coldnew/coldnew-spacemacs</a>
</p>
</div>
</div>

Last Updated 2017-04-08 Sat 11:29 by lengyueyang<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="external">hexo-renderer-org</a> with <a href="http://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs</a> 25.2.1 (<a href="http://orgmode.org" target="_blank" rel="external">Org</a> mode 9.0.7)

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/gongzhonghao.jpg" alt="冷月阳 wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>


      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/weixin.jpg" alt="冷月阳 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/zhifubao.jpg" alt="冷月阳 Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Spaceacs/" rel="tag">#Spaceacs</a>
          
            <a href="/tags/lengyueyang/" rel="tag">#lengyueyang</a>
          
            <a href="/tags/Configuration/" rel="tag">#Configuration</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/08/数据科学-数学和统计-概率论与数理统计-事件的概率/" rel="next" title="数据科学-数学和统计-概率论与数理统计-事件的概率">
                <i class="fa fa-chevron-left"></i> 数据科学-数学和统计-概率论与数理统计-事件的概率
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/15/房子，北京/" rel="prev" title="房子，北京">
                房子，北京 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="冷月阳" />
          <p class="site-author-name" itemprop="name">冷月阳</p>
           
              <p class="site-description motion-element" itemprop="description">静静思考   感悟人生</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/lengyueyang" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:maoxiaowei1988@foxmail.com" target="_blank" title="Email">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Email
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/xiaowei.hl" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/maoxiaowei" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/leng-yue-40-23" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.ncbi.nlm.nih.gov/pubmed" title="Pubmed" target="_blank">Pubmed</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.archlinux.org/" title="Archlinux" target="_blank">Archlinux</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.gnuemacs.org/" title="Emacs" target="_blank">Emacs</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#org1d9bb47"><span class="nav-number">1.</span> <span class="nav-text">Introduction: Emacs Configuration in an Org File</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#orgaf48dfd"><span class="nav-number">1.1.</span> <span class="nav-text">Custom.el setup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org9326f30"><span class="nav-number">1.2.</span> <span class="nav-text">Org-mode to customize emacs configuration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org2be7bc6"><span class="nav-number">1.3.</span> <span class="nav-text">Req-package</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#orga5526ea"><span class="nav-number">1.3.1.</span> <span class="nav-text">Initialize req-package</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org83a4648"><span class="nav-number">1.3.2.</span> <span class="nav-text">Start loading packages in right order</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgae1abe5"><span class="nav-number">2.</span> <span class="nav-text">Keybinding</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#org82bea19"><span class="nav-number">2.1.</span> <span class="nav-text">F2 to open my init file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgfa3a403"><span class="nav-number">2.2.</span> <span class="nav-text">F3 to open stardict</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgbb3fa4b"><span class="nav-number">2.3.</span> <span class="nav-text">F8 to checkout the spelling of words</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org145aa36"><span class="nav-number">2.4.</span> <span class="nav-text">Org-iswitch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgbf310f8"><span class="nav-number">2.5.</span> <span class="nav-text">Bookmark keybindings reconfiguration</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org9b5b2d7"><span class="nav-number">3.</span> <span class="nav-text">Spacemacs better defaults</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#org803197a"><span class="nav-number">3.1.</span> <span class="nav-text">Markdown mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org8645168"><span class="nav-number">3.2.</span> <span class="nav-text">Spacemacs-layout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgb8e93a3"><span class="nav-number">3.3.</span> <span class="nav-text">Deft</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org9e38205"><span class="nav-number">3.4.</span> <span class="nav-text">Elfeed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orga282b75"><span class="nav-number">3.5.</span> <span class="nav-text">Gnus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org49dcd4d"><span class="nav-number">3.6.</span> <span class="nav-text">Mu4e</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org1975d82"><span class="nav-number">3.7.</span> <span class="nav-text">Magit</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#orgc42220a"><span class="nav-number">3.7.1.</span> <span class="nav-text">Magit auto complete</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf584b48"><span class="nav-number">4.</span> <span class="nav-text">Basic setup</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#orgbe322d5"><span class="nav-number">4.1.</span> <span class="nav-text">Personal information setup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orge7b8cda"><span class="nav-number">4.2.</span> <span class="nav-text">Don't ask me when kill process buffer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org0fe7d50"><span class="nav-number">4.3.</span> <span class="nav-text">Set the chinese font alignment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgce3e32c"><span class="nav-number">4.4.</span> <span class="nav-text">Add auto format paste code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org8dfbe4d"><span class="nav-number">4.5.</span> <span class="nav-text">Simple better defaults</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orga9fb6d3"><span class="nav-number">4.6.</span> <span class="nav-text">Large file handle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org6081f90"><span class="nav-number">4.7.</span> <span class="nav-text">Buffers   buffer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#org6b88082"><span class="nav-number">4.7.1.</span> <span class="nav-text">Indent whole buffer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org35baa9d"><span class="nav-number">4.7.2.</span> <span class="nav-text">Quick folding source block</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org08f28ff"><span class="nav-number">4.8.</span> <span class="nav-text">Edit (Insert/Remove)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#org918bab3"><span class="nav-number">4.8.1.</span> <span class="nav-text">Insert U200B char</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org6b20bd2"><span class="nav-number">4.8.2.</span> <span class="nav-text">Insert empty line after current line</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org7d0711c"><span class="nav-number">4.9.</span> <span class="nav-text">File Handle</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#org26dee10"><span class="nav-number">4.9.1.</span> <span class="nav-text">Reopen file as root</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org18b6613"><span class="nav-number">4.9.2.</span> <span class="nav-text">Delete current buffer file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org0317ab4"><span class="nav-number">4.9.3.</span> <span class="nav-text">Rename current Buffer and file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#orgbbf079e"><span class="nav-number">4.9.4.</span> <span class="nav-text">Add executable attribute to file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#orgde51598"><span class="nav-number">4.9.5.</span> <span class="nav-text">Clone current file to new one</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org67be5d2"><span class="nav-number">4.10.</span> <span class="nav-text">Keeping files in sync</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org6ac4526"><span class="nav-number">4.11.</span> <span class="nav-text">Snippet handle by yasnippet</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#orgda73cf4"><span class="nav-number">4.11.1.</span> <span class="nav-text">Implement org-mode's easy-template like function</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org6edcda0"><span class="nav-number">4.12.</span> <span class="nav-text">Debug</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#orge71db9f"><span class="nav-number">4.12.1.</span> <span class="nav-text">Eval emacs buffer until error</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge52b490"><span class="nav-number">5.</span> <span class="nav-text">Org-mode configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#org2641239"><span class="nav-number">5.1.</span> <span class="nav-text">Better defaults to org</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgab7ea8c"><span class="nav-number">5.2.</span> <span class="nav-text">Org-mode auto complete</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org61b240e"><span class="nav-number">5.3.</span> <span class="nav-text">Org-agenda font size</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orga03688a"><span class="nav-number">5.4.</span> <span class="nav-text">Extend org-mode's easy templates</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org51c967c"><span class="nav-number">5.5.</span> <span class="nav-text">Org columns and properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgce496aa"><span class="nav-number">5.6.</span> <span class="nav-text">Org-ispell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgdc04a5e"><span class="nav-number">5.7.</span> <span class="nav-text">Org bullets customization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org9cbc3ea"><span class="nav-number">5.8.</span> <span class="nav-text">Org-notify</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org11e104e"><span class="nav-number">5.9.</span> <span class="nav-text">Org-pomodoro</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgcb1f1a6"><span class="nav-number">5.10.</span> <span class="nav-text">Org-agenda and capture</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#orgae1ca52"><span class="nav-number">5.10.1.</span> <span class="nav-text">Org-agenda</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#org0d8c25e"><span class="nav-number">5.10.2.</span> <span class="nav-text">Org-capture</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org8734a77"><span class="nav-number">5.11.</span> <span class="nav-text">Add bookmark to orgmode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgd83bb90"><span class="nav-number">5.12.</span> <span class="nav-text">Org-babel customizaton</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org7c54c00"><span class="nav-number">5.13.</span> <span class="nav-text">Ob-ipython and Jupter notebook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org8a3ae02"><span class="nav-number">5.14.</span> <span class="nav-text">Setup link abbreviations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org3399a41"><span class="nav-number">5.15.</span> <span class="nav-text">Org-subtask and org-checklist</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org0599ee3"><span class="nav-number">5.16.</span> <span class="nav-text">Org-archive-all-tasks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgd400c91"><span class="nav-number">5.17.</span> <span class="nav-text">Org-ref customize</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org5c39857"><span class="nav-number">6.</span> <span class="nav-text">Programming Languages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#org7ba99e6"><span class="nav-number">6.1.</span> <span class="nav-text">Yasnippet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org6fe1dac"><span class="nav-number">6.2.</span> <span class="nav-text">Add support for editorconfig</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgf21b29c"><span class="nav-number">6.3.</span> <span class="nav-text">Ess and R</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org81f0fa2"><span class="nav-number">6.4.</span> <span class="nav-text">Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org539ba26"><span class="nav-number">6.5.</span> <span class="nav-text">JS-2 mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgdffde2a"><span class="nav-number">6.6.</span> <span class="nav-text">Elisp enhanced</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#org55ddbd2"><span class="nav-number">6.6.1.</span> <span class="nav-text">Emacs Lisp 自动配对问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org477c909"><span class="nav-number">7.</span> <span class="nav-text">External package besides spacemacs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#orgf4822cb"><span class="nav-number">7.1.</span> <span class="nav-text">Use emmet-mode to add Zen Coding support</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgc47c30e"><span class="nav-number">7.2.</span> <span class="nav-text">Hungry-delete</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orga17b765"><span class="nav-number">7.3.</span> <span class="nav-text">Pangu-spacing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org014888e"><span class="nav-number">7.4.</span> <span class="nav-text">Bold-admin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org326ebe6"><span class="nav-number">7.5.</span> <span class="nav-text">Hexo configuration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org4a6f72d"><span class="nav-number">7.6.</span> <span class="nav-text">Use emms to play music</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org5f61471"><span class="nav-number">8.</span> <span class="nav-text">Other customization</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#org83f7e12"><span class="nav-number">8.1.</span> <span class="nav-text">Column indicator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org67794f8"><span class="nav-number">8.2.</span> <span class="nav-text">Disable auto paste from clipboard</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org741c5b9"><span class="nav-number">8.3.</span> <span class="nav-text">Truncate lines automatically</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgbe22a97"><span class="nav-number">8.4.</span> <span class="nav-text">Hotspots</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orgd0e23ea"><span class="nav-number">8.5.</span> <span class="nav-text">Count chinese word</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org4f1ba2d"><span class="nav-number">8.6.</span> <span class="nav-text">Display Calendar numbers in calendar-mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org0ad599b"><span class="nav-number">8.7.</span> <span class="nav-text">End of configuration</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org52bec67"><span class="nav-number">9.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">冷月阳

  &nbsp;&nbsp;|&nbsp;&nbsp;
  <script type="text/javascript">var 
    cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan id='cnzz_stat_icon_1261429106'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1261429106' type='text/javascript'%3E%3C/script%3E"));
  </script>

  <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx' type='text/javascript'%3E%3C/script%3E"));
  </script>

  &nbsp;&nbsp;|&nbsp;&nbsp;<span><a href="/sitemap.xml">Google网站地图</a></span>
  &nbsp;&nbsp;|&nbsp;&nbsp;<span><a href="/baidusitemap.xml">百度网站地图</a></span>

  </span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


&nbsp;&nbsp;|&nbsp;&nbsp;本站总点击 <span id="busuanzi_value_site_pv"></span> 次
&nbsp;&nbsp;|&nbsp;&nbsp;您是第 <span id="busuanzi_value_site_uv"></span> 位访客

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  


  













  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

</body>
</html>
